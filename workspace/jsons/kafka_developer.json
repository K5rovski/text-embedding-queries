[
{
"h1": {
"urllink": "#what-is-msk",
"text": "Welcome to the Amazon MSK Developer Guide"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/what-is-msk.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/what-is-msk.html#what-is-msk",
"main_header": "Welcome to the Amazon MSK Developer Guide",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#what-is-msk",
"text": "Welcome to the Amazon MSK Developer Guide"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect.html",
"title": "MSK Connect"
}
],
"text": "Create an Amazon MSK cluster by following the Getting Started Using Amazon MSK tutorial.\n\nDive deeper into the functionality of Amazon MSK in Amazon MSK: How It Works.\n\nRun Apache Kafka without having to manage and scale cluster capacity with MSK Serverless.\n\nUse MSK Connect to stream data to and from your Apache Kafka cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/what-is-msk.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/what-is-msk.html#what-is-msk",
"main_header": "Welcome to the Amazon MSK Developer Guide",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#what-is-msk",
"text": "Welcome to the Amazon MSK Developer Guide"
},
"h2": {
"urllink": "#what-is-msk-intro",
"text": "What Is Amazon MSK?"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/what-is-msk.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/what-is-msk.html#what-is-msk-intro",
"main_header": "What Is Amazon MSK?",
"images": [
{
"src": "https://docs.aws.amazon.com/msk/latest/developerguide/images/msk-architecture.png",
"alt": "\n      Diagram showing the architecture of an example Amazon MSK Cluster.\n    "
}
],
"container_type": "div",
"children_tags": [
"img"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#what-is-msk",
"text": "Welcome to the Amazon MSK Developer Guide"
},
"h2": {
"urllink": "#what-is-msk-intro",
"text": "What Is Amazon MSK?"
},
"links": [],
"text": "Broker nodes \u00e2\u0080\u0094 When creating an Amazon MSK cluster, you specify how many broker nodes you want Amazon MSK to create in each Availability Zone. In the example cluster shown in this diagram, there's one broker per Availability Zone. Each Availability Zone has its own virtual private cloud (VPC) subnet.\nZooKeeper nodes \u00e2\u0080\u0094 Amazon MSK also creates the Apache ZooKeeper nodes for you. Apache ZooKeeper is an open-source server that enables highly reliable distributed coordination.Producers, consumers, and topic creators \u00e2\u0080\u0094 Amazon MSK lets you use Apache Kafka data-plane operations to create topics and to produce and consume data.Cluster Operations You can use the AWS Management Console, the AWS Command Line Interface (AWS CLI), or the APIs in the SDK to perform control-plane operations. For example, you can create or delete an Amazon MSK cluster, list all the clusters in an account, view the properties of a cluster, and update the number and type of brokers in a cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/what-is-msk.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/what-is-msk.html#what-is-msk-intro",
"main_header": "What Is Amazon MSK?",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#before-you-begin",
"text": "Setting Up Amazon MSK"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/before-you-begin.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/before-you-begin.html#before-you-begin",
"main_header": "Setting Up Amazon MSK",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#before-you-begin",
"text": "Setting Up Amazon MSK"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/before-you-begin.html#setting-up-sign-up-for-aws",
"title": "Sign Up for AWS"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/before-you-begin.html#setting-up-downloads",
"title": "Download Libraries and Tools"
}
],
"text": "TasksSign Up for AWSDownload Libraries and Tools",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/before-you-begin.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/before-you-begin.html#before-you-begin",
"main_header": "Setting Up Amazon MSK",
"images": [],
"container_type": "div",
"children_tags": [
"p",
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#before-you-begin",
"text": "Setting Up Amazon MSK"
},
"links": [],
"text": "Tasks",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/before-you-begin.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/before-you-begin.html#before-you-begin",
"main_header": "Setting Up Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [
"strong"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#before-you-begin",
"text": "Setting Up Amazon MSK"
},
"h2": {
"urllink": "#setting-up-sign-up-for-aws",
"text": "Sign Up for AWS"
},
"links": [
{
"url": "https://portal.aws.amazon.com/billing/signup",
"title": "https://portal.aws.amazon.com/billing/signup"
}
],
"text": "To sign up for an Amazon Web Services accountOpen https://portal.aws.amazon.com/billing/signup.\nFollow the online instructions.\nPart of the sign-up procedure involves receiving a phone call and entering a verification code on the phone keypad.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/before-you-begin.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/before-you-begin.html#setting-up-sign-up-for-aws",
"main_header": "Sign Up for AWS",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#before-you-begin",
"text": "Setting Up Amazon MSK"
},
"h2": {
"urllink": "#setting-up-sign-up-for-aws",
"text": "Sign Up for AWS"
},
"links": [],
"text": "To sign up for an Amazon Web Services account",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/before-you-begin.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/before-you-begin.html#setting-up-sign-up-for-aws",
"main_header": "Sign Up for AWS",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#before-you-begin",
"text": "Setting Up Amazon MSK"
},
"h2": {
"urllink": "#setting-up-downloads",
"text": "Download Libraries and Tools"
},
"links": [
{
"url": "https://docs.aws.amazon.com/cli/latest/userguide/",
"title": "AWS Command Line Interface (AWS CLI)"
},
{
"url": "https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-install.html",
"title": "Installing the AWS Command Line Interface"
},
{
"url": "https://docs.aws.amazon.com/cli/latest/reference/configure/index.html",
"title": "aws configure"
},
{
"url": "https://docs.aws.amazon.com//msk/1.0/apireference/what-is-servicename.html",
"title": "Amazon Managed Streaming for Kafka API Reference"
},
{
"url": "https://docs.aws.amazon.com/sdk-for-go/api/service/kafka/",
"title": "Go"
},
{
"url": "https://aws.amazon.com/sdk-for-java/",
"title": "Java"
},
{
"url": "https://aws.amazon.com/sdk-for-javascript/",
"title": "JavaScript"
},
{
"url": "https://aws.amazon.com/sdk-for-net/",
"title": ".NET"
},
{
"url": "https://aws.amazon.com/sdk-for-javascript/",
"title": "Node.js"
},
{
"url": "https://aws.amazon.com/developers/getting-started/php/",
"title": "PHP"
},
{
"url": "https://aws.amazon.com/sdk-for-python/",
"title": "Python"
},
{
"url": "https://aws.amazon.com/developers/getting-started/ruby/",
"title": "Ruby"
}
],
"text": "The AWS Command Line Interface (AWS CLI) supports Amazon MSK. The AWS CLI enables you to control multiple Amazon Web Services from the command line and automate them through scripts. Upgrade your AWS CLI to the latest version to ensure that it has support for the Amazon MSK features that are documented in this user guide. For detailed instructions on how to upgrade the AWS CLI, see Installing the AWS Command Line Interface. After you install the AWS CLI, you must configure it. For information on how to configure the AWS CLI, see aws configure.\n\nThe Amazon Managed Streaming for Kafka API Reference documents the API operations that Amazon MSK supports.\n\nThe Amazon Web Services SDKs for Go, Java, JavaScript, .NET, Node.js, PHP, Python, and Ruby include Amazon MSK support and samples.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/before-you-begin.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/before-you-begin.html#setting-up-downloads",
"main_header": "Download Libraries and Tools",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#getting-started",
"text": "Getting Started Using Amazon MSK"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html#getting-started",
"main_header": "Getting Started Using Amazon MSK",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#create-cluster",
"text": "Step 1: Create an Amazon MSK Cluster"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-cluster.html#create-cluster",
"main_header": "Step 1: Create an Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#create-cluster",
"text": "Step 1: Create an Amazon MSK Cluster"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/home?region=us-east-1#/home/",
"title": "https://console.aws.amazon.com/msk/home?region=us-east-1#/home/"
}
],
"text": "To create an Amazon MSK cluster using the AWS Management ConsoleSign in to the AWS Management Console, and open the Amazon MSK console at https://console.aws.amazon.com/msk/home?region=us-east-1#/home/.\nChoose Create cluster.\nFor Cluster name, enter MSKTutorialCluster.\nFrom the table under All cluster settings, copy the values of the following settings and save them because you need them later in this tutorial:\n\nVPCSubnetsSecurity groups associated with VPC\n\nChoose Create cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-cluster.html#create-cluster",
"main_header": "Step 1: Create an Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#create-cluster",
"text": "Step 1: Create an Amazon MSK Cluster"
},
"links": [],
"text": "To create an Amazon MSK cluster using the AWS Management Console",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-cluster.html#create-cluster",
"main_header": "Step 1: Create an Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#create-client-machine",
"text": "Step 2: Create a Client Machine"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-client-machine.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-client-machine.html#create-client-machine",
"main_header": "Step 2: Create a Client Machine",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#create-client-machine",
"text": "Step 2: Create a Client Machine"
},
"links": [
{
"url": "https://console.aws.amazon.com/ec2/",
"title": "https://console.aws.amazon.com/ec2/"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-cluster.html",
"title": "Step 1: Create an Amazon MSK Cluster"
},
{
"url": "https://console.aws.amazon.com/vpc/",
"title": "https://console.aws.amazon.com/vpc/"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-cluster.html",
"title": "Step 1: Create an Amazon MSK Cluster"
}
],
"text": "To create a client machineOpen the Amazon EC2 console at https://console.aws.amazon.com/ec2/.\nChoose Launch instances.\n\nChoose Select to create an instance of Amazon Linux 2 AMI (HVM) - Kernel 5.10, SSD Volume Type.\n\nChoose the t2.xlarge instance type by selecting the check box next to it.\n\nChoose Next: Configure Instance Details.\n\nIn the Network list, choose the VPC whose ID you saved in Step 1: Create an Amazon MSK Cluster.\n\nIn the Auto-assign Public IP list, choose Enable.\n\nIn the menu near the top, choose Add Tags.\n\nChoose Add Tag.\n\nEnter Name for the Key and MSKTutorialClient for the Value.\n\nChoose Review and Launch, and then choose Launch.\n\nChoose Create a new key pair, enter MSKKeyPair for Key pair name, and then choose Download Key Pair. Alternatively, you can use an existing key pair if you prefer.\n\nRead the acknowledgement, select the check box next to it, and choose Launch Instances.\n\nChoose View Instances. Then, in the Security Groups column, choose the security group that is associated with the MSKTutorialClient instance.\n\nCopy the name of the security group, and save it for later.\nOpen the Amazon VPC console at https://console.aws.amazon.com/vpc/.\nIn the navigation pane, choose Security Groups. Find the security group whose ID you saved in Step 1: Create an Amazon MSK Cluster. Choose this row by selecting the check box in the first column.\n\nIn the Inbound Rules tab, choose Edit inbound rules.\n\nChoose Add rule.\n\nIn the new rule, choose All traffic in the Type column. In the second field in the Source column, select the security group of the client machine. This is the group whose name you saved earlier in this step.\n\nChoose Save rules. Now the cluster's security group can accept traffic that comes from the client machine's security group.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-client-machine.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-client-machine.html#create-client-machine",
"main_header": "Step 2: Create a Client Machine",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#create-client-machine",
"text": "Step 2: Create a Client Machine"
},
"links": [],
"text": "To create a client machine",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-client-machine.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-client-machine.html#create-client-machine",
"main_header": "Step 2: Create a Client Machine",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#create-topic",
"text": "Step 3: Create a Topic"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-topic.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-topic.html#create-topic",
"main_header": "Step 3: Create a Topic",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#create-topic",
"text": "Step 3: Create a Topic"
},
"links": [
{
"url": "https://console.aws.amazon.com/ec2/",
"title": "https://console.aws.amazon.com/ec2/"
},
{
"url": "https://www.apache.org/dyn/closer.cgi?path=/kafka/1.1.1/kafka_2.11-1.1.1.tgz",
"title": "Apache"
},
{
"url": "https://console.aws.amazon.com/msk/",
"title": "https://console.aws.amazon.com/msk/"
}
],
"text": "To create a topic on the client machineOpen the Amazon EC2 console at https://console.aws.amazon.com/ec2/.\nIn the navigation pane, choose Instances, and then choose MSKTutorialClient by selecting the check box next to it.\n\nChoose Actions, and then choose Connect. Follow the instructions to connect to the client machine MSKTutorialClient.\n\nInstall Java on the client machine by running the following command:\nsudo yum install java-1.8.0\n\nRun the following command to download Apache Kafka. \nwget https://archive.apache.org/dist/kafka/2.6.2/kafka_2.12-2.6.2.tgz\nNoteIf you want to use a mirror site other than the one used in this command, you can choose a different one on the Apache website.\n\nRun the following command in the directory where you downloaded the TAR file in the previous step.\ntar -xzf kafka_2.12-2.6.2.tgz\n\nGo to the kafka_2.12-2.6.2 directory.\n\nOpen the Amazon MSK console at https://console.aws.amazon.com/msk/.\nWait for the status of MSKTutorialCluster to become Active. This might take several minutes. After the status becomes Active, choose the cluster name. This action takes you to a page where you can see the cluster summary.Choose View client information.Copy the private endpoint for plaintext authentication and the Apache ZooKeeper connection string (also for plaintext communication).\nRun the following command, replacing ZookeeperConnectString with the string that you obtained in the previous instruction.\nbin/kafka-topics.sh --create --zookeeper ZookeeperConnectString --replication-factor 3 --partitions 1 --topic MSKTutorialTopic\nIf the command succeeds, you see the following message: Created topic MSKTutorialTopic.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-topic.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-topic.html#create-topic",
"main_header": "Step 3: Create a Topic",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#create-topic",
"text": "Step 3: Create a Topic"
},
"links": [],
"text": "To create a topic on the client machine",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-topic.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-topic.html#create-topic",
"main_header": "Step 3: Create a Topic",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#produce-consume",
"text": "Step 4: Produce and Consume Data"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/produce-consume.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/produce-consume.html#produce-consume",
"main_header": "Step 4: Produce and Consume Data",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#produce-consume",
"text": "Step 4: Produce and Consume Data"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-topic.html",
"title": "Step 3: Create a Topic"
}
],
"text": "To produce and consume messages\nGo to the bin folder of the Apache Kafka installation on the client machine, and create a text file named client.properties with the following contents.\nsecurity.protocol=PLAINTEXT\n\nRun the following command in the bin folder, replacing BootstrapBrokerString with the private endpoint string that you obtained in Step 3: Create a Topic.\n./kafka-console-producer.sh --broker-list BootstrapBrokerString --producer.config client.properties --topic MSKTutorialTopic\n\nEnter any message that you want, and press Enter. Repeat this step two or three times. Every time you enter a line and press Enter, that line is sent to your Apache Kafka cluster as a separate message.\n\nKeep the connection to the client machine open, and then open a second, separate connection to that machine in a new window.\n\nIn the following command, replace BootstrapBrokerStringTls with the value that you saved earlier. Then, go to the bin folder and run the command using your second connection to the client machine.\n./kafka-console-consumer.sh --bootstrap-server BootstrapBrokerStringTls --consumer.config client.properties --topic MSKTutorialTopic --from-beginning\nYou start seeing the messages you entered earlier when you used the console producer command. These messages are TLS encrypted in transit.\n\nEnter more messages in the producer window, and watch them appear in the consumer window.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/produce-consume.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/produce-consume.html#produce-consume",
"main_header": "Step 4: Produce and Consume Data",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#produce-consume",
"text": "Step 4: Produce and Consume Data"
},
"links": [],
"text": "To produce and consume messages",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/produce-consume.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/produce-consume.html#produce-consume",
"main_header": "Step 4: Produce and Consume Data",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#view-metrics",
"text": "Step 5: Use Amazon CloudWatch to View Amazon MSK Metrics"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/view-metrics.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/view-metrics.html#view-metrics",
"main_header": "Step 5: Use Amazon CloudWatch to View Amazon MSK Metrics",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#view-metrics",
"text": "Step 5: Use Amazon CloudWatch to View Amazon MSK Metrics"
},
"links": [
{
"url": "https://console.aws.amazon.com/cloudwatch/",
"title": "https://console.aws.amazon.com/cloudwatch/"
}
],
"text": "To view Amazon MSK metrics in CloudWatchOpen the CloudWatch console at https://console.aws.amazon.com/cloudwatch/.\nIn the navigation pane, choose Metrics.\n\nChoose the All metrics tab, and then choose AWS/Kafka.\n\nTo view broker-level metrics, choose Broker ID, Cluster Name. For cluster-level metrics, choose Cluster Name.\n\n(Optional) In the graph pane, select a statistic and a time period, and then create a CloudWatch alarm using these settings.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/view-metrics.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/view-metrics.html#view-metrics",
"main_header": "Step 5: Use Amazon CloudWatch to View Amazon MSK Metrics",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#view-metrics",
"text": "Step 5: Use Amazon CloudWatch to View Amazon MSK Metrics"
},
"links": [],
"text": "To view Amazon MSK metrics in CloudWatch",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/view-metrics.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/view-metrics.html#view-metrics",
"main_header": "Step 5: Use Amazon CloudWatch to View Amazon MSK Metrics",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#delete-cluster",
"text": "Step 6: Delete the AWS Resources Created for This Tutorial"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-cluster.html#delete-cluster",
"main_header": "Step 6: Delete the AWS Resources Created for This Tutorial",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#delete-cluster",
"text": "Step 6: Delete the AWS Resources Created for This Tutorial"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/",
"title": "https://console.aws.amazon.com/msk/"
},
{
"url": "https://console.aws.amazon.com/ec2/",
"title": "https://console.aws.amazon.com/ec2/"
}
],
"text": "To delete the resources using the AWS Management ConsoleOpen the Amazon MSK console at https://console.aws.amazon.com/msk/.Choose MSKTutorialCluster.Choose Actions, then choose Delete.Open the Amazon EC2 console at https://console.aws.amazon.com/ec2/.Choose MSKTutorialClient.Choose Instance state, then choose Terminate instance.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-cluster.html#delete-cluster",
"main_header": "Step 6: Delete the AWS Resources Created for This Tutorial",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#delete-cluster",
"text": "Step 6: Delete the AWS Resources Created for This Tutorial"
},
"links": [],
"text": "To delete the resources using the AWS Management Console",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-cluster.html#delete-cluster",
"main_header": "Step 6: Delete the AWS Resources Created for This Tutorial",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#operations",
"text": "Amazon MSK: How It Works"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html#operations",
"main_header": "Amazon MSK: How It Works",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#operations",
"text": "Amazon MSK: How It Works"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk",
"title": "AWS Management Console"
},
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference",
"title": "Amazon MSK API Reference"
},
{
"url": "https://docs.aws.amazon.com/cli/latest/reference/kafka/index.html",
"title": "Amazon MSK CLI Command Reference"
}
],
"text": "The AWS Management Console\n\nThe Amazon MSK API Reference\n\nThe  Amazon MSK CLI Command Reference",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html#operations",
"main_header": "Amazon MSK: How It Works",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-create-cluster",
"text": "Creating an Amazon MSK Cluster"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html#msk-create-cluster",
"main_header": "Creating an Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-create-cluster",
"text": "Creating an Amazon MSK Cluster"
},
"links": [],
"text": "ImportantYou can't change the VPC for an Amazon MSK cluster after you create the cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html#msk-create-cluster",
"main_header": "Creating an Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-create-cluster",
"text": "Creating an Amazon MSK Cluster"
},
"links": [],
"text": "Important",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html#msk-create-cluster",
"main_header": "Creating an Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-create-cluster",
"text": "Creating an Amazon MSK Cluster"
},
"links": [],
"text": "You can't change the VPC for an Amazon MSK cluster after you create the cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html#msk-create-cluster",
"main_header": "Creating an Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-create-cluster",
"text": "Creating an Amazon MSK Cluster"
},
"links": [],
"text": "You can't change the VPC for an Amazon MSK cluster after you create the cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html#msk-create-cluster",
"main_header": "Creating an Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-create-cluster",
"text": "Creating an Amazon MSK Cluster"
},
"h2": {
"urllink": "#broker-instance-types",
"text": "Broker types"
},
"links": [],
"text": "kafka.t3.smallkafka.m5.large, kafka.m5.xlarge, kafka.m5.2xlarge, kafka.m5.4xlarge, kafka.m5.8xlarge, kafka.m5.12xlarge, kafka.m5.16xlarge, kafka.m5.24xlarge",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html#broker-instance-types",
"main_header": "Broker types",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-create-cluster",
"text": "Creating an Amazon MSK Cluster"
},
"h2": {
"urllink": "#create-cluster-console",
"text": "Creating a cluster using the AWS Management Console"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/",
"title": "https://console.aws.amazon.com/msk/"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html",
"title": "Tagging an Amazon MSK Cluster"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-encryption.html#msk-encryption-in-transit",
"title": "Encryption in Transit"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-encryption.html#msk-encryption-at-rest",
"title": "Encryption at Rest"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html",
"title": "Mutual TLS Authentication"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
},
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_examples_ec2_securitygroups-vpc.html",
"title": "Amazon EC2: Allows Managing EC2 Security Groups Associated With a Specific VPC, Programmatically and in the Console"
}
],
"text": "Open the Amazon MSK console at https://console.aws.amazon.com/msk/.\nChoose Create cluster.\n\nSpecify a name for the cluster. In the VPC list, choose the VPC you want to use for the cluster. You can also specify which version of Apache Kafka you want Amazon MSK to use to create the cluster.\n\nSpecify two subnets if you're using one of the following Regions: South America (S\u00c3\u00a3o Paulo), Canada (Central), and US West (N. California). In other Regions where Amazon MSK is available, you can specify either two or three subnets. The subnets that you specify must be in different Availability Zones. Choose the kind of configuration you want. For information about MSK configurations, see Amazon MSK Configuration.\n\nSpecify the type and number of brokers you want MSK to create in each Availability Zone. The minimum is one broker per Availability Zone and the maximum is 30 brokers per cluster.\n\n(Optional) Assign tags to your cluster. Tags are optional. For more information, see Tagging an Amazon MSK Cluster.\n\nYou can adjust the storage volume per broker. After you create the cluster, you can increase the storage volume per broker but you can't decrease it.\n\nChoose the settings you want for encrypting data in transit. By default, MSK encrypts data as it transits between brokers within a cluster. If you don't want to encrypt data as it transits between brokers, clear the check box labeled Enable encryption within the cluster.\n\nChoose one of the three settings for encrypting data as it transits between clients and brokers. For more information, see Encryption in Transit.\n\nChoose the kind of KMS key that you want to use for encrypting data at rest. For more information, see Encryption at Rest.\n\nIf you want to authenticate the identity of clients, choose Enable TLS client authentication by selecting the box next to it. For more information about authentication, see Mutual TLS Authentication.\n\nChoose the monitoring level you want. This determines the set of metrics you get. For more information, see Monitoring an Amazon MSK Cluster.\n\n(Optional) Choose Advanced settings, and then choose Customize settings. You can specify one or more security groups that you want to give access to your cluster (for example, the security groups of client machines). If you specify security groups that were shared with you, you must ensure that you have permissions to them. Specifically, you need the ec2:DescribeSecurityGroups permission. For an example, see Amazon EC2: Allows Managing EC2 Security Groups Associated With a Specific VPC, Programmatically and in the Console.\n\nChoose Create cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html#create-cluster-console",
"main_header": "Creating a cluster using the AWS Management Console",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-create-cluster",
"text": "Creating an Amazon MSK Cluster"
},
"h2": {
"urllink": "#create-cluster-console",
"text": "Creating a cluster using the AWS Management Console"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html#create-cluster-console",
"main_header": "Creating a cluster using the AWS Management Console",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-create-cluster",
"text": "Creating an Amazon MSK Cluster"
},
"h2": {
"urllink": "#create-cluster-cli",
"text": "Creating a cluster using the AWS CLI"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_examples_ec2_securitygroups-vpc.html",
"title": "Amazon EC2: Allows Managing EC2 Security Groups Associated With a Specific VPC, Programmatically and in the Console"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
],
"text": "Copy the following JSON and save it to a file. Name the file brokernodegroupinfo.json. Replace the subnet IDs in the JSON with the values that correspond to your subnets. These subnets must be in different Availability Zones. Replace \"Security-Group-ID\" with the ID of one or more security groups of the client VPC. Clients associated with these security groups get access to the cluster. If you specify security groups that were shared with you, you must ensure that you have permissions to them. Specifically, you need the ec2:DescribeSecurityGroups permission. For an example, see Amazon EC2: Allows Managing EC2 Security Groups Associated With a Specific VPC, Programmatically and in the Console. Finally, save the updated JSON file on the computer where you have the AWS CLI installed.\n{ \"InstanceType\": \"kafka.m5.large\", \"ClientSubnets\": [ \"Subnet-1-ID\", \"Subnet-2-ID\" ], \"SecurityGroups\": [ \"Security-Group-ID\" ]\n}\nImportantSpecify exactly two subnets if you are using one of the following Regions: South America (S\u00c3\u00a3o Paulo), Canada (Central), and US West (N. California). For other Regions where Amazon MSK is available, you can specify either two or three subnets. The subnets that you specify must be in distinct Availability Zones. When you create a cluster, Amazon MSK distributes the broker nodes evenly across the subnets that you specify.\n\nRun the following AWS CLI command in the directory where you saved the brokernodegroupinfo.json file, replacing \"Your-Cluster-Name\" with a name of your choice. For \"Monitoring-Level\", you can specify one of the following three values: DEFAULT, PER_BROKER, or PER_TOPIC_PER_BROKER. For information about these three different levels of monitoring, see Monitoring an Amazon MSK Cluster. The enhanced-monitoring parameter is optional. If you don't specify it in the create-cluster command, you get the DEFAULT level of monitoring.\naws kafka create-cluster --cluster-name \"Your-Cluster-Name\" --broker-node-group-info fileb://brokernodegroupinfo.json --kafka-version \"2.2.1\" --number-of-broker-nodes 3 --enhanced-monitoring \"Monitoring-Level\"\nThe output of the command looks like the following JSON:\n{ \"ClusterArn\": \"...\", \"ClusterName\": \"AWSKafkaTutorialCluster\", \"State\": \"CREATING\"\n}\nNoteThe create-cluster command might return an error stating that one or more subnets belong to unsupported Availability Zones. When this happens, the error indicates which Availability Zones are unsupported. Create subnets that don't use the unsupported Availability Zones and try the create-cluster command again.\nSave the value of the ClusterArn key because you need it to perform other actions on your cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html#create-cluster-cli",
"main_header": "Creating a cluster using the AWS CLI",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-create-cluster",
"text": "Creating an Amazon MSK Cluster"
},
"h2": {
"urllink": "#create-cluster-cli",
"text": "Creating a cluster using the AWS CLI"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html#create-cluster-cli",
"main_header": "Creating a cluster using the AWS CLI",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-create-cluster",
"text": "Creating an Amazon MSK Cluster"
},
"h2": {
"urllink": "#create-cluster-cli-custom-config",
"text": "Creating a cluster with a custom MSK configuration using the AWS CLI"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
],
"text": "For information about custom MSK configurations and how to create them, see Amazon MSK Configuration.\nSave the following JSON to a file, replacing configuration-arn with the ARN of the configuration that you want to use to create the cluster.\n{ \"Arn\": configuration-arn, \"Revision\": 1\n}\n\nRun the create-cluster command and use the configuration-info option to point to the JSON file you saved in the previous step. The following is an example.\naws kafka create-cluster --cluster-name ExampleClusterName --broker-node-group-info fileb://brokernodegroupinfo.json --kafka-version \"1.1.1\" --number-of-broker-nodes 3 --enhanced-monitoring PER_TOPIC_PER_BROKER --configuration-info file://configuration.json\nThe following is an example of a successful response after running this command.\n{ \"ClusterArn\": \"arn:aws:kafka:us-east-1:123456789012:cluster/CustomConfigExampleCluster/abcd1234-abcd-dcba-4321-a1b2abcd9f9f-2\", \"ClusterName\": \"CustomConfigExampleCluster\", \"State\": \"CREATING\"\n}",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html#create-cluster-cli-custom-config",
"main_header": "Creating a cluster with a custom MSK configuration using the AWS CLI",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-create-cluster",
"text": "Creating an Amazon MSK Cluster"
},
"h2": {
"urllink": "#create-cluster-cli-custom-config",
"text": "Creating a cluster with a custom MSK configuration using the AWS CLI"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html#create-cluster-cli-custom-config",
"main_header": "Creating a cluster with a custom MSK configuration using the AWS CLI",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-create-cluster",
"text": "Creating an Amazon MSK Cluster"
},
"h2": {
"urllink": "#create-cluster-cli-custom-config",
"text": "Creating a cluster with a custom MSK configuration using the AWS CLI"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
],
"text": "For information about custom MSK configurations and how to create them, see Amazon MSK Configuration.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html#create-cluster-cli-custom-config",
"main_header": "Creating a cluster with a custom MSK configuration using the AWS CLI",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-delete-cluster",
"text": "Deleting an Amazon MSK Cluster"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-delete-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-delete-cluster.html#msk-delete-cluster",
"main_header": "Deleting an Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-delete-cluster",
"text": "Deleting an Amazon MSK Cluster"
},
"h2": {
"urllink": "#delete-cluster-console",
"text": "Deleting a cluster using the AWS Management Console"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/",
"title": "https://console.aws.amazon.com/msk/"
}
],
"text": "Open the Amazon MSK console at https://console.aws.amazon.com/msk/.\nChoose the MSK cluster that you want to delete by selecting the check box next to it.\n\nChoose Delete, and then confirm deletion.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-delete-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-delete-cluster.html#delete-cluster-console",
"main_header": "Deleting a cluster using the AWS Management Console",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-get-connection-string",
"text": "Getting the Apache ZooKeeper connection string for an Amazon MSK Cluster"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-connection-string.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-connection-string.html#msk-get-connection-string",
"main_header": "Getting the Apache ZooKeeper connection string for an Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-get-connection-string",
"text": "Getting the Apache ZooKeeper connection string for an Amazon MSK Cluster"
},
"h2": {
"urllink": "#get-connection-string-console",
"text": "Getting the Apache ZooKeeper connection string using the AWS Management Console"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/",
"title": "https://console.aws.amazon.com/msk/"
}
],
"text": "Open the Amazon MSK console at https://console.aws.amazon.com/msk/.\nThe table shows all the clusters for the current region under this account. Choose the name of a cluster to view its description.\n\nOn the Cluster summary page, choose View client information. This shows you the bootstrap brokers, as well as the Apache ZooKeeper connection string.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-connection-string.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-connection-string.html#get-connection-string-console",
"main_header": "Getting the Apache ZooKeeper connection string using the AWS Management Console",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-get-connection-string",
"text": "Getting the Apache ZooKeeper connection string for an Amazon MSK Cluster"
},
"h2": {
"urllink": "#get-connection-string-cli",
"text": "Getting the Apache ZooKeeper connection string using the AWS CLI"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-list-clusters.html",
"title": "Listing Amazon MSK clusters"
}
],
"text": "If you don't know the Amazon Resource Name (ARN) of your cluster, you can find it by listing all the clusters in your account. For more information, see Listing Amazon MSK clusters.\nTo get the Apache ZooKeeper connection string, along with other information about your cluster, run the following command, replacing ClusterArn with the ARN of your cluster. \naws kafka describe-cluster --cluster-arn ClusterArn\nThe output of this describe-cluster command looks like the following JSON example.\n{ \"ClusterInfo\": { \"BrokerNodeGroupInfo\": { \"BrokerAZDistribution\": \"DEFAULT\", \"ClientSubnets\": [ \"subnet-0123456789abcdef0\", \"subnet-2468013579abcdef1\", \"subnet-1357902468abcdef2\" ], \"InstanceType\": \"kafka.m5.large\", \"StorageInfo\": { \"EbsStorageInfo\": { \"VolumeSize\": 1000 } } }, \"ClusterArn\": \"arn:aws:kafka:us-east-1:111122223333:cluster/testcluster/12345678-abcd-4567-2345-abcdef123456-2\", \"ClusterName\": \"testcluster\", \"CreationTime\": \"2018-12-02T17:38:36.75Z\", \"CurrentBrokerSoftwareInfo\": { \"KafkaVersion\": \"2.2.1\" }, \"CurrentVersion\": \"K13V1IB3VIYZZH\", \"EncryptionInfo\": { \"EncryptionAtRest\": { \"DataVolumeKMSKeyId\": \"arn:aws:kms:us-east-1:555555555555:key/12345678-abcd-2345-ef01-abcdef123456\" } }, \"EnhancedMonitoring\": \"DEFAULT\", \"NumberOfBrokerNodes\": 3, \"State\": \"ACTIVE\", \"ZookeeperConnectString\": \"10.0.1.101:2018,10.0.2.101:2018,10.0.3.101:2018\" }\n}\nThe previous JSON example shows the ZookeeperConnectString key in the output of the describe-cluster command. Copy the value corresponding to this key and save it for when you need to create a topic on your cluster.\nImportantYour Amazon MSK cluster must be in the ACTIVE state for you to be able to obtain the Apache ZooKeeper connection string. When a cluster is still in the CREATING state, the output of the describe-cluster command doesn't include ZookeeperConnectString. If this is the case, wait a few minutes and then run the describe-cluster again after your cluster reaches the ACTIVE state.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-connection-string.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-connection-string.html#get-connection-string-cli",
"main_header": "Getting the Apache ZooKeeper connection string using the AWS CLI",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-get-bootstrap-brokers",
"text": "Getting the bootstrap brokers for an Amazon MSK Cluster"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-bootstrap-brokers.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-bootstrap-brokers.html#msk-get-bootstrap-brokers",
"main_header": "Getting the bootstrap brokers for an Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-get-bootstrap-brokers",
"text": "Getting the bootstrap brokers for an Amazon MSK Cluster"
},
"h2": {
"urllink": "#get-bootstrap-console",
"text": "Getting the bootstrap brokers using the AWS Management Console"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/",
"title": "https://console.aws.amazon.com/msk/"
}
],
"text": "Open the Amazon MSK console at https://console.aws.amazon.com/msk/.\nThe table shows all the clusters for the current region under this account. Choose the name of a cluster to view its description.\n\nOn the Cluster summary page, choose View client information. This shows you the bootstrap brokers, as well as the Apache ZooKeeper connection string.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-bootstrap-brokers.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-bootstrap-brokers.html#get-bootstrap-console",
"main_header": "Getting the bootstrap brokers using the AWS Management Console",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-list-clusters",
"text": "Listing Amazon MSK clusters"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-list-clusters.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-list-clusters.html#msk-list-clusters",
"main_header": "Listing Amazon MSK clusters",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-list-clusters",
"text": "Listing Amazon MSK clusters"
},
"h2": {
"urllink": "#list-clusters-console",
"text": "Listing clusters using the AWS Management Console"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/",
"title": "https://console.aws.amazon.com/msk/"
}
],
"text": "Open the Amazon MSK console at https://console.aws.amazon.com/msk/.\nThe table shows all the clusters for the current region under this account. Choose the name of a cluster to view its details.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-list-clusters.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-list-clusters.html#list-clusters-console",
"main_header": "Listing clusters using the AWS Management Console",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-provision-throughput",
"text": "Provisioning storage throughput"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html#msk-provision-throughput",
"main_header": "Provisioning storage throughput",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-provision-throughput",
"text": "Provisioning storage throughput"
},
"h2": {
"urllink": "#throughput-bottlenecks",
"text": "Throughput bottlenecks"
},
"links": [],
"text": "Broker type\nEC2-EBS network throughput (MBps) kafka.m5.4xlarge\n593.75 kafka.m5.8xlarge\n850 kafka.m5.12xlarge\n1187.5 kafka.m5.16xlarge\n1700 kafka.m5.24xlarge\n2375",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html#throughput-bottlenecks",
"main_header": "Throughput bottlenecks",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-provision-throughput",
"text": "Provisioning storage throughput"
},
"h2": {
"urllink": "#throughput-bottlenecks",
"text": "Throughput bottlenecks"
},
"links": [],
"text": "Broker type\nEC2-EBS network throughput (MBps) kafka.m5.4xlarge\n593.75 kafka.m5.8xlarge\n850 kafka.m5.12xlarge\n1187.5 kafka.m5.16xlarge\n1700 kafka.m5.24xlarge\n2375",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html#throughput-bottlenecks",
"main_header": "Throughput bottlenecks",
"images": [],
"container_type": "div",
"children_tags": [
"table"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-provision-throughput",
"text": "Provisioning storage throughput"
},
"h2": {
"urllink": "#provisioned-throughput-config",
"text": "Configuration update"
},
"links": [],
"text": "Broker type\nnum.replica.fetchers kafka.m5.4xlarge\n4 kafka.m5.8xlarge\n8 kafka.m5.12xlarge\n14 kafka.m5.16xlarge\n16 kafka.m5.24xlarge\n16",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html#provisioned-throughput-config",
"main_header": "Configuration update",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-provision-throughput",
"text": "Provisioning storage throughput"
},
"h2": {
"urllink": "#provisioned-throughput-config",
"text": "Configuration update"
},
"links": [],
"text": "Broker type\nnum.replica.fetchers kafka.m5.4xlarge\n4 kafka.m5.8xlarge\n8 kafka.m5.12xlarge\n14 kafka.m5.16xlarge\n16 kafka.m5.24xlarge\n16",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html#provisioned-throughput-config",
"main_header": "Configuration update",
"images": [],
"container_type": "div",
"children_tags": [
"table"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-provision-throughput",
"text": "Provisioning storage throughput"
},
"h2": {
"urllink": "#provisioned-throughput-console",
"text": "Provisioning storage throughput using the AWS Management Console"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/home?region=us-east-1#/home/",
"title": "https://console.aws.amazon.com/msk/home?region=us-east-1#/home/"
}
],
"text": "Sign in to the AWS Management Console, and open the Amazon MSK console at https://console.aws.amazon.com/msk/home?region=us-east-1#/home/.Choose Create cluster.Choose Custom create.Specify a name for the cluster.In the Storage section, choose Enable.Choose a value for storage throughput per broker.Choose a VPC, zones and subnets, and a security group.Choose Next.At the bottom of the Security step, choose Next.At the bottom of the Monitoring and tags step, choose Next.Review the cluster settings, then choose Create cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html#provisioned-throughput-console",
"main_header": "Provisioning storage throughput using the AWS Management Console",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-provision-throughput",
"text": "Provisioning storage throughput"
},
"h2": {
"urllink": "#provisioned-throughput-cli",
"text": "Provisioning storage throughput using the AWS CLI"
},
"links": [],
"text": "Copy the following JSON and paste it into a file. Replace the subnet IDs and security group ID placeholders with values from your account. Name the file cluster-creation.json and save it.\n{ \"Provisioned\": { \"BrokerNodeGroupInfo\":{ \"InstanceType\":\"kafka.m5.4xlarge\", \"ClientSubnets\":[ \"Subnet-1-ID\", \"Subnet-2-ID\" ], \"SecurityGroups\":[ \"Security-Group-ID\" ], \"StorageInfo\": { \"EbsStorageInfo\": { \"VolumeSize\": 10, \"ProvisionedThroughput\": { \"Enabled\": true, \"VolumeThroughput\": 250 } } } }, \"EncryptionInfo\": { \"EncryptionInTransit\": { \"InCluster\": false, \"ClientBroker\": \"PLAINTEXT\" } }, \"KafkaVersion\":\"2.2.1\", \"NumberOfBrokerNodes\": 2 }, \"ClusterName\": \"provisioned-throughput-example\"\n}Run the following AWS CLI command from the directory where you saved the JSON file in the previous step.\naws kafka create-cluster-v2 --cli-input-json fileb://cluster-creation.json",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html#provisioned-throughput-cli",
"main_header": "Provisioning storage throughput using the AWS CLI",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-storage",
"text": "Scaling up broker storage"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html#msk-update-storage",
"main_header": "Scaling up broker storage",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-storage",
"text": "Scaling up broker storage"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/clusters-clusterarn-nodes-storage.html#UpdateBrokerStorage",
"title": "UpdateBrokerStorage"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"title": "Best Practices"
}
],
"text": "ImportantWhen storage is scaled for an MSK cluster, the additional storage is made available right away. However, the cluster requires a cool-down period after every storage scaling event. Amazon MSK uses this cool-down period to optimize the cluster before it can be scaled again. This period can range from a minimum of 6 hours to over 24 hours, depending on the cluster\u00e2\u0080\u0099s storage size and utilization and on traffic. This is applicable for both auto scaling events and manual scaling using the UpdateBrokerStorage operation. For information about right-sizing your storage, see Best Practices.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html#msk-update-storage",
"main_header": "Scaling up broker storage",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-storage",
"text": "Scaling up broker storage"
},
"links": [],
"text": "Important",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html#msk-update-storage",
"main_header": "Scaling up broker storage",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-storage",
"text": "Scaling up broker storage"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/clusters-clusterarn-nodes-storage.html#UpdateBrokerStorage",
"title": "UpdateBrokerStorage"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"title": "Best Practices"
}
],
"text": "When storage is scaled for an MSK cluster, the additional storage is made available right away. However, the cluster requires a cool-down period after every storage scaling event. Amazon MSK uses this cool-down period to optimize the cluster before it can be scaled again. This period can range from a minimum of 6 hours to over 24 hours, depending on the cluster\u00e2\u0080\u0099s storage size and utilization and on traffic. This is applicable for both auto scaling events and manual scaling using the UpdateBrokerStorage operation. For information about right-sizing your storage, see Best Practices.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html#msk-update-storage",
"main_header": "Scaling up broker storage",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-storage",
"text": "Scaling up broker storage"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/clusters-clusterarn-nodes-storage.html#UpdateBrokerStorage",
"title": "UpdateBrokerStorage"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"title": "Best Practices"
}
],
"text": "When storage is scaled for an MSK cluster, the additional storage is made available right away. However, the cluster requires a cool-down period after every storage scaling event. Amazon MSK uses this cool-down period to optimize the cluster before it can be scaled again. This period can range from a minimum of 6 hours to over 24 hours, depending on the cluster\u00e2\u0080\u0099s storage size and utilization and on traffic. This is applicable for both auto scaling events and manual scaling using the UpdateBrokerStorage operation. For information about right-sizing your storage, see Best Practices.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html#msk-update-storage",
"main_header": "Scaling up broker storage",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-autoexpand",
"text": "Automatic scaling"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html#msk-autoexpand",
"main_header": "Automatic scaling",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#msk-autoexpand",
"text": "Automatic scaling"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#brokers-per-cluster",
"title": "Right-size your cluster: Number of brokers per cluster"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/migration.html",
"title": "Migration"
}
],
"text": "ImportantA storage scaling action can occur only once every six hours. \nWe recommend that you start with a right-sized storage volume for your storage demands. For guidance on right-sizing your cluster, see  Right-size your cluster: Number of brokers per cluster.\n\nAmazon MSK does not reduce cluster storage in response to reduced usage. Amazon MSK does not support decreasing the size of storage volumes. If you need to reduce the size of your cluster storage, you must migrate your existing cluster to a cluster with smaller storage. For information about migrating a cluster, see Migration.\n\nAmazon MSK does not support auto scaling in the Asia Pacific (Osaka) and Africa (Cape Town) Regions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html#msk-autoexpand",
"main_header": "Automatic scaling",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#msk-autoexpand",
"text": "Automatic scaling"
},
"h2": {
"urllink": "#msk-autoexpand-details",
"text": "MSK Storage auto-expansion details"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/limits.html",
"title": "Amazon MSK Quota"
}
],
"text": "Storage Utilization Target: The storage utilization threshold that Amazon MSK uses to trigger an auto-scaling operation. You can set the utilization target between 10% and 80% of the current storage capacity. We recommend that you set the Storage Utilization Target between 50% and 60%.Maximum Storage Capacity: This setting is the maximum scaling limit that Amazon MSK can set your broker storage. You can set the maximum storage capacity up to 16 TiB per broker. For more information, see Amazon MSK Quota.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html#msk-autoexpand-details",
"main_header": "MSK Storage auto-expansion details",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#msk-autoexpand",
"text": "Automatic scaling"
},
"h2": {
"urllink": "#msk-autoexpand-setup",
"text": "Setting up auto-expansion for your Amazon MSK cluster"
},
"links": [],
"text": "NoteYou can't implement auto-expansion when you create a cluster. You must first create the cluster, and then create and enable an auto-expansion policy for it. However, you can create the policy while the Amazon MSK service creates your cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html#msk-autoexpand-setup",
"main_header": "Setting up auto-expansion for your Amazon MSK cluster",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#msk-autoexpand",
"text": "Automatic scaling"
},
"h2": {
"urllink": "#msk-autoexpand-setup",
"text": "Setting up auto-expansion for your Amazon MSK cluster"
},
"links": [],
"text": "Note",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html#msk-autoexpand-setup",
"main_header": "Setting up auto-expansion for your Amazon MSK cluster",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#msk-autoexpand",
"text": "Automatic scaling"
},
"h2": {
"urllink": "#msk-autoexpand-setup",
"text": "Setting up auto-expansion for your Amazon MSK cluster"
},
"links": [],
"text": "You can't implement auto-expansion when you create a cluster. You must first create the cluster, and then create and enable an auto-expansion policy for it. However, you can create the policy while the Amazon MSK service creates your cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html#msk-autoexpand-setup",
"main_header": "Setting up auto-expansion for your Amazon MSK cluster",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#msk-autoexpand",
"text": "Automatic scaling"
},
"h2": {
"urllink": "#msk-autoexpand-setup",
"text": "Setting up auto-expansion for your Amazon MSK cluster"
},
"links": [],
"text": "You can't implement auto-expansion when you create a cluster. You must first create the cluster, and then create and enable an auto-expansion policy for it. However, you can create the policy while the Amazon MSK service creates your cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html#msk-autoexpand-setup",
"main_header": "Setting up auto-expansion for your Amazon MSK cluster",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#msk-autoexpand",
"text": "Automatic scaling"
},
"h2": {
"urllink": "#msk-autoexpand-setup",
"text": "Setting up auto-expansion for your Amazon MSK cluster"
},
"h3": {
"urllink": "#msk-autoexpand-setup-console",
"text": "Setting up auto-expansion using the AWS Management Console"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/home?region=us-east-1#/home/",
"title": "https://console.aws.amazon.com/msk/home?region=us-east-1#/home/"
}
],
"text": "Sign in to the AWS Management Console, and open the Amazon MSK console at https://console.aws.amazon.com/msk/home?region=us-east-1#/home/.In the list of clusters, choose your cluster. This takes you to the cluster's Details page.\nIn the Auto scaling for storage section, choose Configure.\nCreate and name an auto-scaling policy. Specify the storage utilization target, the maximum storage capacity, and the target metric.Choose Save changes.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html#msk-autoexpand-setup-console",
"main_header": "Setting up auto-expansion using the AWS Management Console",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#msk-autoexpand",
"text": "Automatic scaling"
},
"h2": {
"urllink": "#msk-autoexpand-setup",
"text": "Setting up auto-expansion for your Amazon MSK cluster"
},
"h3": {
"urllink": "#msk-autoexpand-setup-cli",
"text": "Setting up auto-expansion using the CLI"
},
"links": [
{
"url": "https://docs.aws.amazon.com/cli/latest/reference/application-autoscaling/#available-commands",
"title": "RegisterScalableTarget"
},
{
"url": "https://docs.aws.amazon.com/cli/latest/reference/application-autoscaling/#available-commands",
"title": "PutScalingPolicy"
}
],
"text": "Use the  RegisterScalableTarget command to register a storage utilization target.Use the PutScalingPolicy command to create an auto-expansion policy.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html#msk-autoexpand-setup-cli",
"main_header": "Setting up auto-expansion using the CLI",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#msk-autoexpand",
"text": "Automatic scaling"
},
"h2": {
"urllink": "#msk-autoexpand-setup",
"text": "Setting up auto-expansion for your Amazon MSK cluster"
},
"h3": {
"urllink": "#msk-autoexpand-setup-api",
"text": "Setting up auto-expansion using the API"
},
"links": [
{
"url": "https://docs.aws.amazon.com/autoscaling/application/APIReference/API_RegisterScalableTarget.html",
"title": "RegisterScalableTarget"
},
{
"url": "https://docs.aws.amazon.com/autoscaling/application/APIReference/API_PutScalingPolicy.html",
"title": "PutScalingPolicy"
}
],
"text": "Use the  RegisterScalableTarget API to register a storage utilization target.Use the PutScalingPolicy API to create an auto-expansion policy.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html#msk-autoexpand-setup-api",
"main_header": "Setting up auto-expansion using the API",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#manually-expand-storage",
"text": "Manual scaling"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/manually-expand-storage.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/manually-expand-storage.html#manually-expand-storage",
"main_header": "Manual scaling",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#manually-expand-storage",
"text": "Manual scaling"
},
"h2": {
"urllink": "#update-storage-console",
"text": "Scaling up broker storage using the AWS Management Console"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/",
"title": "https://console.aws.amazon.com/msk/"
}
],
"text": "Open the Amazon MSK console at https://console.aws.amazon.com/msk/.\nChoose the MSK cluster for which you want to update broker storage.\n\nIn the Storage section, choose Edit.\n\nSpecify the storage volume you want. You can only increase the amount of storage, you can't decrease it.\n\nChoose Save changes.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/manually-expand-storage.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/manually-expand-storage.html#update-storage-console",
"main_header": "Scaling up broker storage using the AWS Management Console",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#manually-expand-storage",
"text": "Manual scaling"
},
"h2": {
"urllink": "#update-storage-cli",
"text": "Scaling up broker storage using the AWS CLI"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/clusters-clusterarn.html#DescribeCluster",
"title": "DescribeCluster"
},
{
"url": "https://awscli.amazonaws.com/v2/documentation/api/latest/reference/kafka/describe-cluster.html",
"title": "describe-cluster"
}
],
"text": "ImportantCluster versions aren't simple integers. To find the current version of the cluster, use the DescribeCluster operation or the describe-cluster AWS CLI command. An example version is KTVPDKIKX0DER.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/manually-expand-storage.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/manually-expand-storage.html#update-storage-cli",
"main_header": "Scaling up broker storage using the AWS CLI",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#manually-expand-storage",
"text": "Manual scaling"
},
"h2": {
"urllink": "#update-storage-cli",
"text": "Scaling up broker storage using the AWS CLI"
},
"links": [],
"text": "Important",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/manually-expand-storage.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/manually-expand-storage.html#update-storage-cli",
"main_header": "Scaling up broker storage using the AWS CLI",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#manually-expand-storage",
"text": "Manual scaling"
},
"h2": {
"urllink": "#update-storage-cli",
"text": "Scaling up broker storage using the AWS CLI"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/clusters-clusterarn.html#DescribeCluster",
"title": "DescribeCluster"
},
{
"url": "https://awscli.amazonaws.com/v2/documentation/api/latest/reference/kafka/describe-cluster.html",
"title": "describe-cluster"
}
],
"text": "Cluster versions aren't simple integers. To find the current version of the cluster, use the DescribeCluster operation or the describe-cluster AWS CLI command. An example version is KTVPDKIKX0DER.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/manually-expand-storage.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/manually-expand-storage.html#update-storage-cli",
"main_header": "Scaling up broker storage using the AWS CLI",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#manually-expand-storage",
"text": "Manual scaling"
},
"h2": {
"urllink": "#update-storage-cli",
"text": "Scaling up broker storage using the AWS CLI"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/clusters-clusterarn.html#DescribeCluster",
"title": "DescribeCluster"
},
{
"url": "https://awscli.amazonaws.com/v2/documentation/api/latest/reference/kafka/describe-cluster.html",
"title": "describe-cluster"
}
],
"text": "Cluster versions aren't simple integers. To find the current version of the cluster, use the DescribeCluster operation or the describe-cluster AWS CLI command. An example version is KTVPDKIKX0DER.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/manually-expand-storage.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/manually-expand-storage.html#update-storage-cli",
"main_header": "Scaling up broker storage using the AWS CLI",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#msk-update-broker-type",
"text": "Updating the broker type"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-type.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-type.html#msk-update-broker-type",
"main_header": "Updating the broker type",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-broker-type",
"text": "Updating the broker type"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#partitions-per-broker",
"title": "Right-size your cluster: Number of partitions per broker"
}
],
"text": "ImportantYou can't update a cluster to a smaller broker type if the number of partitions per broker exceeds the maximum number specified in  Right-size your cluster: Number of partitions per broker.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-type.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-type.html#msk-update-broker-type",
"main_header": "Updating the broker type",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-broker-type",
"text": "Updating the broker type"
},
"links": [],
"text": "Important",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-type.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-type.html#msk-update-broker-type",
"main_header": "Updating the broker type",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-broker-type",
"text": "Updating the broker type"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#partitions-per-broker",
"title": "Right-size your cluster: Number of partitions per broker"
}
],
"text": "You can't update a cluster to a smaller broker type if the number of partitions per broker exceeds the maximum number specified in  Right-size your cluster: Number of partitions per broker.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-type.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-type.html#msk-update-broker-type",
"main_header": "Updating the broker type",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-broker-type",
"text": "Updating the broker type"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#partitions-per-broker",
"title": "Right-size your cluster: Number of partitions per broker"
}
],
"text": "You can't update a cluster to a smaller broker type if the number of partitions per broker exceeds the maximum number specified in  Right-size your cluster: Number of partitions per broker.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-type.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-type.html#msk-update-broker-type",
"main_header": "Updating the broker type",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-broker-type",
"text": "Updating the broker type"
},
"h2": {
"urllink": "#update-broker-type-console",
"text": "Updating the broker type using the AWS Management Console"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/",
"title": "https://console.aws.amazon.com/msk/"
}
],
"text": "Open the Amazon MSK console at https://console.aws.amazon.com/msk/.\nChoose the MSK cluster for which you want to update the broker type.\n\nOn the details page for the cluster, find the Brokers summary section, and choose Edit broker type.\n\nChoose the broker type you want from the list.\n\nSave changes.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-type.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-type.html#update-broker-type-console",
"main_header": "Updating the broker type using the AWS Management Console",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-broker-type",
"text": "Updating the broker type"
},
"h2": {
"urllink": "#update-broker-type-cli",
"text": "Updating the broker type using the AWS CLI"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-list-clusters.html",
"title": "Listing Amazon MSK clusters"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html#broker-instance-types",
"title": "Broker types"
}
],
"text": "Run the following command, replacing ClusterArn with the Amazon Resource Name (ARN) that you obtained when you created your cluster. If you don't have the ARN for your cluster, you can find it by listing all clusters. For more information, see Listing Amazon MSK clusters. \nReplace Current-Cluster-Version with the current version of the cluster and TargetType with the new type that you want the brokers to be. To learn more about broker types, see Broker types.\naws kafka update-broker-type --cluster-arn ClusterArn --current-version Current-Cluster-Version --target-instance-type TargetType\nThe following is an example of how to use this command:\naws kafka update-broker-type --cluster-arn \"arn:aws:kafka:us-east-1:0123456789012:cluster/exampleName/abcd1234-0123-abcd-5678-1234abcd-1\" --current-version \"K1X5R6FKA87\" --target-instance-type kafka.m5.large \nThe output of this command looks like the following JSON example.\n{ \"ClusterArn\": \"arn:aws:kafka:us-east-1:0123456789012:cluster/exampleName/abcd1234-0123-abcd-5678-1234abcd-1\", \"ClusterOperationArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster-operation/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2/0123abcd-abcd-4f7f-1234-9876543210ef\"\n}\n\nTo get the result of the update-broker-type operation, run the following command, replacing ClusterOperationArn with the ARN that you obtained in the output of the update-broker-type command.\naws kafka describe-cluster-operation --cluster-operation-arn ClusterOperationArn\nThe output of this describe-cluster-operation command looks like the following JSON example.\n{ \"ClusterOperationInfo\": { \"ClientRequestId\": \"982168a3-939f-11e9-8a62-538df00285db\", \"ClusterArn\": \"arn:aws:kafka:us-east-1:0123456789012:cluster/exampleName/abcd1234-0123-abcd-5678-1234abcd-1\", \"CreationTime\": \"2021-01-09T02:24:22.198000+00:00\", \"OperationArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster-operation/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2/0123abcd-abcd-4f7f-1234-9876543210ef\", \"OperationState\": \"UPDATE_COMPLETE\", \"OperationType\": \"UPDATE_BROKER_TYPE\", \"SourceClusterInfo\": { \"InstanceType\": \"t3.small\" }, \"TargetClusterInfo\": { \"InstanceType\": \"m5.large\" } }\n}\nIf OperationState has the value UPDATE_IN_PROGRESS, wait a while, then run the describe-cluster-operation command again.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-type.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-type.html#update-broker-type-cli",
"main_header": "Updating the broker type using the AWS CLI",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-cluster-config",
"text": "Updating the configuration of an Amazon MSK Cluster"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-cluster-config.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-cluster-config.html#msk-update-cluster-config",
"main_header": "Updating the configuration of an Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-cluster-config",
"text": "Updating the configuration of an Amazon MSK Cluster"
},
"h2": {
"urllink": "#update-config-cli",
"text": "Updating the configuration of a cluster using the AWS CLI"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-list-clusters.html",
"title": "Listing Amazon MSK clusters"
},
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/clusters-clusterarn.html#DescribeCluster",
"title": "DescribeCluster"
},
{
"url": "https://awscli.amazonaws.com/v2/documentation/api/latest/reference/kafka/describe-cluster.html",
"title": "describe-cluster"
}
],
"text": "Copy the following JSON and save it to a file. Name the file configuration-info.json. Replace ConfigurationArn with the Amazon Resource Name (ARN) of the configuration that you want to use to update the cluster. The ARN string must be in quotes in the following JSON. \nReplace Configuration-Revision with the revision of the configuration that you want to use. Configuration revisions are integers (whole numbers) that start at 1. This integer mustn't be in quotes in the following JSON.\n{ \"Arn\": ConfigurationArn, \"Revision\": Configuration-Revision\n} Run the following command, replacing ClusterArn with the ARN that you obtained when you created your cluster. If you don't have the ARN for your cluster, you can find it by listing all clusters. For more information, see Listing Amazon MSK clusters. \nReplace Path-to-Config-Info-File with the path to your configuration info file. If you named the file that you created in the previous step configuration-info.json and saved it in the current directory, then Path-to-Config-Info-File is configuration-info.json.\nReplace Current-Cluster-Version with the current version of the cluster. \nImportantCluster versions aren't simple integers. To find the current version of the cluster, use the DescribeCluster operation or the describe-cluster AWS CLI command. An example version is KTVPDKIKX0DER.\naws kafka update-cluster-configuration --cluster-arn ClusterArn --configuration-info fileb://Path-to-Config-Info-File --current-version Current-Cluster-Version\nThe following is an example of how to use this command:\naws kafka update-cluster-configuration --cluster-arn \"arn:aws:kafka:us-east-1:0123456789012:cluster/exampleName/abcd1234-0123-abcd-5678-1234abcd-1\" --configuration-info fileb://c:\\users\\tester\\msk\\configuration-info.json --current-version \"K1X5R6FKA87\"\nThe output of this update-cluster-configuration command looks like the following JSON example.\n{ \"ClusterArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2\", \"ClusterOperationArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster-operation/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2/0123abcd-abcd-4f7f-1234-9876543210ef\"\n}\n\nTo get the result of the update-cluster-configuration operation, run the following command, replacing ClusterOperationArn with the ARN that you obtained in the output of the update-cluster-configuration command.\naws kafka describe-cluster-operation --cluster-operation-arn ClusterOperationArn\nThe output of this describe-cluster-operation command looks like the following JSON example.\n{ \"ClusterOperationInfo\": { \"ClientRequestId\": \"982168a3-939f-11e9-8a62-538df00285db\", \"ClusterArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2\", \"CreationTime\": \"2019-06-20T21:08:57.735Z\", \"OperationArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster-operation/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2/0123abcd-abcd-4f7f-1234-9876543210ef\", \"OperationState\": \"UPDATE_COMPLETE\", \"OperationType\": \"UPDATE_CLUSTER_CONFIGURATION\", \"SourceClusterInfo\": {}, \"TargetClusterInfo\": { \"ConfigurationInfo\": { \"Arn\": \"arn:aws:kafka:us-east-1:123456789012:configuration/ExampleConfigurationName/abcdabcd-abcd-1234-abcd-abcd123e8e8e-1\", \"Revision\": 1 } } }\n}\nIn this output, OperationType is UPDATE_CLUSTER_CONFIGURATION. If OperationState has the value UPDATE_IN_PROGRESS, wait a while, then run the describe-cluster-operation command again.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-cluster-config.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-cluster-config.html#update-config-cli",
"main_header": "Updating the configuration of a cluster using the AWS CLI",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-broker-count",
"text": "Expanding an Amazon MSK Cluster"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-count.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-count.html#msk-update-broker-count",
"main_header": "Expanding an Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-broker-count",
"text": "Expanding an Amazon MSK Cluster"
},
"links": [],
"text": "ImportantIf you want to expand an MSK cluster, make sure to use this Amazon MSK operation . Don't try to add brokers to a cluster without using this operation.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-count.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-count.html#msk-update-broker-count",
"main_header": "Expanding an Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-broker-count",
"text": "Expanding an Amazon MSK Cluster"
},
"links": [],
"text": "Important",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-count.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-count.html#msk-update-broker-count",
"main_header": "Expanding an Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-broker-count",
"text": "Expanding an Amazon MSK Cluster"
},
"links": [],
"text": "If you want to expand an MSK cluster, make sure to use this Amazon MSK operation . Don't try to add brokers to a cluster without using this operation.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-count.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-count.html#msk-update-broker-count",
"main_header": "Expanding an Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-broker-count",
"text": "Expanding an Amazon MSK Cluster"
},
"links": [],
"text": "If you want to expand an MSK cluster, make sure to use this Amazon MSK operation . Don't try to add brokers to a cluster without using this operation.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-count.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-count.html#msk-update-broker-count",
"main_header": "Expanding an Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-broker-count",
"text": "Expanding an Amazon MSK Cluster"
},
"h2": {
"urllink": "#expand-cluster-console",
"text": "Expanding a cluster using the AWS Management Console"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/",
"title": "https://console.aws.amazon.com/msk/"
}
],
"text": "Open the Amazon MSK console at https://console.aws.amazon.com/msk/.\nChoose the MSK cluster whose number of brokers you want to increase.\n\nOn the cluster details page, choose the Edit button next to the Cluster-Level Broker Details heading.\n\nEnter the number of brokers that you want the cluster to have per Availability Zone and then choose Save changes.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-count.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-count.html#expand-cluster-console",
"main_header": "Expanding a cluster using the AWS Management Console",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-broker-count",
"text": "Expanding an Amazon MSK Cluster"
},
"h2": {
"urllink": "#expand-cluster-cli",
"text": "Expanding a cluster using the AWS CLI"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-list-clusters.html",
"title": "Listing Amazon MSK clusters"
},
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/clusters-clusterarn.html#DescribeCluster",
"title": "DescribeCluster"
},
{
"url": "https://awscli.amazonaws.com/v2/documentation/api/latest/reference/kafka/describe-cluster.html",
"title": "describe-cluster"
}
],
"text": "Run the following command, replacing ClusterArn with the Amazon Resource Name (ARN) that you obtained when you created your cluster. If you don't have the ARN for your cluster, you can find it by listing all clusters. For more information, see Listing Amazon MSK clusters.\nReplace Current-Cluster-Version with the current version of the cluster. \nImportantCluster versions aren't simple integers. To find the current version of the cluster, use the DescribeCluster operation or the describe-cluster AWS CLI command. An example version is KTVPDKIKX0DER.\nThe Target-Number-of-Brokers parameter represents the total number of broker nodes that you want the cluster to have when this operation completes successfully. The value you specify for Target-Number-of-Brokers must be a whole number that is greater than the current number of brokers in the cluster. It must also be a multiple of the number of Availability Zones.\naws kafka update-broker-count --cluster-arn ClusterArn --current-version Current-Cluster-Version --target-number-of-broker-nodes Target-Number-of-Brokers\nThe output of this update-broker-count operation looks like the following JSON.\n{ \"ClusterArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2\", \"ClusterOperationArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster-operation/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2/0123abcd-abcd-4f7f-1234-9876543210ef\"\n}\n\nTo get the result of the update-broker-count operation, run the following command, replacing ClusterOperationArn with the ARN that you obtained in the output of the update-broker-count command.\naws kafka describe-cluster-operation --cluster-operation-arn ClusterOperationArn\nThe output of this describe-cluster-operation command looks like the following JSON example.\n{ \"ClusterOperationInfo\": { \"ClientRequestId\": \"c0b7af47-8591-45b5-9c0c-909a1a2c99ea\", \"ClusterArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2\", \"CreationTime\": \"2019-09-25T23:48:04.794Z\", \"OperationArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster-operation/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2/0123abcd-abcd-4f7f-1234-9876543210ef\", \"OperationState\": \"UPDATE_COMPLETE\", \"OperationType\": \"INCREASE_BROKER_COUNT\", \"SourceClusterInfo\": { \"NumberOfBrokerNodes\": 9 }, \"TargetClusterInfo\": { \"NumberOfBrokerNodes\": 12 } }\n}\nIn this output, OperationType is INCREASE_BROKER_COUNT. If OperationState has the value UPDATE_IN_PROGRESS, wait a while, then run the describe-cluster-operation command again.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-count.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-count.html#expand-cluster-cli",
"main_header": "Expanding a cluster using the AWS CLI",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-security",
"text": "Updating a cluster's security settings"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html#msk-update-security",
"main_header": "Updating a cluster's security settings",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-security",
"text": "Updating a cluster's security settings"
},
"links": [],
"text": "Authentication\nClient-Broker Encryption Options\nBroker-Broker Encryption Unauthenticated\nTLS, PLAINTEXT, TLS_PLAINTEXT\nCan be on or off. mTLS\nTLS, TLS_PLAINTEXT\nMust be on. SASL/SCRAM\nTLS\nMust be on. SASL/IAM\nTLS\nMust be on.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html#msk-update-security",
"main_header": "Updating a cluster's security settings",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-security",
"text": "Updating a cluster's security settings"
},
"links": [],
"text": "Authentication\nClient-Broker Encryption Options\nBroker-Broker Encryption Unauthenticated\nTLS, PLAINTEXT, TLS_PLAINTEXT\nCan be on or off. mTLS\nTLS, TLS_PLAINTEXT\nMust be on. SASL/SCRAM\nTLS\nMust be on. SASL/IAM\nTLS\nMust be on.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html#msk-update-security",
"main_header": "Updating a cluster's security settings",
"images": [],
"container_type": "div",
"children_tags": [
"table"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-security",
"text": "Updating a cluster's security settings"
},
"h2": {
"urllink": "#update-security-console",
"text": "Updating a cluster's security settings using the AWS Management Console"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/",
"title": "https://console.aws.amazon.com/msk/"
}
],
"text": "Open the Amazon MSK console at https://console.aws.amazon.com/msk/.\nChoose the MSK cluster that you want to update.\n\nIn the Security settings section, choose Edit.\n\nChoose the authentication and encryption settings that you want for the cluster, then choose Save changes.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html#update-security-console",
"main_header": "Updating a cluster's security settings using the AWS Management Console",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-security",
"text": "Updating a cluster's security settings"
},
"h2": {
"urllink": "#update-security-cli",
"text": "Updating a cluster's security settings using the AWS CLI"
},
"links": [],
"text": "Create a JSON file that contains the encryption settings that you want the cluster to have. The following is an example. \nNoteYou can only update the client-broker encryption setting. You can't update the in-cluster (broker-to-broker) encryption setting.\n{\"EncryptionInTransit\":{\"ClientBroker\": \"TLS\"}}\nCreate a JSON file that contains the authentication settings that you want the cluster to have. The following is an example.\n{\"Sasl\":{\"Scram\":{\"Enabled\":true}}}Run the following AWS CLI command:\naws kafka update-security --cluster-arn ClusterArn --current-version Current-Cluster-Version --client-authentication file://Path-to-Authentication-Settings-JSON-File --encryption-info file://Path-to-Encryption-Settings-JSON-File\nThe output of this update-security operation looks like the following JSON.\n{ \"ClusterArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2\", \"ClusterOperationArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster-operation/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2/0123abcd-abcd-4f7f-1234-9876543210ef\"\n}\n\nTo see the status of the update-security operation, run the following command, replacing ClusterOperationArn with the ARN that you obtained in the output of the update-security command.\naws kafka describe-cluster-operation --cluster-operation-arn ClusterOperationArn\nThe output of this describe-cluster-operation command looks like the following JSON example.\n{ \"ClusterOperationInfo\": { \"ClientRequestId\": \"c0b7af47-8591-45b5-9c0c-909a1a2c99ea\", \"ClusterArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2\", \"CreationTime\": \"2021-09-17T02:35:47.753000+00:00\", \"OperationArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster-operation/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2/0123abcd-abcd-4f7f-1234-9876543210ef\", \"OperationState\": \"PENDING\", \"OperationType\": \"UPDATE_SECURITY\", \"SourceClusterInfo\": {}, \"TargetClusterInfo\": {} }\n}\nIf OperationState has the value PENDING or UPDATE_IN_PROGRESS, wait a while, then run the describe-cluster-operation command again.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html#update-security-cli",
"main_header": "Updating a cluster's security settings using the AWS CLI",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-security",
"text": "Updating a cluster's security settings"
},
"h2": {
"urllink": "#update-security-api",
"text": "Updating a cluster's security settings using the API"
},
"links": [],
"text": "NoteThe AWS CLI and API operations for updating the security settings of a cluster are idempotent. This means that if you invoke the security update operation and specify an authentication or encryption setting that is the same setting that the cluster currently has, that setting won't change.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html#update-security-api",
"main_header": "Updating a cluster's security settings using the API",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-security",
"text": "Updating a cluster's security settings"
},
"h2": {
"urllink": "#update-security-api",
"text": "Updating a cluster's security settings using the API"
},
"links": [],
"text": "Note",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html#update-security-api",
"main_header": "Updating a cluster's security settings using the API",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-security",
"text": "Updating a cluster's security settings"
},
"h2": {
"urllink": "#update-security-api",
"text": "Updating a cluster's security settings using the API"
},
"links": [],
"text": "The AWS CLI and API operations for updating the security settings of a cluster are idempotent. This means that if you invoke the security update operation and specify an authentication or encryption setting that is the same setting that the cluster currently has, that setting won't change.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html#update-security-api",
"main_header": "Updating a cluster's security settings using the API",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-security",
"text": "Updating a cluster's security settings"
},
"h2": {
"urllink": "#update-security-api",
"text": "Updating a cluster's security settings using the API"
},
"links": [],
"text": "The AWS CLI and API operations for updating the security settings of a cluster are idempotent. This means that if you invoke the security update operation and specify an authentication or encryption setting that is the same setting that the cluster currently has, that setting won't change.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html#update-security-api",
"main_header": "Updating a cluster's security settings using the API",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-reboot-broker",
"text": "Rebooting a broker for an Amazon MSK cluster"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-reboot-broker.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-reboot-broker.html#msk-reboot-broker",
"main_header": "Rebooting a broker for an Amazon MSK cluster",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-reboot-broker",
"text": "Rebooting a broker for an Amazon MSK cluster"
},
"h2": {
"urllink": "#msk-reboot-broker-console",
"text": "Rebooting a Broker Using the AWS Management Console"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/",
"title": "https://console.aws.amazon.com/msk/"
}
],
"text": "Open the Amazon MSK console at https://console.aws.amazon.com/msk/.\nChoose the MSK cluster whose broker you want to reboot.\n\nScroll down to the Broker details section, and choose the broker you want to reboot.\n\nChoose the Reboot broker button.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-reboot-broker.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-reboot-broker.html#msk-reboot-broker-console",
"main_header": "Rebooting a Broker Using the AWS Management Console",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-reboot-broker",
"text": "Rebooting a broker for an Amazon MSK cluster"
},
"h2": {
"urllink": "#msk-reboot-broker-cli",
"text": "Rebooting a Broker Using the AWS CLI"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-list-clusters.html",
"title": "Listing Amazon MSK clusters"
},
{
"url": "https://awscli.amazonaws.com/v2/documentation/api/latest/reference/kafka/list-nodes.html",
"title": "list-nodes"
}
],
"text": "Run the following command, replacing ClusterArn with the Amazon Resource Name (ARN) that you obtained when you created your cluster, and the BrokerId with the ID of the broker that you want to reboot.\nNoteThe reboot-broker operation only supports rebooting one broker at a time.\nIf you don't have the ARN for your cluster, you can find it by listing all clusters. For more information, see Listing Amazon MSK clusters.\nIf you don't have the broker IDs for your cluster, you can find them by listing the broker nodes. For more information, see list-nodes.\naws kafka reboot-broker --cluster-arn ClusterArn --broker-ids BrokerId\nThe output of this reboot-broker operation looks like the following JSON.\n{ \"ClusterArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2\", \"ClusterOperationArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster-operation/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2/0123abcd-abcd-4f7f-1234-9876543210ef\"\n}\n\nTo get the result of the reboot-broker operation, run the following command, replacing ClusterOperationArn with the ARN that you obtained in the output of the reboot-broker command.\naws kafka describe-cluster-operation --cluster-operation-arn ClusterOperationArn\nThe output of this describe-cluster-operation command looks like the following JSON example.\n{ \"ClusterOperationInfo\": { \"ClientRequestId\": \"c0b7af47-8591-45b5-9c0c-909a1a2c99ea\", \"ClusterArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2\", \"CreationTime\": \"2019-09-25T23:48:04.794Z\", \"OperationArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster-operation/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2/0123abcd-abcd-4f7f-1234-9876543210ef\", \"OperationState\": \"REBOOT_IN_PROGRESS\", \"OperationType\": \"REBOOT_NODE\", \"SourceClusterInfo\": {}, \"TargetClusterInfo\": {} }\n}",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-reboot-broker.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-reboot-broker.html#msk-reboot-broker-cli",
"main_header": "Rebooting a Broker Using the AWS CLI",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-tagging",
"text": "Tagging an Amazon MSK Cluster"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html#msk-tagging",
"main_header": "Tagging an Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-tagging",
"text": "Tagging an Amazon MSK Cluster"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html#msk-tagging-basics",
"title": "Tag Basics"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html#msk-tagging-billing",
"title": "Tracking Costs Using Tagging"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html#msk-tagging-restrictions",
"title": "Tag Restrictions"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html#msk-tagging-howto",
"title": "Tagging Resources Using the Amazon MSK API"
}
],
"text": "TopicsTag BasicsTracking Costs Using TaggingTag RestrictionsTagging Resources Using the Amazon MSK API",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html#msk-tagging",
"main_header": "Tagging an Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [
"p",
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-tagging",
"text": "Tagging an Amazon MSK Cluster"
},
"links": [],
"text": "Topics",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html#msk-tagging",
"main_header": "Tagging an Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [
"strong"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-tagging",
"text": "Tagging an Amazon MSK Cluster"
},
"h2": {
"urllink": "#msk-tagging-basics",
"text": "Tag Basics"
},
"links": [],
"text": "Add tags to an Amazon MSK resource.\n\nList the tags for an Amazon MSK resource.\n\nRemove tags from an Amazon MSK resource.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html#msk-tagging-basics",
"main_header": "Tag Basics",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-tagging",
"text": "Tagging an Amazon MSK Cluster"
},
"h2": {
"urllink": "#msk-tagging-basics",
"text": "Tag Basics"
},
"links": [],
"text": "Project: Project name\n\nOwner: Name\n\nPurpose: Load testing Environment: Production",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html#msk-tagging-basics",
"main_header": "Tag Basics",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-tagging",
"text": "Tagging an Amazon MSK Cluster"
},
"h2": {
"urllink": "#msk-tagging-restrictions",
"text": "Tag Restrictions"
},
"links": [],
"text": "Basic restrictions\n\nThe maximum number of tags per resource is 50.\n\nTag keys and values are case-sensitive.\n\nYou can't change or edit tags for a deleted resource.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html#msk-tagging-restrictions",
"main_header": "Tag Restrictions",
"images": [],
"container_type": "div",
"children_tags": [
"p",
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-tagging",
"text": "Tagging an Amazon MSK Cluster"
},
"h2": {
"urllink": "#msk-tagging-restrictions",
"text": "Tag Restrictions"
},
"links": [],
"text": "Basic restrictions",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html#msk-tagging-restrictions",
"main_header": "Tag Restrictions",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-tagging",
"text": "Tagging an Amazon MSK Cluster"
},
"h2": {
"urllink": "#msk-tagging-restrictions",
"text": "Tag Restrictions"
},
"links": [],
"text": "Tag key restrictions\n\nEach tag key must be unique. If you add a tag with a key that's already in use, your new tag overwrites the existing key-value pair. You can't start a tag key with aws: because this prefix is reserved for use by  AWS.  AWS creates tags that begin with this prefix on your behalf, but you can't edit or delete them.\n\nTag keys must be between 1 and 128 Unicode characters in length.\n\nTag keys must consist of the following characters: Unicode letters, digits, white space, and the following special characters: _ . / = + - @.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html#msk-tagging-restrictions",
"main_header": "Tag Restrictions",
"images": [],
"container_type": "div",
"children_tags": [
"p",
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-tagging",
"text": "Tagging an Amazon MSK Cluster"
},
"h2": {
"urllink": "#msk-tagging-restrictions",
"text": "Tag Restrictions"
},
"links": [],
"text": "Tag key restrictions",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html#msk-tagging-restrictions",
"main_header": "Tag Restrictions",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-tagging",
"text": "Tagging an Amazon MSK Cluster"
},
"h2": {
"urllink": "#msk-tagging-restrictions",
"text": "Tag Restrictions"
},
"links": [],
"text": "Tag value restrictions\n\nTag values must be between 0 and 255 Unicode characters in length.\n\nTag values can be blank. Otherwise, they must consist of the following characters: Unicode letters, digits, white space, and any of the following special characters: _ . / = + - @.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html#msk-tagging-restrictions",
"main_header": "Tag Restrictions",
"images": [],
"container_type": "div",
"children_tags": [
"p",
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-tagging",
"text": "Tagging an Amazon MSK Cluster"
},
"h2": {
"urllink": "#msk-tagging-restrictions",
"text": "Tag Restrictions"
},
"links": [],
"text": "Tag value restrictions",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html#msk-tagging-restrictions",
"main_header": "Tag Restrictions",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-tagging",
"text": "Tagging an Amazon MSK Cluster"
},
"h2": {
"urllink": "#msk-tagging-howto",
"text": "Tagging Resources Using the Amazon MSK API"
},
"links": [
{
"url": "https://docs.aws.amazon.com//msk/1.0/apireference/tags-resourcearn.html#ListTagsForResource",
"title": "ListTagsForResource"
},
{
"url": "https://docs.aws.amazon.com//msk/1.0/apireference/tags-resourcearn.html#TagResource",
"title": "TagResource"
},
{
"url": "https://docs.aws.amazon.com//msk/1.0/apireference/tags-resourcearn.html#UntagResource",
"title": "UntagResource"
}
],
"text": "ListTagsForResource\n\nTagResource\n\nUntagResource",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html#msk-tagging-howto",
"main_header": "Tagging Resources Using the Amazon MSK API",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-configuration",
"text": "Amazon MSK Configuration"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html#msk-configuration",
"main_header": "Amazon MSK Configuration",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-configuration-properties",
"text": "Custom MSK Configurations"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html#msk-configuration-properties",
"main_header": "Custom MSK Configurations",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-configuration-properties",
"text": "Custom MSK Configurations"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.4.1",
"title": "Apache Kafka version 2.4.1 (use 2.4.1.1 instead)"
}
],
"text": "Apache Kafka Configuration Properties That You Can Set\n\nName\nDescription allow.everyone.if.no.acl.found\nIf you want to set this property to false, first make sure you define Apache Kafka ACLs for your cluster. If you set this property to false without first defining Apache Kafka ACLs, you will lose access to the cluster. If that happens, you can update the configuration again and set this property to true in order to regain access to the cluster. auto.create.topics.enable\nEnables topic autocreation on the server. compression.type\nThe final compression type for a given topic. You can set this property to the standard compression codecs (gzip, snappy, lz4, and zstd). It additionally accepts uncompressed, which is equivalent to no compression; and producer, which means retain the original compression codec set by the producer. connections.max.idle.ms\n\nIdle connections timeout in milliseconds. The server socket processor threads close the connections that are idle for more than the value that you set for this property. default.replication.factor\nThe default replication factor for automatically created topics. delete.topic.enable\nEnables the delete topic operation. If this config is turned off, you can't delete a topic through the admin tool. group.initial.rebalance.delay.ms\nAmount of time the group coordinator waits for more consumers to join a new group before performing the first rebalance. A longer delay means potentially fewer rebalances, but increases the time until processing begins. group.max.session.timeout.ms\nMaximum session timeout for registered consumers. Longer timeouts give consumers more time to process messages in between heartbeats at the cost of a longer time to detect failures. group.min.session.timeout.ms\nMinimum session timeout for registered consumers. Shorter timeouts result in quicker failure detection at the cost of more frequent consumer heartbeating, which can overwhelm broker resources. leader.imbalance.per.broker.percentage\nThe ratio of leader imbalance allowed per broker. The controller triggers a leader balance if it goes above this value per broker. This value is specified in percentage. log.cleaner.delete.retention.ms\nAmount of time that you want Apache Kafka to retain deleted records. The minimum value is 0. log.cleaner.min.cleanable.ratio\n\nThis configuration property can have values between 0 and 1. It determines how frequently the log compactor attempts to clean the log (assuming log compaction is enabled). By default, Apache Kafka avoids cleaning a log where more than 50% of the log has been compacted. This ratio bounds the maximum space wasted in the log by duplicates (at 50%, which means at most 50% of the log could be duplicates). A higher ratio means fewer, more efficient cleanings but more wasted space in the log. log.cleanup.policy\nThe default cleanup policy for segments beyond the retention window. A comma-separated list of valid policies. Valid policies are delete and compact. log.flush.interval.messages\nNumber of messages accumulated on a log partition before messages are flushed to disk. log.flush.interval.ms\nMaximum time in ms that a message in any topic is kept in memory before flushed to disk. If not set, the value in log.flush.scheduler.interval.ms is used. The minimum value is 0. log.message.timestamp.difference.max.ms\nThe maximum difference allowed between the timestamp when a broker receives a message and the timestamp specified in the message. If log.message.timestamp.type=CreateTime, a message is rejected if the difference in timestamp exceeds this threshold. This configuration is ignored if log.message.timestamp.type=LogAppendTime. log.message.timestamp.type\nSpecifies whether the timestamp in the message is the message creation time or the log append time. The allowed values are CreateTime and LogAppendTime. log.retention.bytes\nMaximum size of the log before deleting it. log.retention.hours\nNumber of hours to keep a log file before deleting it, tertiary to the log.retention.ms property. log.retention.minutes\nNumber of minutes to keep a log file before deleting it, secondary to log.retention.ms property. If not set, the value in log.retention.hours is used. log.retention.ms\nNumber of milliseconds to keep a log file before deleting it (in milliseconds), If not set, the value in log.retention.minutes is used. log.roll.ms\nMaximum time before a new log segment is rolled out (in milliseconds). If you don't set this property, the value in log.roll.hours is used. The minimum possible value for this property is 1. log.segment.bytes\nMaximum size of a single log file. max.incremental.fetch.session.cache.slots\nMaximum number of incremental fetch sessions that are maintained. message.max.bytes\n\nLargest record batch size allowed by Kafka. If this is increased and there are consumers older than 0.10.2, the consumers' fetch size must also be increased so that the they can fetch record batches this large.\nIn the latest message format version, records are always grouped into batches for efficiency. In previous message format versions, uncompressed records are not grouped into batches and this limit only applies to a single record in that case.\nThis can be set per topic with the topic level max.message.bytes config. min.insync.replicas\n\nWhen a producer sets acks to \"all\" (or \"-1\"), min.insync.replicas specifies the minimum number of replicas that must acknowledge a write for the write to be considered successful. If this minimum cannot be met, the producer raises an exception (either NotEnoughReplicas or NotEnoughReplicasAfterAppend).\nWhen used together, min.insync.replicas and acks enable you to enforce greater durability guarantees. A typical scenario would be to create a topic with a replication factor of 3, set min.insync.replicas to 2, and produce with acks of \"all\". This ensures that the producer raises an exception if a majority of replicas don't receive a write. num.io.threads\nThe number of threads that the server uses for processing requests, which may include disk I/O. num.network.threads\nThe number of threads that the server uses for receiving requests from the network and sending responses to it. num.partitions\nDefault number of log partitions per topic. num.recovery.threads.per.data.dir\nThe number of threads per data directory to be used for log recovery at startup and for flushing at shutdown. num.replica.fetchers\nThe number of fetcher threads used to replicate messages from a source broker. Increasing this value can increase the degree of I/O parallelism in the follower broker. offsets.retention.minutes\nAfter a consumer group loses all its consumers (that is, it becomes empty) its offsets are kept for this retention period before getting discarded. For standalone consumers (that is, using manual assignment), offsets are expired after the time of the last commit plus this retention period. offsets.topic.replication.factor\nThe replication factor for the offsets topic (set higher to ensure availability). Internal topic creation fails until the cluster size meets this replication factor requirement. replica.fetch.max.bytes\nNumber of bytes of messages to attempt to fetch for each partition. This is not an absolute maximum. If the first record batch in the first non-empty partition of the fetch is larger than this value, the record batch is returned to ensure that progress can be made. The maximum record batch size accepted by the broker is defined via message.max.bytes (broker config) or max.message.bytes (topic config). replica.fetch.response.max.bytes\nThe maximum number of bytes expected for the entire fetch response. Records are fetched in batches, and if the first record batch in the first non-empty partition of the fetch is larger than this value, the record batch will still be returned to ensure that progress can be made. This isn't an absolute maximum. The message.max.bytes (broker config) or max.message.bytes (topic config) properties specify the maximum record batch size that the broker accepts. replica.lag.time.max.ms\nIf a follower hasn't sent any fetch requests or hasn't consumed up to the leader's log end offset for at least this number of milliseconds, the leader removes the follower from the ISR.MinValue: 10000MaxValue (inclusive) = 30000 replica.selector.class\nThe fully-qualified class name that implements ReplicaSelector. This is used by the broker to find the preferred read replica. If you are using Apache Kafka version 2.4.1 or higher, and want to allow consumers to fetch from the closest replica, set this property to org.apache.kafka.common.replica.RackAwareReplicaSelector. For more information, see Apache Kafka version 2.4.1 (use 2.4.1.1 instead). replica.socket.receive.buffer.bytes\nThe socket receive buffer for network requests. socket.receive.buffer.bytes\nThe SO_RCVBUF buffer of the socket server sockets. The minimum value to which you can set this property is -1. If the value is -1, Amazon MSK uses the OS default. socket.request.max.bytes\nThe maximum number of bytes in a socket request. socket.send.buffer.bytes\nThe SO_SNDBUF buffer of the socket server sockets. The minimum value to which you can set this property is -1. If the value is -1, Amazon MSK uses the OS default. transaction.max.timeout.ms\nMaximum timeout for transactions. If a client's requested transaction time exceed this, the broker returns an error in InitProducerIdRequest. This prevents a client from too large of a timeout, which can stall consumers reading from topics included in the transaction. transaction.state.log.min.isr\nOverridden min.insync.replicas config for the transaction topic. transaction.state.log.replication.factor\nThe replication factor for the transaction topic. Set it to a higher value to increase availability. Internal topic creation fails until the cluster size meets this replication factor requirement. transactional.id.expiration.ms\nThe time in milliseconds that the transaction coordinator waits without receiving any transaction status updates for the current transaction before expiring its transactional ID. This setting also influences producer ID expiration: producer IDs are expired when this time elapses after the last write with the given producer ID. Producer IDs might expire sooner if the last write from the producer ID is deleted due to the topic's retention settings. The minimum value for this property is 1 millisecond. unclean.leader.election.enable\nIndicates whether to enable replicas not in the ISR set to be elected as leader as a last resort, even though doing so may result in data loss. zookeeper.connection.timeout.ms\nMaximum time that the client waits to establish a connection to ZooKeeper. If not set, the value in zookeeper.session.timeout.ms is used. zookeeper.session.timeout.ms\n\nThe Apache ZooKeeper session timeout in milliseconds.\nMinValue = 6000\nMaxValue (inclusive) = 18000",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html#msk-configuration-properties",
"main_header": "Custom MSK Configurations",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-configuration-properties",
"text": "Custom MSK Configurations"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.4.1",
"title": "Apache Kafka version 2.4.1 (use 2.4.1.1 instead)"
}
],
"text": "Apache Kafka Configuration Properties That You Can Set\n\nName\nDescription allow.everyone.if.no.acl.found\nIf you want to set this property to false, first make sure you define Apache Kafka ACLs for your cluster. If you set this property to false without first defining Apache Kafka ACLs, you will lose access to the cluster. If that happens, you can update the configuration again and set this property to true in order to regain access to the cluster. auto.create.topics.enable\nEnables topic autocreation on the server. compression.type\nThe final compression type for a given topic. You can set this property to the standard compression codecs (gzip, snappy, lz4, and zstd). It additionally accepts uncompressed, which is equivalent to no compression; and producer, which means retain the original compression codec set by the producer. connections.max.idle.ms\n\nIdle connections timeout in milliseconds. The server socket processor threads close the connections that are idle for more than the value that you set for this property. default.replication.factor\nThe default replication factor for automatically created topics. delete.topic.enable\nEnables the delete topic operation. If this config is turned off, you can't delete a topic through the admin tool. group.initial.rebalance.delay.ms\nAmount of time the group coordinator waits for more consumers to join a new group before performing the first rebalance. A longer delay means potentially fewer rebalances, but increases the time until processing begins. group.max.session.timeout.ms\nMaximum session timeout for registered consumers. Longer timeouts give consumers more time to process messages in between heartbeats at the cost of a longer time to detect failures. group.min.session.timeout.ms\nMinimum session timeout for registered consumers. Shorter timeouts result in quicker failure detection at the cost of more frequent consumer heartbeating, which can overwhelm broker resources. leader.imbalance.per.broker.percentage\nThe ratio of leader imbalance allowed per broker. The controller triggers a leader balance if it goes above this value per broker. This value is specified in percentage. log.cleaner.delete.retention.ms\nAmount of time that you want Apache Kafka to retain deleted records. The minimum value is 0. log.cleaner.min.cleanable.ratio\n\nThis configuration property can have values between 0 and 1. It determines how frequently the log compactor attempts to clean the log (assuming log compaction is enabled). By default, Apache Kafka avoids cleaning a log where more than 50% of the log has been compacted. This ratio bounds the maximum space wasted in the log by duplicates (at 50%, which means at most 50% of the log could be duplicates). A higher ratio means fewer, more efficient cleanings but more wasted space in the log. log.cleanup.policy\nThe default cleanup policy for segments beyond the retention window. A comma-separated list of valid policies. Valid policies are delete and compact. log.flush.interval.messages\nNumber of messages accumulated on a log partition before messages are flushed to disk. log.flush.interval.ms\nMaximum time in ms that a message in any topic is kept in memory before flushed to disk. If not set, the value in log.flush.scheduler.interval.ms is used. The minimum value is 0. log.message.timestamp.difference.max.ms\nThe maximum difference allowed between the timestamp when a broker receives a message and the timestamp specified in the message. If log.message.timestamp.type=CreateTime, a message is rejected if the difference in timestamp exceeds this threshold. This configuration is ignored if log.message.timestamp.type=LogAppendTime. log.message.timestamp.type\nSpecifies whether the timestamp in the message is the message creation time or the log append time. The allowed values are CreateTime and LogAppendTime. log.retention.bytes\nMaximum size of the log before deleting it. log.retention.hours\nNumber of hours to keep a log file before deleting it, tertiary to the log.retention.ms property. log.retention.minutes\nNumber of minutes to keep a log file before deleting it, secondary to log.retention.ms property. If not set, the value in log.retention.hours is used. log.retention.ms\nNumber of milliseconds to keep a log file before deleting it (in milliseconds), If not set, the value in log.retention.minutes is used. log.roll.ms\nMaximum time before a new log segment is rolled out (in milliseconds). If you don't set this property, the value in log.roll.hours is used. The minimum possible value for this property is 1. log.segment.bytes\nMaximum size of a single log file. max.incremental.fetch.session.cache.slots\nMaximum number of incremental fetch sessions that are maintained. message.max.bytes\n\nLargest record batch size allowed by Kafka. If this is increased and there are consumers older than 0.10.2, the consumers' fetch size must also be increased so that the they can fetch record batches this large.\nIn the latest message format version, records are always grouped into batches for efficiency. In previous message format versions, uncompressed records are not grouped into batches and this limit only applies to a single record in that case.\nThis can be set per topic with the topic level max.message.bytes config. min.insync.replicas\n\nWhen a producer sets acks to \"all\" (or \"-1\"), min.insync.replicas specifies the minimum number of replicas that must acknowledge a write for the write to be considered successful. If this minimum cannot be met, the producer raises an exception (either NotEnoughReplicas or NotEnoughReplicasAfterAppend).\nWhen used together, min.insync.replicas and acks enable you to enforce greater durability guarantees. A typical scenario would be to create a topic with a replication factor of 3, set min.insync.replicas to 2, and produce with acks of \"all\". This ensures that the producer raises an exception if a majority of replicas don't receive a write. num.io.threads\nThe number of threads that the server uses for processing requests, which may include disk I/O. num.network.threads\nThe number of threads that the server uses for receiving requests from the network and sending responses to it. num.partitions\nDefault number of log partitions per topic. num.recovery.threads.per.data.dir\nThe number of threads per data directory to be used for log recovery at startup and for flushing at shutdown. num.replica.fetchers\nThe number of fetcher threads used to replicate messages from a source broker. Increasing this value can increase the degree of I/O parallelism in the follower broker. offsets.retention.minutes\nAfter a consumer group loses all its consumers (that is, it becomes empty) its offsets are kept for this retention period before getting discarded. For standalone consumers (that is, using manual assignment), offsets are expired after the time of the last commit plus this retention period. offsets.topic.replication.factor\nThe replication factor for the offsets topic (set higher to ensure availability). Internal topic creation fails until the cluster size meets this replication factor requirement. replica.fetch.max.bytes\nNumber of bytes of messages to attempt to fetch for each partition. This is not an absolute maximum. If the first record batch in the first non-empty partition of the fetch is larger than this value, the record batch is returned to ensure that progress can be made. The maximum record batch size accepted by the broker is defined via message.max.bytes (broker config) or max.message.bytes (topic config). replica.fetch.response.max.bytes\nThe maximum number of bytes expected for the entire fetch response. Records are fetched in batches, and if the first record batch in the first non-empty partition of the fetch is larger than this value, the record batch will still be returned to ensure that progress can be made. This isn't an absolute maximum. The message.max.bytes (broker config) or max.message.bytes (topic config) properties specify the maximum record batch size that the broker accepts. replica.lag.time.max.ms\nIf a follower hasn't sent any fetch requests or hasn't consumed up to the leader's log end offset for at least this number of milliseconds, the leader removes the follower from the ISR.MinValue: 10000MaxValue (inclusive) = 30000 replica.selector.class\nThe fully-qualified class name that implements ReplicaSelector. This is used by the broker to find the preferred read replica. If you are using Apache Kafka version 2.4.1 or higher, and want to allow consumers to fetch from the closest replica, set this property to org.apache.kafka.common.replica.RackAwareReplicaSelector. For more information, see Apache Kafka version 2.4.1 (use 2.4.1.1 instead). replica.socket.receive.buffer.bytes\nThe socket receive buffer for network requests. socket.receive.buffer.bytes\nThe SO_RCVBUF buffer of the socket server sockets. The minimum value to which you can set this property is -1. If the value is -1, Amazon MSK uses the OS default. socket.request.max.bytes\nThe maximum number of bytes in a socket request. socket.send.buffer.bytes\nThe SO_SNDBUF buffer of the socket server sockets. The minimum value to which you can set this property is -1. If the value is -1, Amazon MSK uses the OS default. transaction.max.timeout.ms\nMaximum timeout for transactions. If a client's requested transaction time exceed this, the broker returns an error in InitProducerIdRequest. This prevents a client from too large of a timeout, which can stall consumers reading from topics included in the transaction. transaction.state.log.min.isr\nOverridden min.insync.replicas config for the transaction topic. transaction.state.log.replication.factor\nThe replication factor for the transaction topic. Set it to a higher value to increase availability. Internal topic creation fails until the cluster size meets this replication factor requirement. transactional.id.expiration.ms\nThe time in milliseconds that the transaction coordinator waits without receiving any transaction status updates for the current transaction before expiring its transactional ID. This setting also influences producer ID expiration: producer IDs are expired when this time elapses after the last write with the given producer ID. Producer IDs might expire sooner if the last write from the producer ID is deleted due to the topic's retention settings. The minimum value for this property is 1 millisecond. unclean.leader.election.enable\nIndicates whether to enable replicas not in the ISR set to be elected as leader as a last resort, even though doing so may result in data loss. zookeeper.connection.timeout.ms\nMaximum time that the client waits to establish a connection to ZooKeeper. If not set, the value in zookeeper.session.timeout.ms is used. zookeeper.session.timeout.ms\n\nThe Apache ZooKeeper session timeout in milliseconds.\nMinValue = 6000\nMaxValue (inclusive) = 18000",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html#msk-configuration-properties",
"main_header": "Custom MSK Configurations",
"images": [],
"container_type": "div",
"children_tags": [
"table"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-configuration-properties",
"text": "Custom MSK Configurations"
},
"h2": {
"urllink": "#msk-dynamic-confinguration",
"text": "Dynamic Configuration"
},
"links": [],
"text": "NoteYou can set the advertised.listeners property, but not the listeners property.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html#msk-dynamic-confinguration",
"main_header": "Dynamic Configuration",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-configuration-properties",
"text": "Custom MSK Configurations"
},
"h2": {
"urllink": "#msk-dynamic-confinguration",
"text": "Dynamic Configuration"
},
"links": [],
"text": "Note",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html#msk-dynamic-confinguration",
"main_header": "Dynamic Configuration",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-configuration-properties",
"text": "Custom MSK Configurations"
},
"h2": {
"urllink": "#msk-dynamic-confinguration",
"text": "Dynamic Configuration"
},
"links": [],
"text": "You can set the advertised.listeners property, but not the listeners property.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html#msk-dynamic-confinguration",
"main_header": "Dynamic Configuration",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-configuration-properties",
"text": "Custom MSK Configurations"
},
"h2": {
"urllink": "#msk-dynamic-confinguration",
"text": "Dynamic Configuration"
},
"links": [],
"text": "You can set the advertised.listeners property, but not the listeners property.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html#msk-dynamic-confinguration",
"main_header": "Dynamic Configuration",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-configuration-properties",
"text": "Custom MSK Configurations"
},
"h2": {
"urllink": "#msk-configuration-states",
"text": "Configuration States"
},
"links": [],
"text": "ACTIVEDELETINGDELETE_FAILED",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html#msk-configuration-states",
"main_header": "Configuration States",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-default-configuration",
"text": "The Default Amazon MSK Configuration"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-default-configuration.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-default-configuration.html#msk-default-configuration",
"main_header": "The Default Amazon MSK Configuration",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-default-configuration",
"text": "The Default Amazon MSK Configuration"
},
"links": [],
"text": "Default Configuration Values\n\nName\nDescription\nDefault Value allow.everyone.if.no.acl.found\nIf no resource patterns match a specific resource, the resource has no associated ACLs. In this case, if this property is set to true, everyone is allowed to access the resource, not just the super users.\ntrue auto.create.topics.enable\nEnables autocreation of a topic on the server.\nfalse auto.leader.rebalance.enable\nEnables auto leader balancing. A background thread checks and triggers leader balance if required at regular intervals.\ntrue default.replication.factor\nDefault replication factors for automatically created topics.\n3 for 3-AZ clusters, 2 for 2-AZ clusters min.insync.replicas\n\nWhen a producer sets acks to \"all\" (or \"-1\"), min.insync.replicas specifies the minimum number of replicas that must acknowledge a write for the write to be considered successful. If this minimum can't be met, the producer raises an exception (either NotEnoughReplicas or NotEnoughReplicasAfterAppend).\nWhen used together, min.insync.replicas and acks enable you to enforce greater durability guarantees. A typical scenario would be to create a topic with a replication factor of 3, set min.insync.replicas to 2, and produce with acks of \"all\". This ensures that the producer raises an exception if a majority of replicas do not receive a write.\n\n2 for 3-AZ clusters, 1 for 2-AZ clusters num.io.threads\nNumber of threads that the server uses for processing requests, which may include disk I/O.\n8 num.network.threads\nNumber of threads that the server uses for receiving requests from the network and sending responses to the network.\n5 num.partitions\nDefault number of log partitions per topic.\n1 num.replica.fetchers\nNumber of fetcher threads used to replicate messages from a source broker. Increasing this value can increase the degree of I/O parallelism in the follower broker.\n2 replica.lag.time.max.ms\nIf a follower hasn't sent any fetch requests or hasn't consumed up to the leader's log end offset for at least this number of milliseconds, the leader removes the follower from the ISR.\n30000 socket.receive.buffer.bytes\nSO_RCVBUF buffer of the socket sever sockets. If the value is -1, the OS default is used.\n102400 socket.request.max.bytes\nMaximum number of bytes in a socket request.\n104857600 socket.send.buffer.bytes\nSO_SNDBUF buffer of the socket sever sockets. If the value is -1, the OS default is used.\n102400 unclean.leader.election.enable\nIndicates whether to enable replicas not in the ISR set to be elected as leader as a last resort, even though doing so may result in data loss.\ntrue zookeeper.session.timeout.ms\n\nThe Apache ZooKeeper session timeout in milliseconds.\n\n18000 zookeeper.set.acl\nSet client to use secure ACLs.\nfalse",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-default-configuration.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-default-configuration.html#msk-default-configuration",
"main_header": "The Default Amazon MSK Configuration",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-default-configuration",
"text": "The Default Amazon MSK Configuration"
},
"links": [],
"text": "Default Configuration Values\n\nName\nDescription\nDefault Value allow.everyone.if.no.acl.found\nIf no resource patterns match a specific resource, the resource has no associated ACLs. In this case, if this property is set to true, everyone is allowed to access the resource, not just the super users.\ntrue auto.create.topics.enable\nEnables autocreation of a topic on the server.\nfalse auto.leader.rebalance.enable\nEnables auto leader balancing. A background thread checks and triggers leader balance if required at regular intervals.\ntrue default.replication.factor\nDefault replication factors for automatically created topics.\n3 for 3-AZ clusters, 2 for 2-AZ clusters min.insync.replicas\n\nWhen a producer sets acks to \"all\" (or \"-1\"), min.insync.replicas specifies the minimum number of replicas that must acknowledge a write for the write to be considered successful. If this minimum can't be met, the producer raises an exception (either NotEnoughReplicas or NotEnoughReplicasAfterAppend).\nWhen used together, min.insync.replicas and acks enable you to enforce greater durability guarantees. A typical scenario would be to create a topic with a replication factor of 3, set min.insync.replicas to 2, and produce with acks of \"all\". This ensures that the producer raises an exception if a majority of replicas do not receive a write.\n\n2 for 3-AZ clusters, 1 for 2-AZ clusters num.io.threads\nNumber of threads that the server uses for processing requests, which may include disk I/O.\n8 num.network.threads\nNumber of threads that the server uses for receiving requests from the network and sending responses to the network.\n5 num.partitions\nDefault number of log partitions per topic.\n1 num.replica.fetchers\nNumber of fetcher threads used to replicate messages from a source broker. Increasing this value can increase the degree of I/O parallelism in the follower broker.\n2 replica.lag.time.max.ms\nIf a follower hasn't sent any fetch requests or hasn't consumed up to the leader's log end offset for at least this number of milliseconds, the leader removes the follower from the ISR.\n30000 socket.receive.buffer.bytes\nSO_RCVBUF buffer of the socket sever sockets. If the value is -1, the OS default is used.\n102400 socket.request.max.bytes\nMaximum number of bytes in a socket request.\n104857600 socket.send.buffer.bytes\nSO_SNDBUF buffer of the socket sever sockets. If the value is -1, the OS default is used.\n102400 unclean.leader.election.enable\nIndicates whether to enable replicas not in the ISR set to be elected as leader as a last resort, even though doing so may result in data loss.\ntrue zookeeper.session.timeout.ms\n\nThe Apache ZooKeeper session timeout in milliseconds.\n\n18000 zookeeper.set.acl\nSet client to use secure ACLs.\nfalse",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-default-configuration.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-default-configuration.html#msk-default-configuration",
"main_header": "The Default Amazon MSK Configuration",
"images": [],
"container_type": "div",
"children_tags": [
"table"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-configuration-operations",
"text": "Amazon MSK Configuration Operations"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html#msk-configuration-operations",
"main_header": "Amazon MSK Configuration Operations",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-configuration-operations",
"text": "Amazon MSK Configuration Operations"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html#msk-configuration-operations-create",
"title": "To create an MSK configuration"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html#msk-configuration-operations-update",
"title": "To update an MSK configuration"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html#msk-configuration-operations-delete",
"title": "To delete an MSK configuration"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html#msk-configuration-operations-describe",
"title": "To describe an MSK configuration"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html#msk-configuration-operations-describe",
"title": "To describe an MSK configuration revision"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html#msk-configuration-operations-list",
"title": "To list all MSK configurations in your account for the current Region"
}
],
"text": "This topic contains the following sections:To create an MSK configurationTo update an MSK configurationTo delete an MSK configurationTo describe an MSK configurationTo describe an MSK configuration revisionTo list all MSK configurations in your account for the current Region",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html#msk-configuration-operations",
"main_header": "Amazon MSK Configuration Operations",
"images": [],
"container_type": "div",
"children_tags": [
"p",
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-configuration-operations",
"text": "Amazon MSK Configuration Operations"
},
"links": [],
"text": "This topic contains the following sections:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html#msk-configuration-operations",
"main_header": "Amazon MSK Configuration Operations",
"images": [],
"container_type": "p",
"children_tags": [
"strong"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-configuration-operations",
"text": "Amazon MSK Configuration Operations"
},
"h2": {
"urllink": "#msk-configuration-operations-create",
"text": "To create an MSK configuration"
},
"links": [],
"text": "Create a file where you specify the configuration properties that you want to set and the values that you want to assign to them. The following are the contents of an example configuration file.\nauto.create.topics.enable = true\n\nzookeeper.connection.timeout.ms = 1000\n\nlog.roll.ms = 604800000\n\nRun the following AWS CLI command, replacing config-file-path with the path to the file where you saved your configuration in the previous step.\nNoteThe name that you choose for your configuration must match the following regex: \"^[0-9A-Za-z][0-9A-Za-z-]{0,}$\".\naws kafka create-configuration --name \"ExampleConfigurationName\" --description \"Example configuration description.\" --kafka-versions \"1.1.1\" --server-properties fileb://config-file-path\nThe following is an example of a successful response after running this command.\n{ \"Arn\": \"arn:aws:kafka:us-east-1:123456789012:configuration/SomeTest/abcdabcd-1234-abcd-1234-abcd123e8e8e-1\", \"CreationTime\": \"2019-05-21T19:37:40.626Z\", \"LatestRevision\": { \"CreationTime\": \"2019-05-21T19:37:40.626Z\", \"Description\": \"Example configuration description.\", \"Revision\": 1 }, \"Name\": \"ExampleConfigurationName\"\n}\nThe previous command returns an Amazon Resource Name (ARN) for the newly created configuration. Save this ARN because you need it to refer to this configuration in other commands. If you lose your configuration ARN, you can find it again by listing all the configurations in your account.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html#msk-configuration-operations-create",
"main_header": "To create an MSK configuration",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-configuration-operations",
"text": "Amazon MSK Configuration Operations"
},
"h2": {
"urllink": "#msk-configuration-operations-update",
"text": "To update an MSK configuration"
},
"links": [],
"text": "Create a file where you specify the configuration properties that you want to update and the values that you want to assign to them. The following are the contents of an example configuration file.\nauto.create.topics.enable = true\n\nzookeeper.connection.timeout.ms = 1000\n\nmin.insync.replicas = 2\n\nRun the following AWS CLI command, replacing config-file-path with the path to the file where you saved your configuration in the previous step.\nReplace configuration-arn with the ARN you obtained when you created the configuration. If you didn't save the ARN when you created the configuration, you can use the list-configurations command to list all configuration in your account, and find the configuration that you want in the list that appears in the response. The ARN of the configuration also appears in that list.\naws kafka update-configuration --arn configuration-arn --description \"Example configuration revision description.\" --server-properties fileb://config-file-path\n\nThe following is an example of a successful response after running this command.\n{ \"Arn\": \"arn:aws:kafka:us-east-1:123456789012:configuration/SomeTest/abcdabcd-1234-abcd-1234-abcd123e8e8e-1\", \"LatestRevision\": { \"CreationTime\": \"2020-08-27T19:37:40.626Z\", \"Description\": \"Example configuration revision description.\", \"Revision\": 2 }\n}",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html#msk-configuration-operations-update",
"main_header": "To update an MSK configuration",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-configuration-operations",
"text": "Amazon MSK Configuration Operations"
},
"h2": {
"urllink": "#msk-configuration-operations-delete",
"text": "To delete an MSK configuration"
},
"links": [],
"text": "To run this example, replace configuration-arn with the ARN you obtained when you created the configuration. If you didn't save the ARN when you created the configuration, you can use the list-configurations command to list all configuration in your account, and find the configuration that you want in the list that appears in the response. The ARN of the configuration also appears in that list.\naws kafka delete-configuration --arn configuration-arn\n\nThe following is an example of a successful response after running this command.\n{ \"arn\": \" arn:aws:kafka:us-east-1:123456789012:configuration/SomeTest/abcdabcd-1234-abcd-1234-abcd123e8e8e-1\", \"state\": \"DELETING\"\n}",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html#msk-configuration-operations-delete",
"main_header": "To delete an MSK configuration",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-configuration-operations",
"text": "Amazon MSK Configuration Operations"
},
"h2": {
"urllink": "#msk-configuration-operations-describe",
"text": "To describe an MSK configuration"
},
"links": [],
"text": "This command returns metadata about the configuration. To get a detailed description of the configuration, run the describe-configuration-revision.\nTo run this example, replace configuration-arn with the ARN you obtained when you created the configuration. If you didn't save the ARN when you created the configuration, you can use the list-configurations command to list all configuration in your account, and find the configuration that you want in the list that appears in the response. The ARN of the configuration also appears in that list.\naws kafka describe-configuration --arn configuration-arn\n\nThe following is an example of a successful response after running this command.\n{ \"Arn\": \"arn:aws:kafka:us-east-1:123456789012:configuration/SomeTest/abcdabcd-abcd-1234-abcd-abcd123e8e8e-1\", \"CreationTime\": \"2019-05-21T00:54:23.591Z\", \"Description\": \"Example configuration description.\", \"KafkaVersions\": [ \"1.1.1\" ], \"LatestRevision\": { \"CreationTime\": \"2019-05-21T00:54:23.591Z\", \"Description\": \"Example configuration description.\", \"Revision\": 1 }, \"Name\": \"SomeTest\"\n}",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html#msk-configuration-operations-describe",
"main_header": "To describe an MSK configuration",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-configuration-operations",
"text": "Amazon MSK Configuration Operations"
},
"h2": {
"urllink": "#msk-configuration-operations-describe",
"text": "To describe an MSK configuration revision"
},
"links": [],
"text": "Describing an MSK configuration using the describe-configuration command, gives you the metadata of the configuration. To see a description of the configuration, use this command, describe-configuration-revision, instead.Run the following command, replacing configuration-arn with the ARN you obtained when you created the configuration. If you didn't save the ARN when you created the configuration, you can use the list-configurations command to list all configuration in your account, and find the configuration that you want in the list that appears in the response. The ARN of the configuration also appears in that list.\naws kafka describe-configuration-revision --arn configuration-arn --revision 1\nThe following is an example of a successful response after running this command.\n{ \"Arn\": \"arn:aws:kafka:us-east-1:123456789012:configuration/SomeTest/abcdabcd-abcd-1234-abcd-abcd123e8e8e-1\", \"CreationTime\": \"2019-05-21T00:54:23.591Z\", \"Description\": \"Example configuration description.\", \"Revision\": 1, \"ServerProperties\": \"YXV0by5jcmVhdGUudG9waWNzLmVuYWJsZSA9IHRydWUKCgp6b29rZWVwZXIuY29ubmVjdGlvbi50aW1lb3V0Lm1zID0gMTAwMAoKCmxvZy5yb2xsLm1zID0gNjA0ODAwMDAw\"\n}\nThe value of ServerProperties is encoded using base64. If you use a base64 decoder (for example, https://www.base64decode.org/) to manually decode it, you get the contents of the original configuration file that you used to create the custom configuration. In this case, you get the following:\nauto.create.topics.enable = true\n\nzookeeper.connection.timeout.ms = 1000\n\nlog.roll.ms = 604800000",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html#msk-configuration-operations-describe",
"main_header": "To describe an MSK configuration revision",
"images": [],
"container_type": "div",
"children_tags": [
"p",
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-configuration-operations",
"text": "Amazon MSK Configuration Operations"
},
"h2": {
"urllink": "#msk-configuration-operations-describe",
"text": "To describe an MSK configuration revision"
},
"links": [],
"text": "Describing an MSK configuration using the describe-configuration command, gives you the metadata of the configuration. To see a description of the configuration, use this command, describe-configuration-revision, instead.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html#msk-configuration-operations-describe",
"main_header": "To describe an MSK configuration revision",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-configuration-operations",
"text": "Amazon MSK Configuration Operations"
},
"h2": {
"urllink": "#msk-configuration-operations-list",
"text": "To list all MSK configurations in your account for the current Region"
},
"links": [],
"text": "Run the following command.\naws kafka list-configurations\nThe following is an example of a successful response after running this command.\n{ \"Configurations\": [ { \"Arn\": \"arn:aws:kafka:us-east-1:123456789012:configuration/SomeTest/abcdabcd-abcd-1234-abcd-abcd123e8e8e-1\", \"CreationTime\": \"2019-05-21T00:54:23.591Z\", \"Description\": \"Example configuration description.\", \"KafkaVersions\": [ \"1.1.1\" ], \"LatestRevision\": { \"CreationTime\": \"2019-05-21T00:54:23.591Z\", \"Description\": \"Example configuration description.\", \"Revision\": 1 }, \"Name\": \"SomeTest\" }, { \"Arn\": \"arn:aws:kafka:us-east-1:123456789012:configuration/SomeTest/abcdabcd-1234-abcd-1234-abcd123e8e8e-1\", \"CreationTime\": \"2019-05-03T23:08:29.446Z\", \"Description\": \"Example configuration description.\", \"KafkaVersions\": [ \"1.1.1\" ], \"LatestRevision\": { \"CreationTime\": \"2019-05-03T23:08:29.446Z\", \"Description\": \"Example configuration description.\", \"Revision\": 1 }, \"Name\": \"ExampleConfigurationName\" } ]\n}",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html#msk-configuration-operations-list",
"main_header": "To list all MSK configurations in your account for the current Region",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#serverless",
"text": "MSK Serverless"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html#serverless",
"main_header": "MSK Serverless",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#serverless",
"text": "MSK Serverless"
},
"links": [],
"text": "NoteMSK Serverless is available in the US East (Ohio), US East (N. Virginia), US West (Oregon), Asia Pacific (Singapore), Asia Pacific (Sydney), Asia Pacific (Tokyo), Europe (Frankfurt), Europe (Stockholm) and Europe (Ireland) Regions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html#serverless",
"main_header": "MSK Serverless",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#serverless",
"text": "MSK Serverless"
},
"links": [],
"text": "Note",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html#serverless",
"main_header": "MSK Serverless",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#serverless",
"text": "MSK Serverless"
},
"links": [],
"text": "MSK Serverless is available in the US East (Ohio), US East (N. Virginia), US West (Oregon), Asia Pacific (Singapore), Asia Pacific (Sydney), Asia Pacific (Tokyo), Europe (Frankfurt), Europe (Stockholm) and Europe (Ireland) Regions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html#serverless",
"main_header": "MSK Serverless",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#serverless",
"text": "MSK Serverless"
},
"links": [],
"text": "MSK Serverless is available in the US East (Ohio), US East (N. Virginia), US West (Oregon), Asia Pacific (Singapore), Asia Pacific (Sydney), Asia Pacific (Tokyo), Europe (Frankfurt), Europe (Stockholm) and Europe (Ireland) Regions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html#serverless",
"main_header": "MSK Serverless",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#serverless",
"text": "MSK Serverless"
},
"links": [],
"text": "AWS PrivateLink to provide private connectivity\n\nAWS Identity and Access Management (IAM) for authentication and authorization AWS Glue Schema Registry for schema management\n\nAmazon Kinesis Data Analytics for Apache Flink-based stream processing AWS Lambda for event processing",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html#serverless",
"main_header": "MSK Serverless",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#serverless-getting-started",
"text": "Getting started using MSK Serverless clusters"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html#serverless-getting-started",
"main_header": "Getting started using MSK Serverless clusters",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
}
]
},
{
"h1": {
"urllink": "#create-serverless-cluster",
"text": "Step 1: Create an MSK Serverless cluster"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster.html#create-serverless-cluster",
"main_header": "Step 1: Create an MSK Serverless cluster",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#create-serverless-cluster",
"text": "Step 1: Create an MSK Serverless cluster"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/home",
"title": "https://console.aws.amazon.com/msk/home"
}
],
"text": "To create a serverless cluster\nSign in to the AWS Management Console, and open the Amazon MSK console at https://console.aws.amazon.com/msk/home.\n\nChoose Create cluster.\n\nFor Creation method, leave the Quick create option selected. The Quick create option lets you create a serverless cluster with default settings.\n\nFor Cluster name, enter msk-serverless-tutorial.\n\nFor General cluster properties, choose Serverless as the Cluster type. Use the default values for the remaining General cluster properties.\n\nNote the table under All cluster settings. This table lists the default values for important settings such as networking and availability, and indicates whether you can change each setting after you create the cluster. To change a setting before you create the cluster, you should choose the Custom create option under Creation method.\nNoteYou can connect clients from up to five different VPCs with MSK Serverless clusters. To help client applications switch over to another Availability Zone in the event of an outage, you must specify at least two subnets in each VPC.\n\nChoose Create cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster.html#create-serverless-cluster",
"main_header": "Step 1: Create an MSK Serverless cluster",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#create-serverless-cluster",
"text": "Step 1: Create an MSK Serverless cluster"
},
"links": [],
"text": "To create a serverless cluster",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster.html#create-serverless-cluster",
"main_header": "Step 1: Create an MSK Serverless cluster",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#create-serverless-cluster",
"text": "Step 1: Create an MSK Serverless cluster"
},
"links": [],
"text": "To gather information about the clusterIn the Cluster summary section, choose View client information. This button remains grayed out until Amazon MSK finishes creating the cluster. You might need to wait a few minutes until the button becomes active so you can use it.\nCopy the string under the label Endpoint. This is your bootstrap-server string.\n\nChoose the Properties tab.\nUnder the Networking settings section, copy the IDs of the subnets and the security group and save them because you need this information later to create a client machine.Choose any of the subnets. This opens the Amazon VPC Console. Find the ID of the Amazon VPC that is associated with the subnet. Save this Amazon VPC ID for later use.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster.html#create-serverless-cluster",
"main_header": "Step 1: Create an MSK Serverless cluster",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#create-serverless-cluster",
"text": "Step 1: Create an MSK Serverless cluster"
},
"links": [],
"text": "To gather information about the cluster",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster.html#create-serverless-cluster",
"main_header": "Step 1: Create an MSK Serverless cluster",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#create-iam-role",
"text": "Step 2: Create an IAM role"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-iam-role.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-iam-role.html#create-iam-role",
"main_header": "Step 2: Create an IAM role",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#create-iam-role",
"text": "Step 2: Create an IAM role"
},
"links": [
{
"url": "https://console.aws.amazon.com/iam/",
"title": "https://console.aws.amazon.com/iam/"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"title": "IAM access control"
}
],
"text": "To create an IAM policy that makes it possible to create topics and write to themOpen the IAM console at https://console.aws.amazon.com/iam/.\nOn the navigation pane, choose Policies.\n\nChoose Create Policy.\n\nChoose the JSON tab, then replace the JSON in the editor window with the following JSON. Replace Account-ID with your account ID, and region with the code of the Region wher eyou want to created your cluster.\n{ \"Version\": \"2012-10-17\", \"Statement\": [ { \"Effect\": \"Allow\", \"Action\": [ \"kafka-cluster:Connect\", \"kafka-cluster:AlterCluster\", \"kafka-cluster:DescribeCluster\" ], \"Resource\": [ \"arn:aws:kafka:us-east-1:Account-ID:cluster/msk-serverless-tutorial/*\" ] }, { \"Effect\": \"Allow\", \"Action\": [ \"kafka-cluster:*Topic*\", \"kafka-cluster:WriteData\", \"kafka-cluster:ReadData\" ], \"Resource\": [ \"arn:aws:kafka:us-east-1:Account-ID:topic/msk-serverless-tutorial/*\" ] }, { \"Effect\": \"Allow\", \"Action\": [ \"kafka-cluster:AlterGroup\", \"kafka-cluster:DescribeGroup\" ], \"Resource\": [ \"arn:aws:kafka:us-east-1:Account-ID:group/msk-serverless-tutorial/*\" ] } ]\n}\nFor instructions on how to write secure policies, see IAM access control.\nChoose Next: Tags.Choose Next: Review.For the policy name, enter msk-serverless-tutorial.Choose Create policy.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-iam-role.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-iam-role.html#create-iam-role",
"main_header": "Step 2: Create an IAM role",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#create-iam-role",
"text": "Step 2: Create an IAM role"
},
"links": [],
"text": "To create an IAM policy that makes it possible to create topics and write to them",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-iam-role.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-iam-role.html#create-iam-role",
"main_header": "Step 2: Create an IAM role",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#create-iam-role",
"text": "Step 2: Create an IAM role"
},
"links": [],
"text": "To create an IAM role and attach the policy to itOn the navigation pane, choose Roles.Choose Create role.Under Common use cases, choose EC2, then choose Next: Permissions.In the search box, enter msk-serverless-tutorial, then select the box to the left of the policy.Choose Next: Tags.\nChoose Next: Review.\n\nFor the role name, enter msk-serverless-tutorial.\n\nChoose Create role.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-iam-role.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-iam-role.html#create-iam-role",
"main_header": "Step 2: Create an IAM role",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#create-iam-role",
"text": "Step 2: Create an IAM role"
},
"links": [],
"text": "To create an IAM role and attach the policy to it",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-iam-role.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-iam-role.html#create-iam-role",
"main_header": "Step 2: Create an IAM role",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#create-serverless-cluster-client",
"text": "Step 3: Create a client machine"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster-client.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster-client.html#create-serverless-cluster-client",
"main_header": "Step 3: Create a client machine",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#create-serverless-cluster-client",
"text": "Step 3: Create a client machine"
},
"links": [
{
"url": "https://console.aws.amazon.com/ec2/",
"title": "https://console.aws.amazon.com/ec2/"
},
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html#SecurityGroupRules",
"title": "Security group rules"
}
],
"text": "To create a client machineOpen the Amazon EC2 console at https://console.aws.amazon.com/ec2/.Choose Launch instance.Choose the first Select button.Choose Next: Configure Instance Details.For Network, choose the serverless cluster's virtual private cloud (VPC). This is the VPC based on the Amazon VPC service whose ID you saved after you created the cluster.For Subnet, choose the subnet whose ID you saved after you created the cluster.\nFor IAM role, choose msk-serverless-tutorial.\n\nChoose Next: Add Storage.\n\nChoose Next: Add Tags.\n\nChoose Add Tag, then under Key enter Name and under Value enter msk-serverless-tutorial.\n\nChoose Next: Configure Security Group.\n\nChoose the button labeled Select an existing security group.\n\nIn the list of security groups, select the security group associated with the cluster. This works if that security group has an inbound rule that allows traffic from the security group to itself. Such a rule allows members of the same security group to communicate with each other. For more information, see Security group rules in the Amazon VPC Developer Guide.\n\nChoose Review and Launch and then choose Launch.\n\nChoose an existing key pair, or create a new key pair.\n\nChoose Launch Instances, and then choose View Instances.\n\nChoose the check box in the row that represents this newly created Amazon EC2 instance. From this point forward, we call this instance the client machine.\n\nChoose Connect and follow the instructions to connect to the client machine.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster-client.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster-client.html#create-serverless-cluster-client",
"main_header": "Step 3: Create a client machine",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#create-serverless-cluster-client",
"text": "Step 3: Create a client machine"
},
"links": [],
"text": "To create a client machine",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster-client.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster-client.html#create-serverless-cluster-client",
"main_header": "Step 3: Create a client machine",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#create-serverless-cluster-client",
"text": "Step 3: Create a client machine"
},
"links": [],
"text": "To set up Apache Kafka client tools on the client machineTo install Java, run the following command on the client machine:\nsudo yum -y install java-11To get the Apache Kafka tools that we need to create topics and send data, run the following commands:\nwget https://archive.apache.org/dist/kafka/2.8.1/kafka_2.12-2.8.1.tgz\ntar -xzf kafka_2.12-2.8.1.tgzGo to the kafka_2.12-2.8.1/libs directory, then run the following command to download the Amazon MSK IAM JAR file. The Amazon MSK IAM JAR makes it possible for the client machine to access the cluster.\nwget https://github.com/aws/aws-msk-iam-auth/releases/download/v1.1.1/aws-msk-iam-auth-1.1.1-all.jar\nGo to the kafka_2.12-2.8.1/bin directory. Copy the following property settings and paste them into a new file. Name the file client.properties and save it.\nsecurity.protocol=SASL_SSL\nsasl.mechanism=AWS_MSK_IAM\nsasl.jaas.config=software.amazon.msk.auth.iam.IAMLoginModule required;\nsasl.client.callback.handler.class=software.amazon.msk.auth.iam.IAMClientCallbackHandler",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster-client.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster-client.html#create-serverless-cluster-client",
"main_header": "Step 3: Create a client machine",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#create-serverless-cluster-client",
"text": "Step 3: Create a client machine"
},
"links": [],
"text": "To set up Apache Kafka client tools on the client machine",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster-client.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster-client.html#create-serverless-cluster-client",
"main_header": "Step 3: Create a client machine",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#msk-serverless-create-topic",
"text": "Step 4: Create an Apache Kafka topic"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-create-topic.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-create-topic.html#msk-serverless-create-topic",
"main_header": "Step 4: Create an Apache Kafka topic",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#msk-serverless-create-topic",
"text": "Step 4: Create an Apache Kafka topic"
},
"links": [],
"text": "To create a topic and write data to it\nIn the following export command, replace my-endpoint with the bootstrap-server string you that you saved after you created the cluster. Then, go to the kafka_2.12-2.8.1/bin directory on the client machine, and run the export command.\nexport BS=my-endpoint\nRun the following command to create a topic named msk-serverless-tutorial on your serverless cluster. Replace my-endpoint with the bootstrap-server string you that you saved after you created the cluster.\n./kafka-topics.sh --bootstrap-server my-endpoint --command-config client.properties --create --topic msk-serverless-tutorial --partitions 6",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-create-topic.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-create-topic.html#msk-serverless-create-topic",
"main_header": "Step 4: Create an Apache Kafka topic",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#msk-serverless-create-topic",
"text": "Step 4: Create an Apache Kafka topic"
},
"links": [],
"text": "To create a topic and write data to it",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-create-topic.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-create-topic.html#msk-serverless-create-topic",
"main_header": "Step 4: Create an Apache Kafka topic",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#msk-serverless-produce-consume",
"text": "Step 5: Produce and consume data"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-produce-consume.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-produce-consume.html#msk-serverless-produce-consume",
"main_header": "Step 5: Produce and consume data",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#msk-serverless-produce-consume",
"text": "Step 5: Produce and consume data"
},
"links": [],
"text": "To produce and consume messages\nRun the following command in the bin folder. Replace my-endpoint with the bootstrap-server string you that you saved after you created the cluster.\n./kafka-console-producer.sh --broker-list my-endpoint --producer.config client.properties --topic msk-serverless-tutorial\n\nEnter any message that you want, and press Enter. Repeat this step two or three times. Every time you enter a line and press Enter, that line is sent to your cluster as a separate message.\n\nKeep the connection to the client machine open, and then open a second, separate connection to that machine in a new window.\n\nGo to the bin folder and run the command using your second connection to the client machine. Replace my-endpoint with the bootstrap-server string you that you saved after you created the cluster.\n./kafka-console-consumer.sh --bootstrap-server my-endpoint --consumer.config client.properties --topic msk-serverless-tutorial --from-beginning\nYou start seeing the messages you entered earlier when you used the console producer command.\n\nEnter more messages in the producer window, and watch them appear in the consumer window.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-produce-consume.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-produce-consume.html#msk-serverless-produce-consume",
"main_header": "Step 5: Produce and consume data",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#msk-serverless-produce-consume",
"text": "Step 5: Produce and consume data"
},
"links": [],
"text": "To produce and consume messages",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-produce-consume.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-produce-consume.html#msk-serverless-produce-consume",
"main_header": "Step 5: Produce and consume data",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#delete-resources",
"text": "Step 6: Delete resources"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-resources.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-resources.html#delete-resources",
"main_header": "Step 6: Delete resources",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#delete-resources",
"text": "Step 6: Delete resources"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/home",
"title": "https://console.aws.amazon.com/msk/home"
}
],
"text": "To delete the cluster\nOpen the Amazon MSK console at https://console.aws.amazon.com/msk/home.\nIn the list of clusters, choose msk-serverless-tutorial.For Actions, choose Delete cluster.\nEnter delete in the field, then choose Delete.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-resources.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-resources.html#delete-resources",
"main_header": "Step 6: Delete resources",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#delete-resources",
"text": "Step 6: Delete resources"
},
"links": [],
"text": "To delete the cluster",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-resources.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-resources.html#delete-resources",
"main_header": "Step 6: Delete resources",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#delete-resources",
"text": "Step 6: Delete resources"
},
"links": [
{
"url": "https://console.aws.amazon.com/ec2/",
"title": "https://console.aws.amazon.com/ec2/"
}
],
"text": "To stop the client machineOpen the Amazon EC2 console at https://console.aws.amazon.com/ec2/.\nIn the list of Amazon EC2 instances, choose the client machine, which is the instance named msk-serverless-tutorial.\nChoose Instance state, then choose Terminate instance.\n\nChoose Terminate.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-resources.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-resources.html#delete-resources",
"main_header": "Step 6: Delete resources",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#delete-resources",
"text": "Step 6: Delete resources"
},
"links": [],
"text": "To stop the client machine",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-resources.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-resources.html#delete-resources",
"main_header": "Step 6: Delete resources",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#delete-resources",
"text": "Step 6: Delete resources"
},
"links": [
{
"url": "https://console.aws.amazon.com/iam/",
"title": "https://console.aws.amazon.com/iam/"
}
],
"text": "To delete the IAM policy and roleOpen the IAM console at https://console.aws.amazon.com/iam/.\nOn the navigation pane, choose Roles.\n\nIn the search box, enter msk-serverless-tutorial.\nChoose the msk-serverless-tutorial role.Choose Delete role.\nChoose Yes, delete.\n\nOn the navigation pane, choose Policies.\n\nIn the search box, enter msk-serverless-tutorial followed by a return.\n\nChoose the msk-serverless-tutorial policy.\n\nOn the policy's Summary page, choose Delete policy.\n\nChoose Delete.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-resources.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-resources.html#delete-resources",
"main_header": "Step 6: Delete resources",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#delete-resources",
"text": "Step 6: Delete resources"
},
"links": [],
"text": "To delete the IAM policy and role",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-resources.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-resources.html#delete-resources",
"main_header": "Step 6: Delete resources",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#serverless-config",
"text": "Configuration for Serverless Clusters"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-config.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-config.html#serverless-config",
"main_header": "Configuration for Serverless Clusters",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
}
]
},
{
"h1": {
"urllink": "#serverless-config",
"text": "Configuration for Serverless Clusters"
},
"links": [
{
"url": "https://kafka.apache.org/documentation/#topicconfigs_cleanup.policy",
"title": "cleanup.policy"
},
{
"url": "https://kafka.apache.org/documentation/#topicconfigs_compression.type",
"title": "compression.type"
},
{
"url": "https://kafka.apache.org/documentation/#topicconfigs_max.message.bytes",
"title": "max.message.bytes"
},
{
"url": "https://kafka.apache.org/documentation/#topicconfigs_message.timestamp.difference.max.ms",
"title": "message.timestamp.difference.max.ms"
},
{
"url": "https://kafka.apache.org/documentation/#topicconfigs_message.timestamp.type",
"title": "message.timestamp.type"
},
{
"url": "https://kafka.apache.org/documentation/#topicconfigs_retention.bytes",
"title": "retention.bytes"
},
{
"url": "https://kafka.apache.org/documentation/#topicconfigs_retention.ms",
"title": "retention.ms"
}
],
"text": "Configuration Property\nDefault\nEditable\nMaximum Allowed Value cleanup.policy\nDelete\nYes, but only at topic creation time compression.type\n\nProducer\nYes max.message.bytes\n\n1048588\nYes\n8 MiB message.timestamp.difference.max.ms\n\nlong.max\nYes message.timestamp.type\n\nCreateTime\nYes retention.bytes\n\n250 GiB\nYes\n250 GiB retention.ms\n\n1 day\nYes\n1 day",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-config.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-config.html#serverless-config",
"main_header": "Configuration for Serverless Clusters",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
}
]
},
{
"h1": {
"urllink": "#serverless-config",
"text": "Configuration for Serverless Clusters"
},
"links": [
{
"url": "https://kafka.apache.org/documentation/#topicconfigs_cleanup.policy",
"title": "cleanup.policy"
},
{
"url": "https://kafka.apache.org/documentation/#topicconfigs_compression.type",
"title": "compression.type"
},
{
"url": "https://kafka.apache.org/documentation/#topicconfigs_max.message.bytes",
"title": "max.message.bytes"
},
{
"url": "https://kafka.apache.org/documentation/#topicconfigs_message.timestamp.difference.max.ms",
"title": "message.timestamp.difference.max.ms"
},
{
"url": "https://kafka.apache.org/documentation/#topicconfigs_message.timestamp.type",
"title": "message.timestamp.type"
},
{
"url": "https://kafka.apache.org/documentation/#topicconfigs_retention.bytes",
"title": "retention.bytes"
},
{
"url": "https://kafka.apache.org/documentation/#topicconfigs_retention.ms",
"title": "retention.ms"
}
],
"text": "Configuration Property\nDefault\nEditable\nMaximum Allowed Value cleanup.policy\nDelete\nYes, but only at topic creation time compression.type\n\nProducer\nYes max.message.bytes\n\n1048588\nYes\n8 MiB message.timestamp.difference.max.ms\n\nlong.max\nYes message.timestamp.type\n\nCreateTime\nYes retention.bytes\n\n250 GiB\nYes\n250 GiB retention.ms\n\n1 day\nYes\n1 day",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-config.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-config.html#serverless-config",
"main_header": "Configuration for Serverless Clusters",
"images": [],
"container_type": "div",
"children_tags": [
"table"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
}
]
},
{
"h1": {
"urllink": "#serverless-monitoring",
"text": "Monitoring for Serverless Clusters"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-monitoring.html#serverless-monitoring",
"main_header": "Monitoring for Serverless Clusters",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
}
]
},
{
"h1": {
"urllink": "#serverless-monitoring",
"text": "Monitoring for Serverless Clusters"
},
"links": [],
"text": "Metrics available at the DEFAULT monitoring level\n\nName\nWhen Visible\nDimensions\nDescription BytesInPerSec\nAfter a producer writes to a topic\nCluster Name, Topic\nThe number of bytes per second received from clients. This metric is available for each broker and also for each topic. BytesOutPerSec\nAfter a consumer group consumes from a topic\nCluster Name, Topic\nThe number of bytes per second sent to clients. This metric is available for each broker and also for each topic. FetchMessageConversionsPerSec\nAfter a consumer group consumes from a topic\nCluster Name, Topic\nThe number of fetch message conversions per second for the broker. MaxEstimatedTimeLag\nAfter a consumer group consumes from a topic\nCluster Name, Consumer Group, Topic \nA time estimate of the MaxOffsetLag metric. MaxOffsetLag\nAfter a consumer group consumes from a topic\nCluster Name, Consumer Group, Topic \nThe maximum offset lag across all partitions in a topic. MessagesInPerSec\nAfter a producer writes to a topic\nCluster Name, Topic\nThe number of incoming messages per second for the broker. ProduceMessageConversionsPerSec\nAfter a producer writes to a topic\nCluster Name, Topic\nThe number of produce message conversions per second for the broker. SumOffsetLag\nAfter a consumer group consumes from a topic\nCluster Name, Consumer Group, Topic \nThe aggregated offset lag for all the partitions in a topic.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-monitoring.html#serverless-monitoring",
"main_header": "Monitoring for Serverless Clusters",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
}
]
},
{
"h1": {
"urllink": "#serverless-monitoring",
"text": "Monitoring for Serverless Clusters"
},
"links": [],
"text": "Metrics available at the DEFAULT monitoring level\n\nName\nWhen Visible\nDimensions\nDescription BytesInPerSec\nAfter a producer writes to a topic\nCluster Name, Topic\nThe number of bytes per second received from clients. This metric is available for each broker and also for each topic. BytesOutPerSec\nAfter a consumer group consumes from a topic\nCluster Name, Topic\nThe number of bytes per second sent to clients. This metric is available for each broker and also for each topic. FetchMessageConversionsPerSec\nAfter a consumer group consumes from a topic\nCluster Name, Topic\nThe number of fetch message conversions per second for the broker. MaxEstimatedTimeLag\nAfter a consumer group consumes from a topic\nCluster Name, Consumer Group, Topic \nA time estimate of the MaxOffsetLag metric. MaxOffsetLag\nAfter a consumer group consumes from a topic\nCluster Name, Consumer Group, Topic \nThe maximum offset lag across all partitions in a topic. MessagesInPerSec\nAfter a producer writes to a topic\nCluster Name, Topic\nThe number of incoming messages per second for the broker. ProduceMessageConversionsPerSec\nAfter a producer writes to a topic\nCluster Name, Topic\nThe number of produce message conversions per second for the broker. SumOffsetLag\nAfter a consumer group consumes from a topic\nCluster Name, Consumer Group, Topic \nThe aggregated offset lag for all the partitions in a topic.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-monitoring.html#serverless-monitoring",
"main_header": "Monitoring for Serverless Clusters",
"images": [],
"container_type": "div",
"children_tags": [
"table"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
}
]
},
{
"h1": {
"urllink": "#serverless-monitoring",
"text": "Monitoring for Serverless Clusters"
},
"links": [
{
"url": "https://console.aws.amazon.com/cloudwatch/",
"title": "https://console.aws.amazon.com/cloudwatch/"
}
],
"text": "To view MSK Serverless metricsSign in to the AWS Management Console and open the CloudWatch console at https://console.aws.amazon.com/cloudwatch/.In the navigation pane, under Metrics, choose All metrics.In the metrics search for the term kafka.\nChoose AWS/Kafka / Cluster Name, Topic or AWS/Kafka / Cluster Name, Consumer Group, Topic to see different metrics.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-monitoring.html#serverless-monitoring",
"main_header": "Monitoring for Serverless Clusters",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
}
]
},
{
"h1": {
"urllink": "#serverless-monitoring",
"text": "Monitoring for Serverless Clusters"
},
"links": [],
"text": "To view MSK Serverless metrics",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-monitoring.html#serverless-monitoring",
"main_header": "Monitoring for Serverless Clusters",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
}
]
},
{
"h1": {
"urllink": "#msk-connect",
"text": "MSK Connect"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect.html#msk-connect",
"main_header": "MSK Connect",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-getting-started",
"text": "Getting Started Using MSK Connect"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html#msk-connect-getting-started",
"main_header": "Getting Started Using MSK Connect",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#mkc-tutorial-setup",
"text": "Step 1: Set up required resources"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html#mkc-tutorial-setup",
"main_header": "Step 1: Set up required resources",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-tutorial-setup",
"text": "Step 1: Set up required resources"
},
"links": [],
"text": "An S3 bucket to serve as the destination that receives data from the connector.\n\nAn MSK cluster to which you will send data. The connector will then read the data from this cluster and send it to the destination S3 bucket.\n\nAn IAM role that allows the connector to write to the destination S3 bucket.\n\nAn Amazon VPC endpoint to make it possible to send data from the Amazon VPC that has the cluster and the connector to Amazon S3.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html#mkc-tutorial-setup",
"main_header": "Step 1: Set up required resources",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-tutorial-setup",
"text": "Step 1: Set up required resources"
},
"links": [
{
"url": "https://console.aws.amazon.com/s3/",
"title": "https://console.aws.amazon.com/s3/"
}
],
"text": "To create the S3 bucketSign in to the AWS Management Console and open the Amazon S3 console at https://console.aws.amazon.com/s3/.\nChoose Create bucket.\n\nEnter mkc-tutorial-destination-bucket for the name of the bucket.\n\nScroll down and choose Create bucket.\n\nIn the list of bucket, choose the newly created mkc-tutorial-destination-bucket.\n\nChoose Create folder.\n\nEnter tutorial for the name of the folder, then scroll down and choose Create folder.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html#mkc-tutorial-setup",
"main_header": "Step 1: Set up required resources",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-tutorial-setup",
"text": "Step 1: Set up required resources"
},
"links": [],
"text": "To create the S3 bucket",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html#mkc-tutorial-setup",
"main_header": "Step 1: Set up required resources",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-tutorial-setup",
"text": "Step 1: Set up required resources"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/home?region=us-east-1#/home/",
"title": "https://console.aws.amazon.com/msk/home?region=us-east-1#/home/"
}
],
"text": "To create the clusterOpen the Amazon MSK console at https://console.aws.amazon.com/msk/home?region=us-east-1#/home/.\nIn the left pane, under MSK Clusters, choose Clusters.\n\nChoose Create cluster.\n\nChoose Custom create.\n\nFor the cluster name enter mkc-tutorial-cluster.\n\nUnder Networking, choose an Amazon VPC, then set the Number of Zones to 2, then select the Availability Zones and subnets that you want to use. Remember the IDs the of the Amazon VPC and subnets you selected because we need them later in this tutorial.\n\nUnder Access control methods ensure that only Unauthenticated access is selected.\n\nUnder Encryption ensure that only Plaintext is selected.\n\nScroll down and choose Create cluster. This takes you to the cluster's details page. On that page, look for the security group ID under Security groups applied. Remember that ID because we need it later in this tutorial.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html#mkc-tutorial-setup",
"main_header": "Step 1: Set up required resources",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-tutorial-setup",
"text": "Step 1: Set up required resources"
},
"links": [],
"text": "To create the cluster",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html#mkc-tutorial-setup",
"main_header": "Step 1: Set up required resources",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-tutorial-setup",
"text": "Step 1: Set up required resources"
},
"links": [
{
"url": "https://console.aws.amazon.com/iam/",
"title": "https://console.aws.amazon.com/iam/"
}
],
"text": "To create the IAM role that can write to the destination bucketOpen the IAM console at https://console.aws.amazon.com/iam/.\nIn the left pane, under Access management, choose Roles.\n\nChoose Create role.\n\nUnder Or select a service to view its use cases, choose S3.\n\nScroll down and under Select your use case, again choose S3.\n\nChoose Next: Permissions.\n\nChoose Create policy. This opens a new tab in your browser where you will create the policy. Leave the original role-creation tab open because we'll get back to it later.\n\nChoose the JSON tab, then replace the text in the window with the following policy.\n{\n \"Version\":\"2012-10-17\",\n \"Statement\":[ { \"Effect\":\"Allow\", \"Action\":[ \"s3:ListAllMyBuckets\" ], \"Resource\":\"arn:aws:s3:::*\" }, { \"Effect\":\"Allow\", \"Action\":[ \"s3:ListBucket\", \"s3:GetBucketLocation\" ], \"Resource\":\"arn:aws:s3:::mkc-tutorial-destination-bucket\" }, { \"Effect\":\"Allow\", \"Action\":[ \"s3:PutObject\", \"s3:GetObject\", \"s3:AbortMultipartUpload\", \"s3:ListMultipartUploadParts\", \"s3:ListBucketMultipartUploads\" ], \"Resource\":\"*\" }\n ]\n}\n\nChoose Next: Tags.\n\nChoose Next: Review.\n\nEnter mkc-tutorial-policy for the policy name, then scroll down and choose Create policy.\n\nBack in the browser tab where you were creating the role, choose the refresh button.\n\nFind the mkc-tutorial-policy and select it by choosing the button to its left.\n\nChoose Next: Tags.\n\nChoose Next: Review.\n\nEnter mkc-tutorial-role for the role name, and delete the text in the description box.\n\nChoose Create role.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html#mkc-tutorial-setup",
"main_header": "Step 1: Set up required resources",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-tutorial-setup",
"text": "Step 1: Set up required resources"
},
"links": [],
"text": "To create the IAM role that can write to the destination bucket",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html#mkc-tutorial-setup",
"main_header": "Step 1: Set up required resources",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-tutorial-setup",
"text": "Step 1: Set up required resources"
},
"links": [],
"text": "To allow MSK Connect to assume the role\nIn the IAM console, in the left pane, under Access management, choose Roles.\n\nFind the mkc-tutorial-role and choose it.\n\nUnder the role's Summary, choose the Trust relationships tab.\n\nChoose Edit trust relationship.\n\nReplace the existing trust policy with the following JSON.\n{ \"Version\": \"2012-10-17\", \"Statement\": [ { \"Effect\": \"Allow\", \"Principal\": { \"Service\": \"kafkaconnect.amazonaws.com\" }, \"Action\": \"sts:AssumeRole\" } ]\n}\n\nChoose Update Trust Policy.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html#mkc-tutorial-setup",
"main_header": "Step 1: Set up required resources",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-tutorial-setup",
"text": "Step 1: Set up required resources"
},
"links": [],
"text": "To allow MSK Connect to assume the role",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html#mkc-tutorial-setup",
"main_header": "Step 1: Set up required resources",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-tutorial-setup",
"text": "Step 1: Set up required resources"
},
"links": [
{
"url": "https://console.aws.amazon.com/vpc/",
"title": "https://console.aws.amazon.com/vpc/"
}
],
"text": "To create an Amazon VPC endpoint from the cluster's VPC to Amazon S3Open the Amazon VPC console at https://console.aws.amazon.com/vpc/.In the left pane, choose Endpoints.Choose Create endpoint.Under Service Name choose the com.amazonaws.us-east-1.s3 service and the Gateway type.Choose the cluster's VPC and then select the box to the left of the route table that is associated with the cluster's subnets.Choose Create endpoint.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html#mkc-tutorial-setup",
"main_header": "Step 1: Set up required resources",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-tutorial-setup",
"text": "Step 1: Set up required resources"
},
"links": [],
"text": "To create an Amazon VPC endpoint from the cluster's VPC to Amazon S3",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html#mkc-tutorial-setup",
"main_header": "Step 1: Set up required resources",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-create-plugin",
"text": "Step 2: Create custom plugin"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-plugin.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-plugin.html#mkc-create-plugin",
"main_header": "Step 2: Create custom plugin",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-create-plugin",
"text": "Step 2: Create custom plugin"
},
"links": [
{
"url": "https://github.com/lensesio/stream-reactor/releases/download/2.1.3/kafka-connect-aws-s3-2.1.3.1-2.5.0-all.jar",
"title": "Lenses Amazon S3 Sink Connector"
},
{
"url": "https://docs.aws.amazon.com/AmazonS3/latest/userguide/upload-objects.html",
"title": "Uploading objects"
},
{
"url": "https://console.aws.amazon.com/msk/",
"title": "https://console.aws.amazon.com/msk/"
}
],
"text": "To create the custom plugin\nDownload the Lenses Amazon S3 Sink Connector JAR.\n\nCompress the downloaded JAR file to turn it into a ZIP file.\n\nUpload the ZIP file to an S3 bucket to which you have access. For information on how to upload files to Amazon S3, see Uploading objects in the Amazon S3 user guide.\nOpen the Amazon MSK console at https://console.aws.amazon.com/msk/.\nIn the left pane expand MSK Connect, then choose Custom plugins.\n\nChoose Create custom plugin.\n\nChoose Browse S3.\n\nIn the list of buckets find the bucket where you uploaded the ZIP file, and choose that bucket.\n\nIn the list of objects in the bucket, select the radio button to the left of the ZIP file, then choose the button labeled Choose.\n\nEnter mkc-tutorial-plugin for the custom plugin name, then choose Create custom plugin.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-plugin.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-plugin.html#mkc-create-plugin",
"main_header": "Step 2: Create custom plugin",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-create-plugin",
"text": "Step 2: Create custom plugin"
},
"links": [],
"text": "To create the custom plugin",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-plugin.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-plugin.html#mkc-create-plugin",
"main_header": "Step 2: Create custom plugin",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-create-topic",
"text": "Step 3: Create client machine and Apache Kafka topic"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-topic.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-topic.html#mkc-create-topic",
"main_header": "Step 3: Create client machine and Apache Kafka topic",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-create-topic",
"text": "Step 3: Create client machine and Apache Kafka topic"
},
"links": [
{
"url": "https://console.aws.amazon.com/ec2/",
"title": "https://console.aws.amazon.com/ec2/"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html",
"title": "Step 1: Set up required resources"
}
],
"text": "To create a client instanceOpen the Amazon EC2 console at https://console.aws.amazon.com/ec2/.\nChoose Launch instance.\n\nChoose Select to create an instance of Amazon Linux 2 AMI (HVM), SSD Volume Type.\n\nChoose the t2.xlarge instance type by selecting the check box next to it.\n\nChoose Next: Configure Instance Details.\n\nIn the Network list, choose the same VPC whose name you saved when you created the cluster in Step 1: Set up required resources.\n\nIn the Auto-assign Public IP list, choose Enable.\n\nIn the menu near the top, choose 5. Add Tags.\n\nChoose Add Tag.\n\nEnter Name for the Key and mkc-tutorial-client for the Value.\n\nChoose Review and Launch, and then choose Launch.\n\nIn the first list, choose the option to Create a new key pair, enter mkc-tutorial-key-pair for Key pair name, and then choose Download Key Pair. Alternatively, you can use an existing key pair if you prefer.\n\nChoose Launch Instances.\n\nIn the bottom right part of the screen, choose View Instances. In the list of instances, find mkc-tutorial-client. Choose it by selecting the box to its left. Make sure no other instances are also selected.\n\nIn the bottom half of the screen, choose the Security tab.\n\nUnder Security groups copy the ID of the security group. We use it in the following procedure.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-topic.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-topic.html#mkc-create-topic",
"main_header": "Step 3: Create client machine and Apache Kafka topic",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-create-topic",
"text": "Step 3: Create client machine and Apache Kafka topic"
},
"links": [],
"text": "To create a client instance",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-topic.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-topic.html#mkc-create-topic",
"main_header": "Step 3: Create client machine and Apache Kafka topic",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-create-topic",
"text": "Step 3: Create client machine and Apache Kafka topic"
},
"links": [
{
"url": "https://console.aws.amazon.com/vpc/",
"title": "https://console.aws.amazon.com/vpc/"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html",
"title": "Step 1: Set up required resources"
}
],
"text": "To allow the newly created client to send data to the clusterOpen the Amazon VPC console at https://console.aws.amazon.com/vpc/.\nIn the left pane, under SECURITY, choose Security Groups. In the Security group ID column, find the security group of the cluster. You saved the ID of this security group when you created the cluster in Step 1: Set up required resources. Choose this security group by selecting the box to the left of its row. Make sure no other security groups are simultaneously selected.\n\nIn the bottom half of the screen, choose the Inbound rules tab.\n\nChoose Edit inbound rules.\n\nIn the bottom left of the screen, choose Add rule.\n\nIn the new rule, choose All traffic in the Type column. In the field to the right of the Source column, enter the ID of the security group of the client instance. This is the security group ID that you saved after you created the client in the previous procedure.\n\nChoose Save rules. Your MSK cluster will now accept all traffic from the client you created in the previous procedure.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-topic.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-topic.html#mkc-create-topic",
"main_header": "Step 3: Create client machine and Apache Kafka topic",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-create-topic",
"text": "Step 3: Create client machine and Apache Kafka topic"
},
"links": [],
"text": "To allow the newly created client to send data to the cluster",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-topic.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-topic.html#mkc-create-topic",
"main_header": "Step 3: Create client machine and Apache Kafka topic",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-create-topic",
"text": "Step 3: Create client machine and Apache Kafka topic"
},
"links": [
{
"url": "https://console.aws.amazon.com/ec2/",
"title": "https://console.aws.amazon.com/ec2/"
},
{
"url": "https://www.apache.org/dyn/closer.cgi?path=/kafka/1.1.1/kafka_2.11-1.1.1.tgz",
"title": "Apache"
},
{
"url": "https://console.aws.amazon.com/msk/home?region=us-east-1#/home/",
"title": "https://console.aws.amazon.com/msk/home?region=us-east-1#/home/"
}
],
"text": "To create a topicOpen the Amazon EC2 console at https://console.aws.amazon.com/ec2/.\nIn the table of instances choose mkc-tutorial-client.\n\nNear the top of the screen, choose Connect, then follow the instructions to connect to the instance.\n\nInstall Java on the client instance by running the following command:\nsudo yum install java-1.8.0\n\nRun the following command to download Apache Kafka. \nwget https://archive.apache.org/dist/kafka/2.2.1/kafka_2.12-2.2.1.tgz\nNoteIf you want to use a mirror site other than the one used in this command, you can choose a different one on the Apache website.\n\nRun the following command in the directory where you downloaded the TAR file in the previous step.\ntar -xzf kafka_2.12-2.2.1.tgz\n\nGo to the kafka_2.12-2.2.1 directory.\nOpen the Amazon MSK console at https://console.aws.amazon.com/msk/home?region=us-east-1#/home/.\nIn the left pane choose Clusters, then choose the name mkc-tutorial-cluster.\n\nChoose View client information.\n\nCopy the Apache ZooKeeper connection string that's under the label Plaintext. Also copy the bootstrap servers string. You need both of these strings in the following steps.\n\nChoose Done.\n\nRun the following command on the client instance (mkc-tutorial-client), replacing ZookeeperConnectString with the value that you saved when you viewed the cluster's client information.\nbin/kafka-topics.sh --create --zookeeper ZookeeperConnectString --replication-factor 2 --partitions 1 --topic mkc-tutorial-topic\nIf the command succeeds, you see the following message: Created topic mkc-tutorial-topic.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-topic.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-topic.html#mkc-create-topic",
"main_header": "Step 3: Create client machine and Apache Kafka topic",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-create-topic",
"text": "Step 3: Create client machine and Apache Kafka topic"
},
"links": [],
"text": "To create a topic",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-topic.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-topic.html#mkc-create-topic",
"main_header": "Step 3: Create client machine and Apache Kafka topic",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-create-connector",
"text": "Step 4: Create connector"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-connector.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-connector.html#mkc-create-connector",
"main_header": "Step 4: Create connector",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-create-connector",
"text": "Step 4: Create connector"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/home?region=us-east-1#/home/",
"title": "https://console.aws.amazon.com/msk/home?region=us-east-1#/home/"
}
],
"text": "To create the connectorSign in to the AWS Management Console, and open the Amazon MSK console at https://console.aws.amazon.com/msk/home?region=us-east-1#/home/.\nIn the left pane, expand MSK Connect, then choose Connectors.\n\nChoose Create connector.\n\nIn the list of plugins, choose mkc-tutorial-plugin, then choose Next.\n\nFor the connector name enter mkc-tutorial-connector.\n\nIn the list of clusters, choose mkc-tutorial-cluster.\n\nCopy the following configuration and paste it into the connector configuration field.\nconnector.class=io.lenses.streamreactor.connect.aws.s3.sink.S3SinkConnector\nkey.converter.schemas.enable=false\nconnect.s3.kcql=INSERT INTO mkc-tutorial-destination-bucket:tutorial SELECT * FROM mkc-tutorial-topic\naws.region=us-east-1\ntasks.max=2\ntopics=mkc-tutorial-topic\nschema.enable=false\nvalue.converter=org.apache.kafka.connect.storage.StringConverter\nerrors.log.enable=true\nkey.converter=org.apache.kafka.connect.storage.StringConverter\n\nUnder Access permissions choose mkc-tutorial-role.\n\nChoose Next. On the Security page, choose Next again.\n\nOn the Logs page choose Next.\n\nUnder Review and create choose Create connector.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-connector.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-connector.html#mkc-create-connector",
"main_header": "Step 4: Create connector",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-create-connector",
"text": "Step 4: Create connector"
},
"links": [],
"text": "To create the connector",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-connector.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-connector.html#mkc-create-connector",
"main_header": "Step 4: Create connector",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-send-data",
"text": "Step 5: Send data"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-send-data.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-send-data.html#mkc-send-data",
"main_header": "Step 5: Send data",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-send-data",
"text": "Step 5: Send data"
},
"links": [],
"text": "To send data to the MSK cluster\nIn the bin folder of the Apache Kafka installation on the client instance, create a text file named client.properties with the following contents.\nsecurity.protocol=PLAINTEXT\n\nRun the following command in the bin folder, replacing BootstrapBrokerString with the value that you obtained when you ran the previous command.\n./kafka-console-producer.sh --broker-list BootstrapBrokerString --producer.config client.properties --topic mkc-tutorial-topic\n\nEnter any message that you want, and press Enter. Repeat this step two or three times. Every time you enter a line and press Enter, that line is sent to your Apache Kafka cluster as a separate message.\nLook in the destination Amazon S3 bucket to find the messages that you sent in the previous step.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-send-data.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-send-data.html#mkc-send-data",
"main_header": "Step 5: Send data",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-send-data",
"text": "Step 5: Send data"
},
"links": [],
"text": "To send data to the MSK cluster",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-send-data.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-send-data.html#mkc-send-data",
"main_header": "Step 5: Send data",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#msk-connect-connectors",
"text": "Connectors"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html#msk-connect-connectors",
"main_header": "Connectors",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-connectors",
"text": "Connectors"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html#msk-connect-connectors",
"main_header": "Connectors",
"images": [
{
"src": "https://docs.aws.amazon.com/msk/latest/developerguide/images/mkc-worker-architecture.png",
"alt": "\n            Diagram showing the architecture of a connector cluster.\n        "
}
],
"container_type": "div",
"children_tags": [
"img"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-connectors",
"text": "Connectors"
},
"h2": {
"urllink": "#msk-connect-capacity",
"text": "Connector capacity"
},
"links": [],
"text": "Provisioned - Choose this mode if you know the capacity requirements for your connector. You specify two values: The number of workers.\n\nThe number of MCUs per worker. Autoscaled - Choose this mode if the capacity requirements for your connector are variable or if you don't know them in advance. When you use autoscaled mode, Amazon MSK Connect overrides your connector's tasks.max property with a value that is proportional to the number of workers running in the connector and the number of MCUs per worker. \nYou specify three sets of values: The minimum and maximum number of workers.\n\nThe scale-in and scale-out percentages for CPU utilization, which is determined by the CpuUtilization metric. When the CpuUtilization metric for the connector exceeds the scale-out percentage, MSK Connect increases the number of workers that are running in the connector. When the CpuUtilization metric goes below the scale-in percentage, MSK Connect decreases the number of workers. The number of workers always remains within the minimum and maximum numbers that you specify when you create the connector.\n\nThe number of MCUs per worker.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html#msk-connect-capacity",
"main_header": "Connector capacity",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-connectors",
"text": "Connectors"
},
"h2": {
"urllink": "#mkc-create-connector-intro",
"text": "Creating a connector"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/",
"title": "https://console.aws.amazon.com/msk/"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-plugins.html",
"title": "Plugins"
},
{
"url": "https://www.confluent.io/hub/confluentinc/kafka-connect-s3",
"title": "Confluent Amazon S3 Sink Connector"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html#msk-connect-capacity",
"title": "Connector capacity"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-workers.html",
"title": "Workers"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-service-execution-role.html",
"title": "Service execution role"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html",
"title": "Logging for MSK Connect"
}
],
"text": "Creating a connector using the AWS Management ConsoleOpen the Amazon MSK console at https://console.aws.amazon.com/msk/.In the left pane, under MSK Connect, choose Connectors.Choose Create connector.You can choose between using an existing custom plugin to create the connector, or creating a new custom plugin first. For information on custom plugins and how to create them, see Plugins. In this procedure, let's assume you have a custom plugin that you want to use. In the list of custom plugins, find the one that you want to use, and select the box to its left, then choose Next.\nEnter a name and, optionally, a description.\n\nChoose the cluster that you want to connect to.\n\nSpecify the connector configuration. The configuration parameters that you need to specify depend on the type of connector that you want to create. However, some parameters are common to all connectors, for example, the connector.class and tasks.max parameters. The following is an example configuration for the Confluent Amazon S3 Sink Connector.\nconnector.class=io.confluent.connect.s3.S3SinkConnector\ntasks.max=2\ntopics=my-example-topic\ns3.region=us-east-1\ns3.bucket.name=my-destination-bucket\nflush.size=1\nstorage.class=io.confluent.connect.s3.storage.S3Storage\nformat.class=io.confluent.connect.s3.format.json.JsonFormat\npartitioner.class=io.confluent.connect.storage.partitioner.DefaultPartitioner\nkey.converter=org.apache.kafka.connect.storage.StringConverter\nvalue.converter=org.apache.kafka.connect.storage.StringConverter\nschema.compatibility=NONE\n\nNext, you configure your connector capacity. You can choose between two capacity modes: provisioned and auto scaled. For information about these two options, see Connector capacity.\n\nChoose either the default worker configuration or a custom worker configuration. For information about creating custom worker configurations, see Workers.\n\nNext, you specify the service execution role. This must be an IAM role that MSK Connect can assume, and that grants the connector all the permissions that it needs to access the necessary AWS resources. Those permissions depend on the logic of the connector. For information about how to create this role, see Service execution role.\n\nChoose Next, review the security information, then choose Next again.\n\nSpecify the logging options that you want, then choose Next. For information about logging, see Logging for MSK Connect.\n\nChoose Create connector.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html#mkc-create-connector-intro",
"main_header": "Creating a connector",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-connectors",
"text": "Connectors"
},
"h2": {
"urllink": "#mkc-create-connector-intro",
"text": "Creating a connector"
},
"links": [],
"text": "Creating a connector using the AWS Management Console",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html#mkc-create-connector-intro",
"main_header": "Creating a connector",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-plugins",
"text": "Plugins"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-plugins.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-plugins.html#msk-connect-plugins",
"main_header": "Plugins",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-plugins",
"text": "Plugins"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/",
"title": "https://console.aws.amazon.com/msk/"
}
],
"text": "Creating a custom plugin using the AWS Management ConsoleOpen the Amazon MSK console at https://console.aws.amazon.com/msk/.In the left pane, under MSK Connect, choose Custom plugins.Choose Create custom plugin.\nChoose Browse S3.\n\nIn the list of S3 buckets, choose the bucket that has the JAR or ZIP file for the plugin.\n\nIn the list of object, select the box to the left of the JAR or ZIP file for the plugin, then choose Choose.\n\nChoose Create custom plugin.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-plugins.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-plugins.html#msk-connect-plugins",
"main_header": "Plugins",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-plugins",
"text": "Plugins"
},
"links": [],
"text": "Creating a custom plugin using the AWS Management Console",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-plugins.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-plugins.html#msk-connect-plugins",
"main_header": "Plugins",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-workers",
"text": "Workers"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-workers.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-workers.html#msk-connect-workers",
"main_header": "Workers",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-workers",
"text": "Workers"
},
"h2": {
"urllink": "#msk-connect-supported-worker-config-properties",
"text": "Supported worker configuration properties"
},
"links": [],
"text": "The key.converter and value.converter properties are required.\n\nMSK Connect supports the following producer. configuration properties.\nproducer.acks\nproducer.batch.size\nproducer.buffer.memory\nproducer.compression.type\nproducer.enable.idempotence\nproducer.key.serializer\nproducer.max.request.size\nproducer.metadata.max.age.ms\nproducer.metadata.max.idle.ms\nproducer.reconnect.backoff.max.ms\nproducer.reconnect.backoff.ms\nproducer.request.timeout.ms\nproducer.retry.backoff.ms\nproducer.value.serializer\n\nMSK Connect supports the following consumer. configuration properties.\nconsumer.allow.auto.create.topics\nconsumer.auto.offset.reset\nconsumer.check.crcs\nconsumer.fetch.max.bytes\nconsumer.fetch.max.wait.ms\nconsumer.fetch.min.bytes\nconsumer.heartbeat.interval.ms\nconsumer.key.deserializer\nconsumer.max.partition.fetch.bytes\nconsumer.max.poll.records\nconsumer.metadata.max.age.ms\nconsumer.partition.assignment.strategy\nconsumer.reconnect.backoff.max.ms\nconsumer.reconnect.backoff.ms\nconsumer.request.timeout.ms\nconsumer.retry.backoff.ms\nconsumer.session.timeout.ms\nconsumer.value.deserializer\n\nAll other configuration properties that don't start with the producer. or consumer. prefixes are supported except for the following properties. \naccess.control.\nadmin.\nadmin.listeners.https.\nclient.\nconnect.\ninter.worker.\ninternal.\nlisteners.https.\nmetrics.\nmetrics.context.\nrest.\nsasl.\nsecurity.\nsocket.\nssl.\ntopic.tracking.\nworker.\nbootstrap.servers\nconfig.storage.topic\nconnections.max.idle.ms\nconnector.client.config.override.policy\ngroup.id\nlisteners\nmetric.reporters\noffset.storage.topic\nplugin.path\nreceive.buffer.bytes\nresponse.http.headers.config\nscheduled.rebalance.max.delay.ms\nsend.buffer.bytes\nstatus.storage.topic",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-workers.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-workers.html#msk-connect-supported-worker-config-properties",
"main_header": "Supported worker configuration properties",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-workers",
"text": "Workers"
},
"h2": {
"urllink": "#msk-connect-supported-worker-config-properties",
"text": "Supported worker configuration properties"
},
"h3": {
"urllink": "#msk-connect-create-custom-worker-config",
"text": "Creating a custom worker configuration"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/",
"title": "https://console.aws.amazon.com/msk/"
}
],
"text": "Creating a custom worker configuration using the AWS Management ConsoleOpen the Amazon MSK console at https://console.aws.amazon.com/msk/.\nIn the left pane, under MSK Connect, choose Worker configurations.\n\nChoose Create worker configuration.\n\nEnter a name and an optional description, then add the properties and values that you want to set them to.\n\nChoose Create worker configuration.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-workers.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-workers.html#msk-connect-create-custom-worker-config",
"main_header": "Creating a custom worker configuration",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-workers",
"text": "Workers"
},
"h2": {
"urllink": "#msk-connect-supported-worker-config-properties",
"text": "Supported worker configuration properties"
},
"h3": {
"urllink": "#msk-connect-create-custom-worker-config",
"text": "Creating a custom worker configuration"
},
"links": [],
"text": "Creating a custom worker configuration using the AWS Management Console",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-workers.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-workers.html#msk-connect-create-custom-worker-config",
"main_header": "Creating a custom worker configuration",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-config-provider",
"text": "Using a configuration provider to externalize secrets"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-config-provider.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-config-provider.html#msk-connect-config-provider",
"main_header": "Using a configuration provider to externalize secrets",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-config-provider",
"text": "Using a configuration provider to externalize secrets"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html#msk-connect-logging-secrets",
"title": "Preventing secrets from appearing in connector logs"
}
],
"text": "NoteSensitive configuration values can appear in connector logs if a plugin does not define those values as secret. Kafka Connect treats undefined configuration values the same as any other plaintext value. To learn more, see Preventing secrets from appearing in connector logs.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-config-provider.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-config-provider.html#msk-connect-config-provider",
"main_header": "Using a configuration provider to externalize secrets",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-config-provider",
"text": "Using a configuration provider to externalize secrets"
},
"links": [],
"text": "Note",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-config-provider.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-config-provider.html#msk-connect-config-provider",
"main_header": "Using a configuration provider to externalize secrets",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-config-provider",
"text": "Using a configuration provider to externalize secrets"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html#msk-connect-logging-secrets",
"title": "Preventing secrets from appearing in connector logs"
}
],
"text": "Sensitive configuration values can appear in connector logs if a plugin does not define those values as secret. Kafka Connect treats undefined configuration values the same as any other plaintext value. To learn more, see Preventing secrets from appearing in connector logs.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-config-provider.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-config-provider.html#msk-connect-config-provider",
"main_header": "Using a configuration provider to externalize secrets",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-config-provider",
"text": "Using a configuration provider to externalize secrets"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html#msk-connect-logging-secrets",
"title": "Preventing secrets from appearing in connector logs"
}
],
"text": "Sensitive configuration values can appear in connector logs if a plugin does not define those values as secret. Kafka Connect treats undefined configuration values the same as any other plaintext value. To learn more, see Preventing secrets from appearing in connector logs.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-config-provider.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-config-provider.html#msk-connect-config-provider",
"main_header": "Using a configuration provider to externalize secrets",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-config-provider",
"text": "Using a configuration provider to externalize secrets"
},
"links": [
{
"url": "https://kafka.apache.org/27/javadoc/org/apache/kafka/common/config/provider/ConfigProvider.html",
"title": "ConfigProvider"
},
{
"url": "https://github.com/jcustenborder/kafka-config-provider-aws/blob/master/src/main/resources/META-INF/services/org.apache.kafka.common.config.provider.ConfigProvider",
"title": "org.apache.kafka.common.config.provider.ConfigProvider"
},
{
"url": "https://kafka.apache.org/27/javadoc/org/apache/kafka/common/config/ConfigDef.Type.html#PASSWORD",
"title": "ConfigDef.Type.PASSWORD"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html#msk-connect-logging-secrets",
"title": "Preventing secrets from appearing in connector logs"
}
],
"text": "Implement the ConfigProvider interface, which is discovered using the Java ServiceLoader facility.\n\nCreate a file named META-INF/services/org.apache.kafka.common.config.provider.ConfigProvider that contains the fully qualified name of your ConfigProvider implementation class. Package this file into a JAR with your implementation classes. For example, see org.apache.kafka.common.config.provider.ConfigProvider in the open-source AWS Secrets Manager Config Provider plugin.\n\nUse the Kafka Connect enum constant ConfigDef.Type.PASSWORD to define sensitive configuration values. For more information, see Preventing secrets from appearing in connector logs.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-config-provider.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-config-provider.html#msk-connect-config-provider",
"main_header": "Using a configuration provider to externalize secrets",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-iam",
"text": "IAM roles and policies for MSK Connect"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html#msk-connect-iam",
"main_header": "IAM roles and policies for MSK Connect",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-service-execution-role",
"text": "Service execution role"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-service-execution-role.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-service-execution-role.html#msk-connect-service-execution-role",
"main_header": "Service execution role",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#msk-connect-service-execution-role",
"text": "Service execution role"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html",
"title": "Service-linked role"
},
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-service.html",
"title": "Creating a role to delegate permissions to an AWS service"
}
],
"text": "NoteAmazon MSK Connect does not support using the Service-linked role as the service execution role. You must create a separate service execution role. For instructions on how to create a custom IAM role, see Creating a role to delegate permissions to an AWS service in the IAM User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-service-execution-role.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-service-execution-role.html#msk-connect-service-execution-role",
"main_header": "Service execution role",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#msk-connect-service-execution-role",
"text": "Service execution role"
},
"links": [],
"text": "Note",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-service-execution-role.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-service-execution-role.html#msk-connect-service-execution-role",
"main_header": "Service execution role",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#msk-connect-service-execution-role",
"text": "Service execution role"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html",
"title": "Service-linked role"
},
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-service.html",
"title": "Creating a role to delegate permissions to an AWS service"
}
],
"text": "Amazon MSK Connect does not support using the Service-linked role as the service execution role. You must create a separate service execution role. For instructions on how to create a custom IAM role, see Creating a role to delegate permissions to an AWS service in the IAM User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-service-execution-role.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-service-execution-role.html#msk-connect-service-execution-role",
"main_header": "Service execution role",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#msk-connect-service-execution-role",
"text": "Service execution role"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html",
"title": "Service-linked role"
},
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-service.html",
"title": "Creating a role to delegate permissions to an AWS service"
}
],
"text": "Amazon MSK Connect does not support using the Service-linked role as the service execution role. You must create a separate service execution role. For instructions on how to create a custom IAM role, see Creating a role to delegate permissions to an AWS service in the IAM User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-service-execution-role.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-service-execution-role.html#msk-connect-service-execution-role",
"main_header": "Service execution role",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-iam-policy-examples",
"text": "Examples of IAM policies for MSK Connect"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-iam-policy-examples.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-iam-policy-examples.html#mkc-iam-policy-examples",
"main_header": "Examples of IAM policies for MSK Connect",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#cross-service-confused-deputy-prevention",
"text": "Cross-service confused deputy prevention"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cross-service-confused-deputy-prevention.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cross-service-confused-deputy-prevention.html#cross-service-confused-deputy-prevention",
"main_header": "Cross-service confused deputy prevention",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-security-iam-awsmanpol",
"text": "AWS managed policies for MSK Connect"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-security-iam-awsmanpol.html#mkc-security-iam-awsmanpol",
"main_header": "AWS managed policies for MSK Connect",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-security-iam-awsmanpol",
"text": "AWS managed policies for MSK Connect"
},
"h2": {
"urllink": "#security-iam-awsmanpol-updates",
"text": "MSK Connect updates to AWS managed\n\t\t\t\t\tpolicies"
},
"links": [],
"text": "Change\nDescription\nDate MSK Connect updated read-only policy MSK Connect updated the AmazonMSKConnectReadOnlyAccess policy to remove the restrictions on listing operations.\n\nOctober 13, 2021 MSK Connect started tracking changes MSK Connect started tracking changes for its AWS managed policies.\n\nSeptember 14, 2021",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-security-iam-awsmanpol.html#security-iam-awsmanpol-updates",
"main_header": "MSK Connect updates to AWS managed\n\t\t\t\t\tpolicies",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-security-iam-awsmanpol",
"text": "AWS managed policies for MSK Connect"
},
"h2": {
"urllink": "#security-iam-awsmanpol-updates",
"text": "MSK Connect updates to AWS managed\n\t\t\t\t\tpolicies"
},
"links": [],
"text": "Change\nDescription\nDate MSK Connect updated read-only policy MSK Connect updated the AmazonMSKConnectReadOnlyAccess policy to remove the restrictions on listing operations.\n\nOctober 13, 2021 MSK Connect started tracking changes MSK Connect started tracking changes for its AWS managed policies.\n\nSeptember 14, 2021",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-security-iam-awsmanpol.html#security-iam-awsmanpol-updates",
"main_header": "MSK Connect updates to AWS managed\n\t\t\t\t\tpolicies",
"images": [],
"container_type": "div",
"children_tags": [
"table"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-using-service-linked-roles",
"text": "Using Service-Linked Roles for\n\t\t\t\tMSK Connect"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html#mkc-using-service-linked-roles",
"main_header": "Using Service-Linked Roles for\n\t\t\t\tMSK Connect",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#msk-connect-internet-access",
"text": "Enabling internet access for Amazon MSK Connect"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-internet-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-internet-access.html#msk-connect-internet-access",
"main_header": "Enabling internet access for Amazon MSK Connect",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-internet-access",
"text": "Enabling internet access for Amazon MSK Connect"
},
"links": [
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat-gateway.html",
"title": "NAT gateway"
},
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/VPC_NAT_Instance.html",
"title": "NAT instance"
},
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat-gateway.html",
"title": "Connect subnets to the internet or other VPCs using NAT devices"
}
],
"text": "Configure your connector with private subnets.\n\nCreate a public NAT gateway or NAT instance for your VPC in a public subnet. For more information, see the Connect subnets to the internet or other VPCs using NAT devices page in the Amazon Virtual Private Cloud\nUser Guide. Allow outbound traffic from your private subnets to your NAT gateway or instance.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-internet-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-internet-access.html#msk-connect-internet-access",
"main_header": "Enabling internet access for Amazon MSK Connect",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-internet-access",
"text": "Enabling internet access for Amazon MSK Connect"
},
"h2": {
"urllink": "#msk-connect-internet-access-private-subnets-example",
"text": "Setting up a NAT gateway for Amazon MSK Connect"
},
"links": [],
"text": "The ID of the Amazon Virtual Private Cloud (VPC) associated with your cluster. For example, vpc-123456ab.The IDs of the private subnets in your VPC. For example, subnet-a1b2c3de, subnet-f4g5h6ij, etc. You must configure your connector with private subnets.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-internet-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-internet-access.html#msk-connect-internet-access-private-subnets-example",
"main_header": "Setting up a NAT gateway for Amazon MSK Connect",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-internet-access",
"text": "Enabling internet access for Amazon MSK Connect"
},
"h2": {
"urllink": "#msk-connect-internet-access-private-subnets-example",
"text": "Setting up a NAT gateway for Amazon MSK Connect"
},
"links": [
{
"url": "https://console.aws.amazon.com/vpc/",
"title": "https://console.aws.amazon.com/vpc/"
},
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/working-with-vpcs.html#AddaSubnet",
"title": "Create a subnet in your VPC"
},
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Internet_Gateway.html#Add_IGW_Attach_Gateway",
"title": "Create and attach an internet gateway"
},
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat-gateway.html#nat-gateway-creating",
"title": "Create a NAT gateway"
},
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/WorkWithRouteTables.html",
"title": "Work with route tables"
},
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Internet_Gateway.html#Add_IGW_Routing",
"title": "Create a custom route table"
}
],
"text": "To enable internet access for your connector\nOpen the Amazon Virtual Private Cloud console at https://console.aws.amazon.com/vpc/.\n\nCreate a public subnet for your NAT gateway with a descriptive name, and note the subnet ID. For detailed instructions, see Create a subnet in your VPC.\n\nCreate an internet gateway so that your VPC can communicate with the internet, and note the gateway ID. Attach the internet gateway to your VPC. For instructions, see Create and attach an internet gateway.\n\nProvision a public NAT gateway so that hosts in your private subnets can reach your public subnet. When you create the NAT gateway, select the public subnet that you created earlier. For instructions, see Create a NAT gateway.\n\nConfigure your route tables. You must have two route tables in total to complete this setup. You should already have a main route table that was automatically created at the same time as your VPC. In this step you create an additional route table for your public subnet.\n\nUse the following settings to modify your VPC's main route table so that your private subnets route traffic to your NAT gateway. For instructions, see Work with route tables in the Amazon Virtual Private Cloud\nUser Guide.\nPrivate MSKC route table\n\nProperty\nValue Name tag\nWe recommend that you give this route table a descriptive name tag to help you identify it. For example, Private MSKC. Associated subnets\n Your private subnets A route to enable internet access for MSK Connect Destination: 0.0.0.0/0\n\nTarget: Your NAT gateway ID. For example, nat-12a345bc6789efg1h. A local route for internal traffic Destination: 10.0.0.0/16. This value may differ depending on your VPC's CIDR block.\n\nTarget: Local Follow the instructions in Create a custom route table to create a route table for your public subnet. When you create the table, enter a descriptive name in the Name tag field to help you identify which subnet the table is associated with. For example, Public MSKC.\n\nConfigure your Public MSKC route table using the following settings. Property\nValue Name tag\nPublic MSKC or a different descriptive name that you choose Associated subnets\nYour public subnet with NAT gateway A route to enable internet access for MSK Connect Destination: 0.0.0.0/0\n\nTarget: Your internet gateway ID. For example, igw-1a234bc5. A local route for internal traffic Destination: 10.0.0.0/16. This value may differ depending on your VPC's CIDR block.\n\nTarget: Local",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-internet-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-internet-access.html#msk-connect-internet-access-private-subnets-example",
"main_header": "Setting up a NAT gateway for Amazon MSK Connect",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-internet-access",
"text": "Enabling internet access for Amazon MSK Connect"
},
"h2": {
"urllink": "#msk-connect-internet-access-private-subnets-example",
"text": "Setting up a NAT gateway for Amazon MSK Connect"
},
"links": [],
"text": "To enable internet access for your connector",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-internet-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-internet-access.html#msk-connect-internet-access-private-subnets-example",
"main_header": "Setting up a NAT gateway for Amazon MSK Connect",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-logging",
"text": "Logging for MSK Connect"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html#msk-connect-logging",
"main_header": "Logging for MSK Connect",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-logging",
"text": "Logging for MSK Connect"
},
"links": [
{
"url": "https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/Working-with-log-groups-and-streams.html#Create-Log-Group",
"title": "Create a log group"
},
{
"url": "https://docs.aws.amazon.com/AmazonS3/latest/userguide/create-bucket-overview.html",
"title": "Creating a bucket"
},
{
"url": "https://docs.aws.amazon.com/firehose/latest/dev/basic-create.html",
"title": "Creating an Amazon Kinesis Data Firehose delivery stream"
}
],
"text": "Amazon CloudWatch Logs: You specify the log group to which you want MSK Connect to send your connector's log events. For information on how to create a log group, see Create a log group in the CloudWatch Logs User Guide.Amazon S3: You specify the S3 bucket to which you want MSK Connect to send your connector's log events. For information on how to create an S3 bucket, see Creating a bucket in the Amazon S3 User Guide.Amazon Kinesis Data Firehose: You specify the delivery stream to which you want MSK Connect to send your connector's log events. For information on how to create a delivery stream, see Creating an Amazon Kinesis Data Firehose delivery stream in the Kinesis Data Firehose User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html#msk-connect-logging",
"main_header": "Logging for MSK Connect",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-logging",
"text": "Logging for MSK Connect"
},
"links": [],
"text": "Level\nDescription INFO\nRuntime events of interest at startup and shutdown. WARN\nRuntime situations that aren't errors but are undesirable or unexpected. FATAL\nSevere errors that cause premature termination. ERROR\nUnexpected conditions and runtime errors that aren't fatal.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html#msk-connect-logging",
"main_header": "Logging for MSK Connect",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-logging",
"text": "Logging for MSK Connect"
},
"links": [],
"text": "Level\nDescription INFO\nRuntime events of interest at startup and shutdown. WARN\nRuntime situations that aren't errors but are undesirable or unexpected. FATAL\nSevere errors that cause premature termination. ERROR\nUnexpected conditions and runtime errors that aren't fatal.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html#msk-connect-logging",
"main_header": "Logging for MSK Connect",
"images": [],
"container_type": "div",
"children_tags": [
"table"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-logging",
"text": "Logging for MSK Connect"
},
"h2": {
"urllink": "#msk-connect-logging-secrets",
"text": "Preventing secrets from appearing in connector logs"
},
"links": [],
"text": "NoteSensitive configuration values can appear in connector logs if a plugin does not define those values as secret. Kafka Connect treats undefined configuration values the same as any other plaintext value.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html#msk-connect-logging-secrets",
"main_header": "Preventing secrets from appearing in connector logs",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-logging",
"text": "Logging for MSK Connect"
},
"h2": {
"urllink": "#msk-connect-logging-secrets",
"text": "Preventing secrets from appearing in connector logs"
},
"links": [],
"text": "Note",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html#msk-connect-logging-secrets",
"main_header": "Preventing secrets from appearing in connector logs",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-logging",
"text": "Logging for MSK Connect"
},
"h2": {
"urllink": "#msk-connect-logging-secrets",
"text": "Preventing secrets from appearing in connector logs"
},
"links": [],
"text": "Sensitive configuration values can appear in connector logs if a plugin does not define those values as secret. Kafka Connect treats undefined configuration values the same as any other plaintext value.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html#msk-connect-logging-secrets",
"main_header": "Preventing secrets from appearing in connector logs",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-logging",
"text": "Logging for MSK Connect"
},
"h2": {
"urllink": "#msk-connect-logging-secrets",
"text": "Preventing secrets from appearing in connector logs"
},
"links": [],
"text": "Sensitive configuration values can appear in connector logs if a plugin does not define those values as secret. Kafka Connect treats undefined configuration values the same as any other plaintext value.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html#msk-connect-logging-secrets",
"main_header": "Preventing secrets from appearing in connector logs",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#mkc-monitoring-overview",
"text": "Monitoring MSK Connect"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-monitoring-overview.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-monitoring-overview.html#mkc-monitoring-overview",
"main_header": "Monitoring MSK Connect",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#mkc-monitoring-overview",
"text": "Monitoring MSK Connect"
},
"links": [],
"text": "MSK Connect metrics\n\nMetric name\nDescription BytesInPerSec\nThe total number of bytes received by the connector. BytesOutPerSec\nThe total number of bytes delivered by the connector. CpuUtilization\nThe percentage of CPU consumption by system and user. ErroredTaskCount\nThe number of tasks that have errored out. MemoryUtilization\nThe percentage of memory consumption for the connector. RebalanceCompletedTotal\nThe total number of rebalances completed by this connector. RebalanceTimeAvg\nThe average time in milliseconds spent by the connector on rebalancing. RebalanceTimeMax\nThe maximum time in milliseconds spent by the connector on rebalancing. RebalanceTimeSinceLast\n\nThe time in milliseconds since this connector completed the most recent rebalance. RunningTaskCount\nThe running number of tasks in the connector. SinkRecordReadRate\nThe average per-second number of records read from the Apache Kafka or Amazon MSK cluster. SinkRecordSendRate\nThe average per-second number of records that are output from the transformations and sent to the destination. This number doesn't include filtered records. SourceRecordPollRate\nThe average per-second number of records produced or polled. SourceRecordWriteRate\nThe average per-second number of records output from the transformations and written to the Apache Kafka or Amazon MSK cluster. TaskStartupAttemptsTotal\nThe total number of task startups that the connector has attempted. You can use this metric to identify anomalies in task startup attempts. TaskStartupSuccessPercentage\nThe average percentage of successful task starts for the connector. You can use this metric to identify anomalies in task startup attempts. WorkerCount\nThe number of workers that are running in the connector.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-monitoring-overview.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-monitoring-overview.html#mkc-monitoring-overview",
"main_header": "Monitoring MSK Connect",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#mkc-monitoring-overview",
"text": "Monitoring MSK Connect"
},
"links": [],
"text": "MSK Connect metrics\n\nMetric name\nDescription BytesInPerSec\nThe total number of bytes received by the connector. BytesOutPerSec\nThe total number of bytes delivered by the connector. CpuUtilization\nThe percentage of CPU consumption by system and user. ErroredTaskCount\nThe number of tasks that have errored out. MemoryUtilization\nThe percentage of memory consumption for the connector. RebalanceCompletedTotal\nThe total number of rebalances completed by this connector. RebalanceTimeAvg\nThe average time in milliseconds spent by the connector on rebalancing. RebalanceTimeMax\nThe maximum time in milliseconds spent by the connector on rebalancing. RebalanceTimeSinceLast\n\nThe time in milliseconds since this connector completed the most recent rebalance. RunningTaskCount\nThe running number of tasks in the connector. SinkRecordReadRate\nThe average per-second number of records read from the Apache Kafka or Amazon MSK cluster. SinkRecordSendRate\nThe average per-second number of records that are output from the transformations and sent to the destination. This number doesn't include filtered records. SourceRecordPollRate\nThe average per-second number of records produced or polled. SourceRecordWriteRate\nThe average per-second number of records output from the transformations and written to the Apache Kafka or Amazon MSK cluster. TaskStartupAttemptsTotal\nThe total number of task startups that the connector has attempted. You can use this metric to identify anomalies in task startup attempts. TaskStartupSuccessPercentage\nThe average percentage of successful task starts for the connector. You can use this metric to identify anomalies in task startup attempts. WorkerCount\nThe number of workers that are running in the connector.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-monitoring-overview.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-monitoring-overview.html#mkc-monitoring-overview",
"main_header": "Monitoring MSK Connect",
"images": [],
"container_type": "div",
"children_tags": [
"table"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-examples",
"text": "Examples"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html#msk-connect-examples",
"main_header": "Examples",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#mkc-S3sink-connector-example",
"text": "Amazon S3 sink connector"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-S3sink-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-S3sink-connector-example.html#mkc-S3sink-connector-example",
"main_header": "Amazon S3 sink connector",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-S3sink-connector-example",
"text": "Amazon S3 sink connector"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
],
"text": "Copy the following JSON and paste it in a new file. Replace the placeholder strings with values that correspond to your Amazon MSK cluster's bootstrap servers connection string and the cluster's subnet and security group IDs. For information about how to set up a service execution role, see IAM roles and policies for MSK Connect.\n{ \"connectorConfiguration\": { \"connector.class\": \"io.confluent.connect.s3.S3SinkConnector\", \"s3.region\": \"us-east-1\", \"format.class\": \"io.confluent.connect.s3.format.json.JsonFormat\", \"flush.size\": \"1\", \"schema.compatibility\": \"NONE\", \"topics\": \"my-test-topic\", \"tasks.max\": \"2\", \"partitioner.class\": \"io.confluent.connect.storage.partitioner.DefaultPartitioner\", \"storage.class\": \"io.confluent.connect.s3.storage.S3Storage\", \"s3.bucket.name\": \"my-test-bucket\" }, \"connectorName\": \"example-S3-sink-connector\", \"kafkaCluster\": { \"apacheKafkaCluster\": { \"bootstrapServers\": \"<cluster-bootstrap-servers-string>\", \"vpc\": { \"subnets\": [ \"<cluster-subnet-1>\", \"<cluster-subnet-2>\", \"<cluster-subnet-3>\" ], \"securityGroups\": [\"<cluster-security-group-id>\"] } } }, \"capacity\": { \"provisionedCapacity\": { \"mcuCount\": 2, \"workerCount\": 4 } }, \"kafkaConnectVersion\": \"2.7.1\", \"serviceExecutionRoleArn\": \"<arn-of-a-role-that-msk-connect-can-assume>\", \"plugins\": [ { \"customPlugin\": { \"customPluginArn\": \"<arn-of-custom-plugin-that-contains-connector-code>\", \"revision\": 1 } } ], \"kafkaClusterEncryptionInTransit\": {\"encryptionType\": \"PLAINTEXT\"}, \"kafkaClusterClientAuthentication\": {\"authenticationType\": \"NONE\"}\n}\n\nRun the following AWS CLI command in the folder where you saved the JSON file in the previous step.\naws kafkaconnect create-connector --cli-input-json file://connector-info.json\nThe following is an example of the output that you get when you run the command successfully.\n{ \"ConnectorArn\": \"arn:aws:kafkaconnect:us-east-1:123450006789:connector/example-S3-sink-connector/abc12345-abcd-4444-a8b9-123456f513ed-2\", \"ConnectorState\": \"CREATING\", \"ConnectorName\": \"example-S3-sink-connector\"\n}",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-S3sink-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-S3sink-connector-example.html#mkc-S3sink-connector-example",
"main_header": "Amazon S3 sink connector",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-redshiftsink-connector-example",
"text": "Amazon Redshift sink connector with configuration provider"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html#mkc-redshiftsink-connector-example",
"main_header": "Amazon Redshift sink connector with configuration provider",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-redshiftsink-connector-example",
"text": "Amazon Redshift sink connector with configuration provider"
},
"links": [
{
"url": "https://docs.confluent.io/platform/current/installation/license.html",
"title": "Confluent Platform Licenses"
}
],
"text": "NoteYou can test and evaluate the Confluent Amazon Redshift Sink Connector for free for 30 days. After the 30-day evaluation period, you must have an appropriate Confluent license. For more information, see Confluent Platform Licenses.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html#mkc-redshiftsink-connector-example",
"main_header": "Amazon Redshift sink connector with configuration provider",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-redshiftsink-connector-example",
"text": "Amazon Redshift sink connector with configuration provider"
},
"links": [],
"text": "Note",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html#mkc-redshiftsink-connector-example",
"main_header": "Amazon Redshift sink connector with configuration provider",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-redshiftsink-connector-example",
"text": "Amazon Redshift sink connector with configuration provider"
},
"links": [
{
"url": "https://docs.confluent.io/platform/current/installation/license.html",
"title": "Confluent Platform Licenses"
}
],
"text": "You can test and evaluate the Confluent Amazon Redshift Sink Connector for free for 30 days. After the 30-day evaluation period, you must have an appropriate Confluent license. For more information, see Confluent Platform Licenses.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html#mkc-redshiftsink-connector-example",
"main_header": "Amazon Redshift sink connector with configuration provider",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-redshiftsink-connector-example",
"text": "Amazon Redshift sink connector with configuration provider"
},
"links": [
{
"url": "https://docs.confluent.io/platform/current/installation/license.html",
"title": "Confluent Platform Licenses"
}
],
"text": "You can test and evaluate the Confluent Amazon Redshift Sink Connector for free for 30 days. After the 30-day evaluation period, you must have an appropriate Confluent license. For more information, see Confluent Platform Licenses.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html#mkc-redshiftsink-connector-example",
"main_header": "Amazon Redshift sink connector with configuration provider",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-redshiftsink-connector-example",
"text": "Amazon Redshift sink connector with configuration provider"
},
"h2": {
"urllink": "#mkc-redshiftsink-connector-example-prereqs",
"text": "Before you begin"
},
"links": [],
"text": "NoteAmazon MSK Connect does not currently support connections to AWS Secrets Manager using VPC endpoints for AWS PrivateLink.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html#mkc-redshiftsink-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-redshiftsink-connector-example",
"text": "Amazon Redshift sink connector with configuration provider"
},
"h2": {
"urllink": "#mkc-redshiftsink-connector-example-prereqs",
"text": "Before you begin"
},
"links": [],
"text": "Note",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html#mkc-redshiftsink-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-redshiftsink-connector-example",
"text": "Amazon Redshift sink connector with configuration provider"
},
"h2": {
"urllink": "#mkc-redshiftsink-connector-example-prereqs",
"text": "Before you begin"
},
"links": [],
"text": "Amazon MSK Connect does not currently support connections to AWS Secrets Manager using VPC endpoints for AWS PrivateLink.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html#mkc-redshiftsink-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-redshiftsink-connector-example",
"text": "Amazon Redshift sink connector with configuration provider"
},
"h2": {
"urllink": "#mkc-redshiftsink-connector-example-prereqs",
"text": "Before you begin"
},
"links": [],
"text": "Amazon MSK Connect does not currently support connections to AWS Secrets Manager using VPC endpoints for AWS PrivateLink.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html#mkc-redshiftsink-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-redshiftsink-connector-example",
"text": "Amazon Redshift sink connector with configuration provider"
},
"h2": {
"urllink": "#mkc-redshiftsink-connector-example-prereqs",
"text": "Before you begin"
},
"links": [],
"text": "Set up a public subnet that hosts a NAT gateway and routes traffic to an internet gateway in your VPC.Create a default route that directs your private subnet traffic to your NAT gateway.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html#mkc-redshiftsink-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-redshiftsink-connector-example",
"text": "Amazon Redshift sink connector with configuration provider"
},
"h2": {
"urllink": "#mkc-redshiftsink-connector-example-prereqs",
"text": "Before you begin"
},
"links": [],
"text": "The ID of the Amazon Virtual Private Cloud (VPC) associated with your cluster. For example, vpc-123456ab.The IDs of the private subnets in your VPC. For example, subnet-a1b2c3de, subnet-f4g5h6ij, etc. You must configure your connector with private subnets.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html#mkc-redshiftsink-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-redshiftsink-connector-example",
"text": "Amazon Redshift sink connector with configuration provider"
},
"h2": {
"urllink": "#mkc-redshiftsink-connector-example-prereqs",
"text": "Before you begin"
},
"links": [
{
"url": "https://console.aws.amazon.com/vpc/",
"title": "https://console.aws.amazon.com/vpc/"
},
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/working-with-vpcs.html#AddaSubnet",
"title": "Create a subnet in your VPC"
},
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Internet_Gateway.html#Add_IGW_Attach_Gateway",
"title": "Create and attach an internet gateway"
},
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat-gateway.html#nat-gateway-creating",
"title": "Create a NAT gateway"
},
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/WorkWithRouteTables.html",
"title": "Work with route tables"
},
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Internet_Gateway.html#Add_IGW_Routing",
"title": "Create a custom route table"
}
],
"text": "To enable internet access for your connector\nOpen the Amazon Virtual Private Cloud console at https://console.aws.amazon.com/vpc/.\n\nCreate a public subnet for your NAT gateway with a descriptive name, and note the subnet ID. For detailed instructions, see Create a subnet in your VPC.\n\nCreate an internet gateway so that your VPC can communicate with the internet, and note the gateway ID. Attach the internet gateway to your VPC. For instructions, see Create and attach an internet gateway.\n\nProvision a public NAT gateway so that hosts in your private subnets can reach your public subnet. When you create the NAT gateway, select the public subnet that you created earlier. For instructions, see Create a NAT gateway.\n\nConfigure your route tables. You must have two route tables in total to complete this setup. You should already have a main route table that was automatically created at the same time as your VPC. In this step you create an additional route table for your public subnet.\n\nUse the following settings to modify your VPC's main route table so that your private subnets route traffic to your NAT gateway. For instructions, see Work with route tables in the Amazon Virtual Private Cloud\nUser Guide.\nPrivate MSKC route table\n\nProperty\nValue Name tag\nWe recommend that you give this route table a descriptive name tag to help you identify it. For example, Private MSKC. Associated subnets\n Your private subnets A route to enable internet access for MSK Connect Destination: 0.0.0.0/0\n\nTarget: Your NAT gateway ID. For example, nat-12a345bc6789efg1h. A local route for internal traffic Destination: 10.0.0.0/16. This value may differ depending on your VPC's CIDR block.\n\nTarget: Local Follow the instructions in Create a custom route table to create a route table for your public subnet. When you create the table, enter a descriptive name in the Name tag field to help you identify which subnet the table is associated with. For example, Public MSKC.\n\nConfigure your Public MSKC route table using the following settings. Property\nValue Name tag\nPublic MSKC or a different descriptive name that you choose Associated subnets\nYour public subnet with NAT gateway A route to enable internet access for MSK Connect Destination: 0.0.0.0/0\n\nTarget: Your internet gateway ID. For example, igw-1a234bc5. A local route for internal traffic Destination: 10.0.0.0/16. This value may differ depending on your VPC's CIDR block.\n\nTarget: Local",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html#mkc-redshiftsink-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-redshiftsink-connector-example",
"text": "Amazon Redshift sink connector with configuration provider"
},
"h2": {
"urllink": "#mkc-redshiftsink-connector-example-prereqs",
"text": "Before you begin"
},
"links": [],
"text": "To enable internet access for your connector",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html#mkc-redshiftsink-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-redshiftsink-connector-example",
"text": "Amazon Redshift sink connector with configuration provider"
},
"h2": {
"urllink": "#mkc-redshiftsink-connector-example-steps",
"text": "Creating an Amazon Redshift sink connector"
},
"links": [
{
"url": "https://www.confluent.io/hub/confluentinc/kafka-connect-aws-redshift",
"title": "Amazon Redshift Sink Connector"
},
{
"url": "https://www.confluent.io/hub/jcustenborder/kafka-config-provider-aws",
"title": "AWS Secrets Manager Config Provider"
},
{
"url": "https://docs.aws.amazon.com/redshift/latest/mgmt/configure-jdbc-connection.html#jdbc-previous-versions",
"title": "Use previous JDBC driver version 1.0 driver versions in certain cases"
},
{
"url": "https://docs.aws.amazon.com/AmazonS3/latest/userguide/upload-objects.html",
"title": "Uploading objects"
},
{
"url": "https://console.aws.amazon.com/secrets-manager/",
"title": "https://console.aws.amazon.com/secretsmanager/"
},
{
"url": "https://docs.aws.amazon.com/secretsmanager/latest/userguide/manage_create-basic-secret.html",
"title": "Create a secret"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-service-execution-role.html",
"title": "Service execution role"
},
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_manage-attach-detach.html",
"title": "Adding and removing IAM identity permissions"
},
{
"url": "https://jcustenborder.github.io/kafka-connect-documentation/projects/kafka-config-provider-aws/configProviders/SecretsManagerConfigProvider.html",
"title": "SecretsManagerConfigProvider"
}
],
"text": "Prepare a custom plugin\nDownload and extract the Amazon Redshift Sink Connector from the Confluent site.\nDownload and extract the AWS Secrets Manager Config Provider.\n\nGo to Use previous JDBC driver version 1.0 driver versions in certain cases, and download the latest JDBC-compatible driver. When the download completes, move the driver into the confluentinc-kafka-connect-aws-redshift-1.1.0/lib folder.\n\nPlace the following archives into the same directory: The confluentinc-kafka-connect-aws-redshift-1.1.0 folder\n\nThe jcusten-border-kafka-config-provider-aws-0.1.1 folder Compress the directory that you created in the previous step into a ZIP file and then upload the ZIP file to an S3 bucket. For instructions, see Uploading objects in the Amazon S3 User Guide.\nCopy the following JSON and paste it in a file. For example, redshift-sink-custom-plugin.json. Replace <example-custom-plugin-name> with the name that you want the plugin to have, <arn-of-your-s3-bucket> with the ARN of the S3 bucket where you uploaded the ZIP file, and <file-key-of-ZIP-object> with the file key of the ZIP that you uploaded to S3.\n{ \"name\": \"<example-custom-plugin-name>\", \"contentType\": \"ZIP\", \"location\": { \"s3Location\": { \"bucketArn\": \"<arn-of-your-s3-bucket>\", \"fileKey\": \"<file-key-of-ZIP-object>\" } }\n}Run the following AWS CLI command from the folder where you saved the JSON file to create a plugin.\naws kafkaconnect create-custom-plugin --cli-input-json file://<redshift-sink-custom-plugin.json>\nYou should see output similar to the following example.\n{ \"CustomPluginArn\": \"arn:aws:kafkaconnect:us-east-1:012345678901:custom-plugin/example-custom-plugin-name/abcd1234-a0b0-1234-c1-12345678abcd-1\", \"CustomPluginState\": \"CREATING\", \"Name\": \"example-custom-plugin-name\", \"Revision\": 1\n}Run the following command to check the plugin state. The state should change from CREATING to ACTIVE. Replace the ARN placeholder with the ARN that you got in the output of the previous command.\naws kafkaconnect describe-custom-plugin --custom-plugin-arn \"<arn-of-your-custom-plugin>\"\nConfigure AWS Secrets Manager permissions and create a secret for your Amazon Redshift credentials\n\nOpen the Secrets Manager console at https://console.aws.amazon.com/secretsmanager/.\n\nCreate a new secret to store your Amazon Redshift user name and password. For instructions, see Create a secret in the AWS Secrets Manager User Guide.\n\nCopy your secret's ARN.\n\nAdd the Secrets Manager permissions from the following example policy to your Service execution role. Replace <arn:aws:secretsmanager:us-east-1:123456789000:secret:MyRedshiftSecret-1234> with the ARN of your secret.\n{ \"Version\": \"2012-10-17\", \"Statement\": [ { \"Effect\": \"Allow\", \"Action\": [ \"secretsmanager:GetResourcePolicy\", \"secretsmanager:GetSecretValue\", \"secretsmanager:DescribeSecret\", \"secretsmanager:ListSecretVersionIds\" ], \"Resource\": [ \"<arn:aws:secretsmanager:us-east-1:123456789000:secret:MyRedshiftSecret-1234>\" ] } ]\n}\nFor instructions on how to add IAM permissions, see Adding and removing IAM identity permissions in the IAM User Guide. Create a custom worker configuration with information about your configuration provider\n\nCopy the following worker configuration properties into a file, replacing the <placeholder> strings with values that correspond to your scenario. To learn more about the configuration properties for the AWS Secrets Manager Config Provider, see SecretsManagerConfigProvider in the plugin's documentation.\nkey.converter=<org.apache.kafka.connect.storage.StringConverter>\nvalue.converter=<org.apache.kafka.connect.storage.StringConverter>\nconfig.providers.secretManager.class=com.github.jcustenborder.kafka.config.aws.SecretsManagerConfigProvider\nconfig.providers=secretManager\nconfig.providers.secretManager.param.aws.region=<us-east-1>\n\nRun the following AWS CLI command to create your custom worker configuration. \nReplace the following values: <my-worker-config-name> - a descriptive name for your custom worker configuration\n\n<encoded-properties-file-content-string> - a base64-encoded version of the plaintext properties that you copied in the previous step\n\naws kafkaconnect create-worker-configuration --name <my-worker-config-name> --properties-file-content <encoded-properties-file-content-string>\n\nCreate a connector\nUse the following example JSON to define properties for your connector. Replace the <placeholders> with values that correspond to your scenario and resources.\nNote that the configuration uses variables like ${secretManager:MyRedshiftSecret-1234:user name} instead of plaintext to specify Redshift credentials. Replace MyRedshiftSecret-1234 with the name of your secret and then include the name of the key that you want to retrieve. You must also replace <arn-of-config-provider-worker-configuration> with the ARN of your custom worker configuration.\n{ \"connectorName\": \"example-redshift-sink-connector\", \"kafkaConnectVersion\": \"2.7.1\", \"serviceExecutionRoleArn\": \"<arn-of-msk-connect-service-execution-role>\", \"plugins\": [ { \"customPlugin\": { \"customPluginArn\": \"<arn-of-custom-plugin>\", \"revision\": 1 } } ], \"capacity\": { \"provisionedCapacity\": { \"workerCount\": 2, \"mcuCount\": 1 } }, \"kafkaCluster\": { \"apacheKafkaCluster\": { \"bootstrapServers\": \"<my-cluster-bootstrap-servers-string>\", \"vpc\": { \"subnets\": [ \"<subnet-abcd1234>\", \"<subnet-cdef0123>\", \"<subnet-abcd0101>\" ] } } }, \"kafkaClusterClientAuthentication\": {\"authenticationType\": \"NONE\"}, \"kafkaClusterEncryptionInTransit\": {\"encryptionType\": \"PLAINTEXT\"}, \"logDelivery\": { \"workerLogDelivery\": { \"cloudWatchLogs\": { \"logGroup\": \"<example-log-group-name>\", \"enabled\": true } } }, \"connectorConfiguration\": { \"confluent.topic.bootstrap.servers\": \"<boostrap-servers-string>\", \"confluent.topic.replication.factor\": \"1\", \"connector.class\": \"io.confluent.connect.aws.redshift.RedshiftSinkConnector\", \"tasks.max\": \"2\", \"topics\": \"<example-topic>\", \"aws.redshift.domain\": \"my-example-redshift-cluster.abcdefghijkl.us-east-1-integ.redshift-dev.amazonaws.com\", \"aws.redshift.port\": \"5439\", \"aws.redshift.database\": \"dev\", \"aws.redshift.user\": \"${secretManager:<MyRedshiftSecret-1234>:<username>}\", \"aws.redshift.password\": \"${secretManager:<MyRedshiftSecret-1234>:<password>}\", \"pk.mode\": \"kafka\", \"auto.create\": \"true\", \"key.converter\": \"org.apache.kafka.connect.json.JsonConverter\", \"value.converter\": \"org.apache.kafka.connect.json.JsonConverter\", \"key.converter.schemas.enable\": \"true\", \"value.converter.schemas.enable\": \"true\" }, \"workerConfiguration\": { \"workerConfigurationArn\": \"<arn-of-config-provider-worker-configuration>\", \"revision\": 1 }\n}\nRun the following command to create the connector.\naws kafkaconnect create-connector --cli-input-json file://redshift-sink-connector.jsonThe following is an example of the output that you get when you run the command successfully.\n{ \"ConnectorArn\": \"arn:aws:kafkaconnect:us-east-1:123450006789:connector/example-redshift-sink-connector/abc12345-abcd-4444-a8b9-123456f513ed-2\", \"ConnectorState\": \"CREATING\", \"ConnectorName\": \"example-redshift-sink-connector\"\n}",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html#mkc-redshiftsink-connector-example-steps",
"main_header": "Creating an Amazon Redshift sink connector",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-debeziumsource-connector-example",
"text": "Debezium source connector with configuration provider"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html#mkc-debeziumsource-connector-example",
"main_header": "Debezium source connector with configuration provider",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-debeziumsource-connector-example",
"text": "Debezium source connector with configuration provider"
},
"links": [
{
"url": "https://debezium.io/documentation/reference/stable/connectors/mysql.html#mysql-property-tasks-max",
"title": "supports only one task"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html#msk-connect-capacity",
"title": "Connector capacity"
}
],
"text": "ImportantThe Debezium MySQL connector plugin supports only one task and does not work with autoscaled capacity mode for Amazon MSK Connect. You should instead use provisioned capacity mode and set workerCount equal to one in your connector configuration. To learn more about the capacity modes for MSK Connect, see Connector capacity.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html#mkc-debeziumsource-connector-example",
"main_header": "Debezium source connector with configuration provider",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-debeziumsource-connector-example",
"text": "Debezium source connector with configuration provider"
},
"links": [],
"text": "Important",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html#mkc-debeziumsource-connector-example",
"main_header": "Debezium source connector with configuration provider",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-debeziumsource-connector-example",
"text": "Debezium source connector with configuration provider"
},
"links": [
{
"url": "https://debezium.io/documentation/reference/stable/connectors/mysql.html#mysql-property-tasks-max",
"title": "supports only one task"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html#msk-connect-capacity",
"title": "Connector capacity"
}
],
"text": "The Debezium MySQL connector plugin supports only one task and does not work with autoscaled capacity mode for Amazon MSK Connect. You should instead use provisioned capacity mode and set workerCount equal to one in your connector configuration. To learn more about the capacity modes for MSK Connect, see Connector capacity.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html#mkc-debeziumsource-connector-example",
"main_header": "Debezium source connector with configuration provider",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-debeziumsource-connector-example",
"text": "Debezium source connector with configuration provider"
},
"links": [
{
"url": "https://debezium.io/documentation/reference/stable/connectors/mysql.html#mysql-property-tasks-max",
"title": "supports only one task"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html#msk-connect-capacity",
"title": "Connector capacity"
}
],
"text": "The Debezium MySQL connector plugin supports only one task and does not work with autoscaled capacity mode for Amazon MSK Connect. You should instead use provisioned capacity mode and set workerCount equal to one in your connector configuration. To learn more about the capacity modes for MSK Connect, see Connector capacity.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html#mkc-debeziumsource-connector-example",
"main_header": "Debezium source connector with configuration provider",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-debeziumsource-connector-example",
"text": "Debezium source connector with configuration provider"
},
"h2": {
"urllink": "#mkc-debeziumsource-connector-example-prereqs",
"text": "Before you begin"
},
"links": [],
"text": "NoteAmazon MSK Connect does not currently support connections to AWS Secrets Manager using VPC endpoints for AWS PrivateLink.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html#mkc-debeziumsource-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-debeziumsource-connector-example",
"text": "Debezium source connector with configuration provider"
},
"h2": {
"urllink": "#mkc-debeziumsource-connector-example-prereqs",
"text": "Before you begin"
},
"links": [],
"text": "Note",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html#mkc-debeziumsource-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-debeziumsource-connector-example",
"text": "Debezium source connector with configuration provider"
},
"h2": {
"urllink": "#mkc-debeziumsource-connector-example-prereqs",
"text": "Before you begin"
},
"links": [],
"text": "Amazon MSK Connect does not currently support connections to AWS Secrets Manager using VPC endpoints for AWS PrivateLink.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html#mkc-debeziumsource-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-debeziumsource-connector-example",
"text": "Debezium source connector with configuration provider"
},
"h2": {
"urllink": "#mkc-debeziumsource-connector-example-prereqs",
"text": "Before you begin"
},
"links": [],
"text": "Amazon MSK Connect does not currently support connections to AWS Secrets Manager using VPC endpoints for AWS PrivateLink.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html#mkc-debeziumsource-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-debeziumsource-connector-example",
"text": "Debezium source connector with configuration provider"
},
"h2": {
"urllink": "#mkc-debeziumsource-connector-example-prereqs",
"text": "Before you begin"
},
"links": [],
"text": "Set up a public subnet that hosts a NAT gateway and routes traffic to an internet gateway in your VPC.Create a default route that directs your private subnet traffic to your NAT gateway.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html#mkc-debeziumsource-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-debeziumsource-connector-example",
"text": "Debezium source connector with configuration provider"
},
"h2": {
"urllink": "#mkc-debeziumsource-connector-example-prereqs",
"text": "Before you begin"
},
"links": [],
"text": "The ID of the Amazon Virtual Private Cloud (VPC) associated with your cluster. For example, vpc-123456ab.The IDs of the private subnets in your VPC. For example, subnet-a1b2c3de, subnet-f4g5h6ij, etc. You must configure your connector with private subnets.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html#mkc-debeziumsource-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-debeziumsource-connector-example",
"text": "Debezium source connector with configuration provider"
},
"h2": {
"urllink": "#mkc-debeziumsource-connector-example-prereqs",
"text": "Before you begin"
},
"links": [
{
"url": "https://console.aws.amazon.com/vpc/",
"title": "https://console.aws.amazon.com/vpc/"
},
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/working-with-vpcs.html#AddaSubnet",
"title": "Create a subnet in your VPC"
},
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Internet_Gateway.html#Add_IGW_Attach_Gateway",
"title": "Create and attach an internet gateway"
},
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat-gateway.html#nat-gateway-creating",
"title": "Create a NAT gateway"
},
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/WorkWithRouteTables.html",
"title": "Work with route tables"
},
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Internet_Gateway.html#Add_IGW_Routing",
"title": "Create a custom route table"
}
],
"text": "To enable internet access for your connector\nOpen the Amazon Virtual Private Cloud console at https://console.aws.amazon.com/vpc/.\n\nCreate a public subnet for your NAT gateway with a descriptive name, and note the subnet ID. For detailed instructions, see Create a subnet in your VPC.\n\nCreate an internet gateway so that your VPC can communicate with the internet, and note the gateway ID. Attach the internet gateway to your VPC. For instructions, see Create and attach an internet gateway.\n\nProvision a public NAT gateway so that hosts in your private subnets can reach your public subnet. When you create the NAT gateway, select the public subnet that you created earlier. For instructions, see Create a NAT gateway.\n\nConfigure your route tables. You must have two route tables in total to complete this setup. You should already have a main route table that was automatically created at the same time as your VPC. In this step you create an additional route table for your public subnet.\n\nUse the following settings to modify your VPC's main route table so that your private subnets route traffic to your NAT gateway. For instructions, see Work with route tables in the Amazon Virtual Private Cloud\nUser Guide.\nPrivate MSKC route table\n\nProperty\nValue Name tag\nWe recommend that you give this route table a descriptive name tag to help you identify it. For example, Private MSKC. Associated subnets\n Your private subnets A route to enable internet access for MSK Connect Destination: 0.0.0.0/0\n\nTarget: Your NAT gateway ID. For example, nat-12a345bc6789efg1h. A local route for internal traffic Destination: 10.0.0.0/16. This value may differ depending on your VPC's CIDR block.\n\nTarget: Local Follow the instructions in Create a custom route table to create a route table for your public subnet. When you create the table, enter a descriptive name in the Name tag field to help you identify which subnet the table is associated with. For example, Public MSKC.\n\nConfigure your Public MSKC route table using the following settings. Property\nValue Name tag\nPublic MSKC or a different descriptive name that you choose Associated subnets\nYour public subnet with NAT gateway A route to enable internet access for MSK Connect Destination: 0.0.0.0/0\n\nTarget: Your internet gateway ID. For example, igw-1a234bc5. A local route for internal traffic Destination: 10.0.0.0/16. This value may differ depending on your VPC's CIDR block.\n\nTarget: Local",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html#mkc-debeziumsource-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-debeziumsource-connector-example",
"text": "Debezium source connector with configuration provider"
},
"h2": {
"urllink": "#mkc-debeziumsource-connector-example-prereqs",
"text": "Before you begin"
},
"links": [],
"text": "To enable internet access for your connector",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html#mkc-debeziumsource-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-debeziumsource-connector-example",
"text": "Debezium source connector with configuration provider"
},
"h2": {
"urllink": "#msk-connect-debeziumsource-connector-example-steps",
"text": "Creating a Debezium source connector"
},
"links": [
{
"url": "https://debezium.io/releases/",
"title": "Debezium"
},
{
"url": "https://www.confluent.io/hub/jcustenborder/kafka-config-provider-aws",
"title": "AWS Secrets Manager Config Provider"
},
{
"url": "https://docs.aws.amazon.com/AmazonS3/latest/userguide/upload-objects.html",
"title": "Uploading objects"
},
{
"url": "https://console.aws.amazon.com/secrets-manager/",
"title": "https://console.aws.amazon.com/secretsmanager/"
},
{
"url": "https://docs.aws.amazon.com/secretsmanager/latest/userguide/manage_create-basic-secret.html",
"title": "Create a secret"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-service-execution-role.html",
"title": "Service execution role"
},
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_manage-attach-detach.html",
"title": "Adding and removing IAM identity permissions"
},
{
"url": "https://jcustenborder.github.io/kafka-connect-documentation/projects/kafka-config-provider-aws/configProviders/SecretsManagerConfigProvider.html",
"title": "SecretsManagerConfigProvider"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
],
"text": "Create a custom plugin Download the MySQL connector plugin for the latest stable release from the Debezium site.\nDownload and extract the AWS Secrets Manager Config Provider.\n\nPlace the following archives into the same directory: The debezium-connector-mysql folder\n\nThe jcusten-border-kafka-config-provider-aws-0.1.1 folder Compress the directory that you created in the previous step into a ZIP file and then upload the ZIP file to an S3 bucket. For instructions, see Uploading objects in the Amazon S3 User Guide.\n\nCopy the following JSON and paste it in a file. For example, debezium-source-custom-plugin.json. Replace <example-custom-plugin-name> with the name that you want the plugin to have, <arn-of-your-s3-bucket> with the ARN of the S3 bucket where you uploaded the ZIP file, and <file-key-of-ZIP-object> with the file key of the ZIP object that you uploaded to S3.\n{ \"name\": \"<example-custom-plugin-name>\", \"contentType\": \"ZIP\", \"location\": { \"s3Location\": { \"bucketArn\": \"<arn-of-your-s3-bucket>\", \"fileKey\": \"<file-key-of-ZIP-object>\" } }\n}\n\nRun the following AWS CLI command from the folder where you saved the JSON file to create a plugin.\naws kafkaconnect create-custom-plugin --cli-input-json file://<debezium-source-custom-plugin.json>\nYou should see output similar to the following example.\n{ \"CustomPluginArn\": \"arn:aws:kafkaconnect:us-east-1:012345678901:custom-plugin/example-custom-plugin-name/abcd1234-a0b0-1234-c1-12345678abcd-1\", \"CustomPluginState\": \"CREATING\", \"Name\": \"example-custom-plugin-name\", \"Revision\": 1\n}\n\nRun the following command to check the plugin state. The state should change from CREATING to ACTIVE. Replace the ARN placeholder with the ARN that you got in the output of the previous command.\naws kafkaconnect describe-custom-plugin --custom-plugin-arn \"<arn-of-your-custom-plugin>\"\nConfigure AWS Secrets Manager and create a secret for your database credentials\n\nOpen the Secrets Manager console at https://console.aws.amazon.com/secretsmanager/.\n\nCreate a new secret to store your database user name and password. For instructions, see Create a secret in the AWS Secrets Manager User Guide.\n\nCopy your secret's ARN.\n\nAdd the Secrets Manager permissions from the following example policy to your Service execution role. Replace <arn:aws:secretsmanager:us-east-1:123456789000:secret:MySecret-1234> with the ARN of your secret.\n{ \"Version\": \"2012-10-17\", \"Statement\": [ { \"Effect\": \"Allow\", \"Action\": [ \"secretsmanager:GetResourcePolicy\", \"secretsmanager:GetSecretValue\", \"secretsmanager:DescribeSecret\", \"secretsmanager:ListSecretVersionIds\" ], \"Resource\": [ \"<arn:aws:secretsmanager:us-east-1:123456789000:secret:MySecret-1234>\" ] } ]\n}\nFor instructions on how to add IAM permissions, see Adding and removing IAM identity permissions in the IAM User Guide.\n\nCreate a custom worker configuration with information about your configuration provider\n\nCopy the following worker configuration properties into a file, replacing the placeholder strings with values that correspond to your scenario. To learn more about the configuration properties for the AWS Secrets Manager Config Provider, see SecretsManagerConfigProvider in the plugin's documentation.\nkey.converter=<org.apache.kafka.connect.storage.StringConverter>\nvalue.converter=<org.apache.kafka.connect.storage.StringConverter>\nconfig.providers.secretManager.class=com.github.jcustenborder.kafka.config.aws.SecretsManagerConfigProvider\nconfig.providers=secretManager\nconfig.providers.secretManager.param.aws.region=<us-east-1>\n\nRun the following AWS CLI command to create your custom worker configuration. \nReplace the following values: <my-worker-config-name> - a descriptive name for your custom worker configuration\n\n<encoded-properties-file-content-string> - a base64-encoded version of the plaintext properties that you copied in the previous step\n\naws kafkaconnect create-worker-configuration --name <my-worker-config-name> --properties-file-content <encoded-properties-file-content-string>\n\nCreate a connector Copy the following JSON and paste it in a new file. Replace the <placeholder> strings with values that correspond to your scenario. For information about how to set up a service execution role, see IAM roles and policies for MSK Connect.\nNote that the configuration uses variables like ${secretManager:MySecret-1234:dbusername} instead of plaintext to specify database credentials. Replace MySecret-1234 with the name of your secret and then include the name of the key that you want to retrieve. You must also replace <arn-of-config-provider-worker-configuration> with the ARN of your custom worker configuration.\n{ \"connectorConfiguration\": { \"connector.class\": \"io.debezium.connector.mysql.MySqlConnector\", \"tasks.max\": \"1\", \"database.hostname\": \"<aurora-database-writer-instance-endpoint>\", \"database.port\": \"3306\", \"database.user\": \"<${secretManager:MySecret-1234:dbusername}>\", \"database.password\": \"<${secretManager:MySecret-1234:dbpassword}>\", \"database.server.id\": \"123456\", \"database.server.name\": \"<logical-name-of-database-server>\", \"database.include.list\": \"<list-of-databases-hosted-by-specified-server>\", \"database.history.kafka.topic\": \"<kafka-topic-used-by-debezium-to-track-schema-changes>\", \"database.history.kafka.bootstrap.servers\": \"<cluster-bootstrap-servers-string\", \"database.history.consumer.security.protocol\": \"SASL_SSL\", \"database.history.consumer.sasl.mechanism\": \"AWS_MSK_IAM\", \"database.history.consumer.sasl.jaas.config\": \"software.amazon.msk.auth.iam.IAMLoginModule required;\", \"database.history.consumer.sasl.client.callback.handler.class\": \"software.amazon.msk.auth.iam.IAMClientCallbackHandler\", \"database.history.producer.security.protocol\": \"SASL_SSL\", \"database.history.producer.sasl.mechanism\": \"AWS_MSK_IAM\", \"database.history.producer.sasl.jaas.config\": \"software.amazon.msk.auth.iam.IAMLoginModule required;\", \"database.history.producer.sasl.client.callback.handler.class\": \"software.amazon.msk.auth.iam.IAMClientCallbackHandler\", \"include.schema.changes\": \"true\" }, \"connectorName\": \"example-Debezium-source-connector\", \"kafkaCluster\": { \"apacheKafkaCluster\": { \"bootstrapServers\": \"<cluster-bootstrap-servers-string>\", \"vpc\": { \"subnets\": [ \"<cluster-subnet-1>\", \"<cluster-subnet-2>\", \"<cluster-subnet-3>\" ], \"securityGroups\": [\"<id-of-cluster-security-group>\"] } } }, \"capacity\": { \"provisionedCapacity\": { \"mcuCount\": 2, \"workerCount\": 1 } }, \"kafkaConnectVersion\": \"2.7.1\", \"serviceExecutionRoleArn\": \"<arn-of-service-execution-role-that-msk-connect-can-assume>\", \"plugins\": [ { \"customPlugin\": { \"customPluginArn\": \"<arn-of-msk-connect-plugin-that-contains-connector-code>\", \"revision\": 1 } } ], \"kafkaClusterEncryptionInTransit\": {\"encryptionType\": \"TLS\"}, \"kafkaClusterClientAuthentication\": {\"authenticationType\": \"IAM\"}, \"workerConfiguration\": { \"workerConfigurationArn\": \"<arn-of-config-provider-worker-configuration>\", \"revision\": 1 }\n}\n\nRun the following AWS CLI command in the folder where you saved the JSON file in the previous step.\naws kafkaconnect create-connector --cli-input-json file://connector-info.json\nThe following is an example of the output that you get when you run the command successfully.\n{ \"ConnectorArn\": \"arn:aws:kafkaconnect:us-east-1:123450006789:connector/example-Debezium-source-connector/abc12345-abcd-4444-a8b9-123456f513ed-2\", \"ConnectorState\": \"CREATING\", \"ConnectorName\": \"example-Debezium-source-connector\"\n}",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html#msk-connect-debeziumsource-connector-example-steps",
"main_header": "Creating a Debezium source connector",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#msk-cluster-states",
"text": "Cluster states"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-cluster-states.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-cluster-states.html#msk-cluster-states",
"main_header": "Cluster states",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-cluster-states",
"text": "Cluster states"
},
"links": [],
"text": "Cluster state\nMeaning and possible actions ACTIVE\n\nYou can produce and consume data. You can also perform Amazon MSK API and AWS CLI operations on the cluster. CREATING\n\nAmazon MSK is setting up the cluster. You must wait for the cluster to reach the ACTIVE state before you can use it to produce or consume data or to perform Amazon MSK API or AWS CLI operations on it. DELETING\nThe cluster is being deleted. You cannot use it to produce or consume data. You also cannot perform Amazon MSK API or AWS CLI operations on it. FAILED\nThe cluster creation or deletion process failed. You cannot use the cluster to produce or consume data. You can delete the cluster but cannot perform Amazon MSK API or AWS CLI update operations on it. HEALING\n\nAmazon MSK is running an internal operation, like replacing an unhealthy broker. For example, the broker might be unresponsive. You can still use the cluster to produce and consume data. However, you cannot perform Amazon MSK API or AWS CLI update operations on the cluster until it returns to the ACTIVE state. MAINTENANCE\n\nAmazon MSK is performing routine maintenance operations on the cluster. Such maintenance operations include security patching. You can still use the cluster to produce and consume data. However, you cannot perform Amazon MSK API or AWS CLI update operations on the cluster until it returns to the ACTIVE state. REBOOTING_BROKER\nAmazon MSK is rebooting a broker. You can still use the cluster to produce and consume data. However, you cannot perform Amazon MSK API or AWS CLI update operations on the cluster until it returns to the ACTIVE state. UPDATING\nA user-initiated Amazon MSK API or AWS CLI operation is updating the cluster. You can still use the cluster to produce and consume data. However, you cannot perform any additional Amazon MSK API or AWS CLI update operations on the cluster until it returns to the ACTIVE state.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-cluster-states.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-cluster-states.html#msk-cluster-states",
"main_header": "Cluster states",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-cluster-states",
"text": "Cluster states"
},
"links": [],
"text": "Cluster state\nMeaning and possible actions ACTIVE\n\nYou can produce and consume data. You can also perform Amazon MSK API and AWS CLI operations on the cluster. CREATING\n\nAmazon MSK is setting up the cluster. You must wait for the cluster to reach the ACTIVE state before you can use it to produce or consume data or to perform Amazon MSK API or AWS CLI operations on it. DELETING\nThe cluster is being deleted. You cannot use it to produce or consume data. You also cannot perform Amazon MSK API or AWS CLI operations on it. FAILED\nThe cluster creation or deletion process failed. You cannot use the cluster to produce or consume data. You can delete the cluster but cannot perform Amazon MSK API or AWS CLI update operations on it. HEALING\n\nAmazon MSK is running an internal operation, like replacing an unhealthy broker. For example, the broker might be unresponsive. You can still use the cluster to produce and consume data. However, you cannot perform Amazon MSK API or AWS CLI update operations on the cluster until it returns to the ACTIVE state. MAINTENANCE\n\nAmazon MSK is performing routine maintenance operations on the cluster. Such maintenance operations include security patching. You can still use the cluster to produce and consume data. However, you cannot perform Amazon MSK API or AWS CLI update operations on the cluster until it returns to the ACTIVE state. REBOOTING_BROKER\nAmazon MSK is rebooting a broker. You can still use the cluster to produce and consume data. However, you cannot perform Amazon MSK API or AWS CLI update operations on the cluster until it returns to the ACTIVE state. UPDATING\nA user-initiated Amazon MSK API or AWS CLI operation is updating the cluster. You can still use the cluster to produce and consume data. However, you cannot perform any additional Amazon MSK API or AWS CLI update operations on the cluster until it returns to the ACTIVE state.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-cluster-states.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-cluster-states.html#msk-cluster-states",
"main_header": "Cluster states",
"images": [],
"container_type": "div",
"children_tags": [
"table"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#security",
"text": "Security in Amazon Managed Streaming for Apache Kafka"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html#security",
"main_header": "Security in Amazon Managed Streaming for Apache Kafka",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#security",
"text": "Security in Amazon Managed Streaming for Apache Kafka"
},
"links": [
{
"url": "http://aws.amazon.com/compliance/programs/",
"title": "AWS Compliance Programs"
},
{
"url": "http://aws.amazon.com/compliance/services-in-scope/",
"title": "Amazon Web Services in Scope by Compliance Program"
}
],
"text": "Security of the cloud \u00e2\u0080\u0093 AWS is responsible for protecting the infrastructure that runs AWS services in the AWS Cloud. AWS also provides you with services that you can use securely. Third-party auditors regularly test and verify the effectiveness of our security as part of the AWS Compliance Programs. To learn about the compliance programs that apply to Amazon Managed Streaming for Apache Kafka, see Amazon Web Services in Scope by Compliance Program.\n\nSecurity in the cloud \u00e2\u0080\u0093 Your responsibility is determined by the AWS service that you use. You are also responsible for other factors including the sensitivity of your data, your company\u00e2\u0080\u0099s requirements, and applicable laws and regulations.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html#security",
"main_header": "Security in Amazon Managed Streaming for Apache Kafka",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#data-protection",
"text": "Data Protection in Amazon Managed Streaming for Apache Kafka"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html#data-protection",
"main_header": "Data Protection in Amazon Managed Streaming for Apache Kafka",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#data-protection",
"text": "Data Protection in Amazon Managed Streaming for Apache Kafka"
},
"links": [
{
"url": "http://aws.amazon.com/compliance/fips/",
"title": "Federal Information Processing Standard (FIPS) 140-2"
}
],
"text": "Use multi-factor authentication (MFA) with each account.\n\nUse SSL/TLS to communicate with AWS resources. We recommend TLS 1.2 or later.\n\nSet up API and user activity logging with AWS CloudTrail.\n\nUse AWS encryption solutions, along with all default security controls within AWS services.\n\nUse advanced managed security services such as Amazon Macie, which assists in discovering and securing personal data that is stored in Amazon S3.\n\nIf you require FIPS 140-2 validated cryptographic modules when accessing AWS through a command line interface or an API, use a FIPS endpoint. For more information about the available FIPS endpoints, see Federal Information Processing Standard (FIPS) 140-2.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html#data-protection",
"main_header": "Data Protection in Amazon Managed Streaming for Apache Kafka",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-encryption",
"text": "Amazon MSK Encryption"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-encryption.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-encryption.html#msk-encryption",
"main_header": "Amazon MSK Encryption",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html",
"title": "Data Protection in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-encryption",
"text": "Amazon MSK Encryption"
},
"h2": {
"urllink": "#msk-encryption-in-transit",
"text": "Encryption in Transit"
},
"links": [],
"text": "Only allow TLS encrypted data. This is the default setting.Allow both plaintext, as well as TLS encrypted data.Only allow plaintext data.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-encryption.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-encryption.html#msk-encryption-in-transit",
"main_header": "Encryption in Transit",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html",
"title": "Data Protection in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-working-with-encryption",
"text": "How Do I Get Started with Encryption?"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-working-with-encryption.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-working-with-encryption.html#msk-working-with-encryption",
"main_header": "How Do I Get Started with Encryption?",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html",
"title": "Data Protection in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-working-with-encryption",
"text": "How Do I Get Started with Encryption?"
},
"links": [],
"text": "To specify encryption settings when creating a clusterSave the contents of the previous example in a file and give the file any name that you want. For example, call it encryption-settings.json.\nRun the create-cluster command and use the encryption-info option to point to the file where you saved your configuration JSON. The following is an example.\naws kafka create-cluster --cluster-name \"ExampleClusterName\" --broker-node-group-info file://brokernodegroupinfo.json --encryption-info file://encryptioninfo.json --kafka-version \"2.2.1\" --number-of-broker-nodes 3\nThe following is an example of a successful response after running this command.\n{ \"ClusterArn\": \"arn:aws:kafka:us-east-1:123456789012:cluster/SecondTLSTest/abcdabcd-1234-abcd-1234-abcd123e8e8e\", \"ClusterName\": \"ExampleClusterName\", \"State\": \"CREATING\"\n}",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-working-with-encryption.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-working-with-encryption.html#msk-working-with-encryption",
"main_header": "How Do I Get Started with Encryption?",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html",
"title": "Data Protection in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-working-with-encryption",
"text": "How Do I Get Started with Encryption?"
},
"links": [],
"text": "To specify encryption settings when creating a cluster",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-working-with-encryption.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-working-with-encryption.html#msk-working-with-encryption",
"main_header": "How Do I Get Started with Encryption?",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html",
"title": "Data Protection in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-working-with-encryption",
"text": "How Do I Get Started with Encryption?"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-client-machine.html",
"title": "Step 2: Create a Client Machine"
}
],
"text": "To test TLS encryptionCreate a client machine following the guidance in Step 2: Create a Client Machine.\nInstall Apache Kafka on the client machine.\n\nRun the following command on a machine that has the AWS CLI installed, replacing clusterARN with the ARN of your cluster (a cluster created with ClientBroker set to TLS like the example in the previous procedure).\naws kafka describe-cluster --cluster-arn clusterARN\nIn the result, look for the value of ZookeeperConnectString and save it because you need it in the next step.\n\nGo to the bin folder of the Apache Kafka installation on the client machine. To create a topic, run the following command, replacing ZookeeperConnectString with the value you obtained for ZookeeperConnectString in the previous step.\nkafka-topics.sh --create --zookeeper ZookeeperConnectString --replication-factor 3 --partitions 1 --topic TLSTestTopic\n\nIn this example we use the JVM truststore to talk to the MSK cluster. To do this, first create a folder named /tmp on the client machine. Then, go to the bin folder of the Apache Kafka installation, and run the following command. (Your JVM path might be different.)\ncp /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.201.b09-0.amzn2.x86_64/jre/lib/security/cacerts /tmp/kafka.client.truststore.jks\n\nWhile still in the bin folder of the Apache Kafka installation on the client machine, create a text file named client.properties with the following contents.\nsecurity.protocol=SSL\nssl.truststore.location=/tmp/kafka.client.truststore.jks\n\nRun the following command on a machine that has the AWS CLI installed, replacing clusterARN with the ARN of your cluster.\naws kafka get-bootstrap-brokers --cluster-arn clusterARN\nA successful result looks like the following. Save this result because you need it for the next step.\n{ \"BootstrapBrokerStringTls\": \"a-1.example.g7oein.c2.kafka.us-east-1.amazonaws.com:0123,a-3.example.g7oein.c2.kafka.us-east-1.amazonaws.com:0123,a-2.example.g7oein.c2.kafka.us-east-1.amazonaws.com:0123\"\n}\n\nIn the bin folder of the Apache Kafka installation on the client machine, run the following, replacing BootstrapBrokerStringTls with the value you obtained in the previous step. Leave this producer command running.\nkafka-console-producer.sh --broker-list BootstrapBrokerStringTls --producer.config client.properties --topic TLSTestTopic\n\nOpen a new command window on the same client machine, go to the bin folder of the Apache Kafka installation, and run the following command to create a consumer.\nkafka-console-consumer.sh --bootstrap-server BootstrapBrokerStringTls --consumer.config client.properties --topic TLSTestTopic\n\nIn the producer window, type a text message followed by a return, and look for the same message in the consumer window. Amazon MSK encrypted this message in transit.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-working-with-encryption.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-working-with-encryption.html#msk-working-with-encryption",
"main_header": "How Do I Get Started with Encryption?",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html",
"title": "Data Protection in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-working-with-encryption",
"text": "How Do I Get Started with Encryption?"
},
"links": [],
"text": "To test TLS encryption",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-working-with-encryption.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-working-with-encryption.html#msk-working-with-encryption",
"main_header": "How Do I Get Started with Encryption?",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html",
"title": "Data Protection in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#security-iam",
"text": "Authentication and Authorization for Amazon MSK APIs"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html#security-iam",
"main_header": "Authentication and Authorization for Amazon MSK APIs",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam",
"main_header": "How Amazon MSK Works with IAM",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies",
"title": "Amazon MSK Identity-Based Policies"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-resource-based-policies",
"title": "Amazon MSK Resource-Based Policies"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-managed-policies",
"title": "AWS Managed Policies"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-tags",
"title": "Authorization Based on Amazon MSK Tags"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-roles",
"title": "Amazon MSK IAM Roles"
}
],
"text": "TopicsAmazon MSK Identity-Based PoliciesAmazon MSK Resource-Based PoliciesAWS Managed PoliciesAuthorization Based on Amazon MSK TagsAmazon MSK IAM Roles",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam",
"main_header": "How Amazon MSK Works with IAM",
"images": [],
"container_type": "div",
"children_tags": [
"p",
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"links": [],
"text": "Topics",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam",
"main_header": "How Amazon MSK Works with IAM",
"images": [],
"container_type": "p",
"children_tags": [
"strong"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_id-based-policy-examples",
"text": "Amazon MSK Identity-Based Policy Examples"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html#security_iam_id-based-policy-examples",
"main_header": "Amazon MSK Identity-Based Policy Examples",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_id-based-policy-examples",
"text": "Amazon MSK Identity-Based Policy Examples"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html#security_iam_service-with-iam-policy-best-practices",
"title": "Policy Best Practices"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html#security_iam_id-based-policy-examples-view-own-permissions",
"title": "Allow Users to View Their Own Permissions"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html#security_iam_id-based-policy-examples-access-one-cluster",
"title": "Accessing One Amazon MSK Cluster"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html#security_iam_id-based-policy-examples-view-widget-tags",
"title": "Accessing Amazon MSK Clusters Based on Tags"
}
],
"text": "TopicsPolicy Best PracticesAllow Users to View Their Own PermissionsAccessing One Amazon MSK ClusterAccessing Amazon MSK Clusters Based on Tags",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html#security_iam_id-based-policy-examples",
"main_header": "Amazon MSK Identity-Based Policy Examples",
"images": [],
"container_type": "div",
"children_tags": [
"p",
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_id-based-policy-examples",
"text": "Amazon MSK Identity-Based Policy Examples"
},
"links": [],
"text": "Topics",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html#security_iam_id-based-policy-examples",
"main_header": "Amazon MSK Identity-Based Policy Examples",
"images": [],
"container_type": "p",
"children_tags": [
"strong"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_id-based-policy-examples",
"text": "Amazon MSK Identity-Based Policy Examples"
},
"h2": {
"urllink": "#security_iam_service-with-iam-policy-best-practices",
"text": "Policy Best Practices"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html#bp-use-aws-defined-policies",
"title": "Get started using permissions with AWS managed policies"
},
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html#grant-least-privilege",
"title": "Grant least privilege"
},
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa.html",
"title": "Using multi-factor authentication (MFA) in AWS"
},
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_condition.html",
"title": "IAM JSON policy elements: Condition"
}
],
"text": "Get started using AWS managed policies \u00e2\u0080\u0093 To start using Amazon MSK quickly, use AWS managed policies to give your employees the permissions they need. These policies are already available in your account and are maintained and updated by AWS. For more information, see Get started using permissions with AWS managed policies in the IAM User Guide.\n\nGrant least privilege \u00e2\u0080\u0093 When you create custom policies, grant only the permissions required to perform a task. Start with a minimum set of permissions and grant additional permissions as necessary. Doing so is more secure than starting with permissions that are too lenient and then trying to tighten them later. For more information, see Grant least privilege in the IAM User Guide.\n\nEnable MFA for sensitive operations \u00e2\u0080\u0093 For extra security, require IAM users to use multi-factor authentication (MFA) to access sensitive resources or API operations. For more information, see Using multi-factor authentication (MFA) in AWS in the IAM User Guide.\n\nUse policy conditions for extra security \u00e2\u0080\u0093 To the extent that it's practical, define the conditions under which your identity-based policies allow access to a resource. For example, you can write conditions to specify a range of allowable IP addresses that a request must come from. You can also write conditions to allow requests only within a specified date or time range, or to require the use of SSL or MFA. For more information, see IAM JSON policy elements: Condition in the IAM User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html#security_iam_service-with-iam-policy-best-practices",
"main_header": "Policy Best Practices",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#using-service-linked-roles",
"text": "Using Service-Linked Roles for Amazon MSK"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html#using-service-linked-roles",
"main_header": "Using Service-Linked Roles for Amazon MSK",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#using-service-linked-roles",
"text": "Using Service-Linked Roles for Amazon MSK"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html#slr-permissions",
"title": "Service-Linked Role Permissions"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html#create-slr",
"title": "Creating a Service-Linked Role"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html#edit-slr",
"title": "Editing a Service-Linked Role"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html#slr-regions",
"title": "Supported Regions for Service-Linked Roles"
}
],
"text": "TopicsService-Linked Role PermissionsCreating a Service-Linked RoleEditing a Service-Linked RoleSupported Regions for Service-Linked Roles",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html#using-service-linked-roles",
"main_header": "Using Service-Linked Roles for Amazon MSK",
"images": [],
"container_type": "div",
"children_tags": [
"p",
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#using-service-linked-roles",
"text": "Using Service-Linked Roles for Amazon MSK"
},
"links": [],
"text": "Topics",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html#using-service-linked-roles",
"main_header": "Using Service-Linked Roles for Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [
"strong"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#using-service-linked-roles",
"text": "Using Service-Linked Roles for Amazon MSK"
},
"h2": {
"urllink": "#slr-permissions",
"text": "Service-Linked Role Permissions for Amazon MSK"
},
"links": [],
"text": "kafka.amazonaws.com",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html#slr-permissions",
"main_header": "Service-Linked Role Permissions for Amazon MSK",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#using-service-linked-roles",
"text": "Using Service-Linked Roles for Amazon MSK"
},
"h2": {
"urllink": "#slr-permissions",
"text": "Service-Linked Role Permissions for Amazon MSK"
},
"links": [],
"text": "Action: ec2:CreateNetworkInterface on *\nAction: ec2:DescribeNetworkInterfaces on *\nAction: ec2:CreateNetworkInterfacePermission on *\nAction: ec2:AttachNetworkInterface on *\nAction: ec2:DeleteNetworkInterface on *\nAction: ec2:DetachNetworkInterface on *",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html#slr-permissions",
"main_header": "Service-Linked Role Permissions for Amazon MSK",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security-iam-awsmanpol",
"text": "AWS managed policies for Amazon MSK"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html#security-iam-awsmanpol",
"main_header": "AWS managed policies for Amazon MSK",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security-iam-awsmanpol",
"text": "AWS managed policies for Amazon MSK"
},
"h2": {
"urllink": "#security-iam-awsmanpol-AmazonMSKFullAccess",
"text": "AWS managed policy: AmazonMSKFullAccess"
},
"links": [],
"text": "The Amazon MSK permissions allow all Amazon MSK actions.\n\nSome of the Amazon EC2 permissions in this policy are required to validate the passed resources in an API request. This is to make sure Amazon MSK is able to successfully use the resources with a cluster. The rest of the Amazon EC2 permissions in this policy allow Amazon MSK to create AWS resources that are needed to make it possible for you to connect to your clusters.\n\nThe AWS KMS permissions are used during API calls to validate the passed resources in a request. They are required for Amazon MSK to be able to use the passed key with the Amazon MSK cluster.\n\nThe CloudWatch Logs, Amazon S3, and Amazon Kinesis Data Firehose permissions are required for Amazon MSK to be able to ensure that the log delivery destinations are reachable, and that they are valid for broker log use.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html#security-iam-awsmanpol-AmazonMSKFullAccess",
"main_header": "AWS managed policy: AmazonMSKFullAccess",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security-iam-awsmanpol",
"text": "AWS managed policies for Amazon MSK"
},
"h2": {
"urllink": "#security-iam-awsmanpol-AmazonMSKReadOnlyAccess",
"text": "AWS managed policy: AmazonMSKReadOnlyAccess"
},
"links": [],
"text": "The Amazon MSK permissions allow you to list Amazon MSK resources, describe them, and get information about them.\n\nThe Amazon EC2 permissions are used to describe the Amazon VPC, subnets, security groups, and ENIs that are associated with a cluster.\n\nThe AWS KMS permission is used to describe the key that is associated with the cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html#security-iam-awsmanpol-AmazonMSKReadOnlyAccess",
"main_header": "AWS managed policy: AmazonMSKReadOnlyAccess",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security-iam-awsmanpol",
"text": "AWS managed policies for Amazon MSK"
},
"h2": {
"urllink": "#security-iam-awsmanpol-updates",
"text": "Amazon MSK updates to AWS managed policies"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html#security-iam-awsmanpol-AmazonMSKFullAccess",
"title": "AmazonMSKFullAccess"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html#security-iam-awsmanpol-AmazonMSKFullAccess",
"title": "AmazonMSKFullAccess"
}
],
"text": "Change\nDescription\nDate AmazonMSKFullAccess \u00e2\u0080\u0093 Update to an existing policy Amazon MSK added new Amazon EC2 permissions to make it possible to connect to a cluster.\n\nNovember 30, 2021 AmazonMSKFullAccess \u00e2\u0080\u0093 Update to an existing policy Amazon MSK added a new permission to allow it to describe Amazon EC2 route tables.\n\nNovember 19, 2021 Amazon MSK started tracking changes Amazon MSK started tracking changes for its AWS managed policies.\n\nNovember 19, 2021",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html#security-iam-awsmanpol-updates",
"main_header": "Amazon MSK updates to AWS managed policies",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security-iam-awsmanpol",
"text": "AWS managed policies for Amazon MSK"
},
"h2": {
"urllink": "#security-iam-awsmanpol-updates",
"text": "Amazon MSK updates to AWS managed policies"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html#security-iam-awsmanpol-AmazonMSKFullAccess",
"title": "AmazonMSKFullAccess"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html#security-iam-awsmanpol-AmazonMSKFullAccess",
"title": "AmazonMSKFullAccess"
}
],
"text": "Change\nDescription\nDate AmazonMSKFullAccess \u00e2\u0080\u0093 Update to an existing policy Amazon MSK added new Amazon EC2 permissions to make it possible to connect to a cluster.\n\nNovember 30, 2021 AmazonMSKFullAccess \u00e2\u0080\u0093 Update to an existing policy Amazon MSK added a new permission to allow it to describe Amazon EC2 route tables.\n\nNovember 19, 2021 Amazon MSK started tracking changes Amazon MSK started tracking changes for its AWS managed policies.\n\nNovember 19, 2021",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html#security-iam-awsmanpol-updates",
"main_header": "Amazon MSK updates to AWS managed policies",
"images": [],
"container_type": "div",
"children_tags": [
"table"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_troubleshoot",
"text": "Troubleshooting Amazon MSK Identity and Access"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_troubleshoot.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_troubleshoot.html#security_iam_troubleshoot",
"main_header": "Troubleshooting Amazon MSK Identity and Access",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_troubleshoot",
"text": "Troubleshooting Amazon MSK Identity and Access"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_troubleshoot.html#security_iam_troubleshoot-no-permissions",
"title": "I Am Not Authorized to Perform an Action in Amazon MSK"
}
],
"text": "TopicsI Am Not Authorized to Perform an Action in Amazon MSK",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_troubleshoot.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_troubleshoot.html#security_iam_troubleshoot",
"main_header": "Troubleshooting Amazon MSK Identity and Access",
"images": [],
"container_type": "div",
"children_tags": [
"p",
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_troubleshoot",
"text": "Troubleshooting Amazon MSK Identity and Access"
},
"links": [],
"text": "Topics",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_troubleshoot.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_troubleshoot.html#security_iam_troubleshoot",
"main_header": "Troubleshooting Amazon MSK Identity and Access",
"images": [],
"container_type": "p",
"children_tags": [
"strong"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#kafka_apis_iam",
"text": "Authentication and Authorization for Apache Kafka APIs"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html#kafka_apis_iam",
"main_header": "Authentication and Authorization for Apache Kafka APIs",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#iam-access-control",
"main_header": "IAM access control",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html",
"title": "Controlling Access to Apache ZooKeeper"
}
],
"text": "ImportantIAM access control doesn't apply to Apache ZooKeeper nodes. For information about how you can control access to those nodes, see Controlling Access to Apache ZooKeeper.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#iam-access-control",
"main_header": "IAM access control",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"links": [],
"text": "Important",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#iam-access-control",
"main_header": "IAM access control",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html",
"title": "Controlling Access to Apache ZooKeeper"
}
],
"text": "IAM access control doesn't apply to Apache ZooKeeper nodes. For information about how you can control access to those nodes, see Controlling Access to Apache ZooKeeper.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#iam-access-control",
"main_header": "IAM access control",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html",
"title": "Controlling Access to Apache ZooKeeper"
}
],
"text": "IAM access control doesn't apply to Apache ZooKeeper nodes. For information about how you can control access to those nodes, see Controlling Access to Apache ZooKeeper.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#iam-access-control",
"main_header": "IAM access control",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"links": [],
"text": "ImportantThe allow.everyone.if.no.acl.found Apache Kafka setting has no effect if your cluster uses IAM  access control.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#iam-access-control",
"main_header": "IAM access control",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"links": [],
"text": "Important",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#iam-access-control",
"main_header": "IAM access control",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"links": [],
"text": "The allow.everyone.if.no.acl.found Apache Kafka setting has no effect if your cluster uses IAM  access control.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#iam-access-control",
"main_header": "IAM access control",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"links": [],
"text": "The allow.everyone.if.no.acl.found Apache Kafka setting has no effect if your cluster uses IAM  access control.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#iam-access-control",
"main_header": "IAM access control",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"links": [],
"text": "ImportantYou can invoke Apache Kafka ACL APIs for an MSK cluster that uses IAM access control. However, Apache Kafka ACLs stored in Apache ZooKeeper have no effect on authorization for IAM roles. You must use IAM policies to control access for IAM roles.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#iam-access-control",
"main_header": "IAM access control",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"links": [],
"text": "Important",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#iam-access-control",
"main_header": "IAM access control",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"links": [],
"text": "You can invoke Apache Kafka ACL APIs for an MSK cluster that uses IAM access control. However, Apache Kafka ACLs stored in Apache ZooKeeper have no effect on authorization for IAM roles. You must use IAM policies to control access for IAM roles.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#iam-access-control",
"main_header": "IAM access control",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"links": [],
"text": "You can invoke Apache Kafka ACL APIs for an MSK cluster that uses IAM access control. However, Apache Kafka ACLs stored in Apache ZooKeeper have no effect on authorization for IAM roles. You must use IAM policies to control access for IAM roles.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#iam-access-control",
"main_header": "IAM access control",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#how-to-use-iam-access-control",
"text": "How IAM access control for Amazon MSK works"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#create-iam-access-control-cluster-in-console",
"title": "Create a cluster that uses IAM access control"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#configure-clients-for-iam-access-control",
"title": "Configure clients for IAM access control"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#create-iam-access-control-policies",
"title": "Create authorization policies"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#get-bootstrap-brokers-for-iam",
"title": "Get the bootstrap brokers for IAM access control"
}
],
"text": "Create a cluster that uses IAM access control\nConfigure clients for IAM access controlCreate authorization policiesGet the bootstrap brokers for IAM access control",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#how-to-use-iam-access-control",
"main_header": "How IAM access control for Amazon MSK works",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#how-to-use-iam-access-control",
"text": "How IAM access control for Amazon MSK works"
},
"h3": {
"urllink": "#create-iam-access-control-cluster-in-console",
"text": "Create a cluster that uses IAM access control"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/",
"title": "https://console.aws.amazon.com/msk/"
}
],
"text": "Use the AWS Management Console to create a cluster that uses IAM access controlOpen the Amazon MSK console at https://console.aws.amazon.com/msk/.\nChoose Create cluster.\n\nChoose Create cluster with custom settings.\n\nIn the Authentication section, choose IAM access control.\n\nComplete the rest of the workflow for creating a cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#create-iam-access-control-cluster-in-console",
"main_header": "Create a cluster that uses IAM access control",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#how-to-use-iam-access-control",
"text": "How IAM access control for Amazon MSK works"
},
"h3": {
"urllink": "#create-iam-access-control-cluster-in-console",
"text": "Create a cluster that uses IAM access control"
},
"links": [],
"text": "Use the AWS Management Console to create a cluster that uses IAM access control",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#create-iam-access-control-cluster-in-console",
"main_header": "Create a cluster that uses IAM access control",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#how-to-use-iam-access-control",
"text": "How IAM access control for Amazon MSK works"
},
"h3": {
"urllink": "#create-iam-access-control-cluster-in-console",
"text": "Create a cluster that uses IAM access control"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/clusters.html#CreateCluster",
"title": "CreateCluster"
},
{
"url": "https://awscli.amazonaws.com/v2/documentation/api/latest/reference/kafka/create-cluster.html",
"title": "create-cluster"
}
],
"text": "Use the API or the AWS CLI to create a cluster that uses IAM access controlTo create a cluster with IAM access control enabled, use the CreateCluster API or the create-cluster CLI command, and pass the following JSON for the ClientAuthentication parameter: \"ClientAuthentication\": { \"Sasl\": { \"Iam\": { \"Enabled\": true } }.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#create-iam-access-control-cluster-in-console",
"main_header": "Create a cluster that uses IAM access control",
"images": [],
"container_type": "div",
"children_tags": [
"p",
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#how-to-use-iam-access-control",
"text": "How IAM access control for Amazon MSK works"
},
"h3": {
"urllink": "#create-iam-access-control-cluster-in-console",
"text": "Create a cluster that uses IAM access control"
},
"links": [],
"text": "Use the API or the AWS CLI to create a cluster that uses IAM access control",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#create-iam-access-control-cluster-in-console",
"main_header": "Create a cluster that uses IAM access control",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#how-to-use-iam-access-control",
"text": "How IAM access control for Amazon MSK works"
},
"h3": {
"urllink": "#configure-clients-for-iam-access-control",
"text": "Configure clients for IAM access control"
},
"links": [
{
"url": "https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-profiles.html",
"title": "Named profiles"
},
{
"url": "https://github.com/aws/aws-msk-iam-auth/releases",
"title": "aws-msk-iam-auth"
}
],
"text": "Add the following to the client.properties file. Replace <PATH_TO_TRUST_STORE_FILE> with the fully-qualified path to the trust store file on the client.\nssl.truststore.location=<PATH_TO_TRUST_STORE_FILE>\nsecurity.protocol=SASL_SSL\nsasl.mechanism=AWS_MSK_IAM\nsasl.jaas.config=software.amazon.msk.auth.iam.IAMLoginModule required;\nsasl.client.callback.handler.class=software.amazon.msk.auth.iam.IAMClientCallbackHandler\nTo use a named profile that you created for AWS credentials, include awsProfileName=\u00e2\u0080\u009cyour profile name\u00e2\u0080\u009d; in your client configuration file. For information about named profiles, see Named profiles in the AWS CLI documentation.\nDownload the latest stable aws-msk-iam-auth JAR file, and place it in the class path. If you use Maven, add the following dependency, adjusting the version number as needed:\n<dependency> <groupId>software.amazon.msk</groupId> <artifactId>aws-msk-iam-auth</artifactId> <version>1.0.0</version>\n</dependency>",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#configure-clients-for-iam-access-control",
"main_header": "Configure clients for IAM access control",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#how-to-use-iam-access-control",
"text": "How IAM access control for Amazon MSK works"
},
"h3": {
"urllink": "#create-iam-access-control-policies",
"text": "Create authorization policies"
},
"links": [],
"text": "ImportantChanges that you make to an IAM policy are reflected in the IAM APIs and the AWS CLI immediately. However, it can take noticeable time for the policy change to take effect. In most cases, policy changes take effect in less than a minute. Network conditions may sometimes increase the delay.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#create-iam-access-control-policies",
"main_header": "Create authorization policies",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#how-to-use-iam-access-control",
"text": "How IAM access control for Amazon MSK works"
},
"h3": {
"urllink": "#create-iam-access-control-policies",
"text": "Create authorization policies"
},
"links": [],
"text": "Important",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#create-iam-access-control-policies",
"main_header": "Create authorization policies",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#how-to-use-iam-access-control",
"text": "How IAM access control for Amazon MSK works"
},
"h3": {
"urllink": "#create-iam-access-control-policies",
"text": "Create authorization policies"
},
"links": [],
"text": "Changes that you make to an IAM policy are reflected in the IAM APIs and the AWS CLI immediately. However, it can take noticeable time for the policy change to take effect. In most cases, policy changes take effect in less than a minute. Network conditions may sometimes increase the delay.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#create-iam-access-control-policies",
"main_header": "Create authorization policies",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#how-to-use-iam-access-control",
"text": "How IAM access control for Amazon MSK works"
},
"h3": {
"urllink": "#create-iam-access-control-policies",
"text": "Create authorization policies"
},
"links": [],
"text": "Changes that you make to an IAM policy are reflected in the IAM APIs and the AWS CLI immediately. However, it can take noticeable time for the policy change to take effect. In most cases, policy changes take effect in less than a minute. Network conditions may sometimes increase the delay.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#create-iam-access-control-policies",
"main_header": "Create authorization policies",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#kafka-actions",
"text": "Semantics of actions and resources"
},
"h3": {
"urllink": "#actions",
"text": "Actions"
},
"links": [],
"text": "Action\nDescription\nRequired actions\nRequired resources\nApplicable to serverless clusters kafka-cluster:Connect\nGrants permission to connect and authenticate to the cluster.\nNone\ncluster\nYes kafka-cluster:DescribeCluster\nGrants permission to describe various aspects of the cluster, equivalent to Apache Kafka's DESCRIBE CLUSTER ACL.\n\nkafka-cluster:Connect\n\ncluster\nYes kafka-cluster:AlterCluster\nGrants permission to alter various aspects of the cluster, equivalent to Apache Kafka's ALTER CLUSTER ACL.\n\nkafka-cluster:Connect\nkafka-cluster:DescribeCluster\n\ncluster\nNo kafka-cluster:DescribeClusterDynamicConfiguration\nGrants permission to describe the dynamic configuration of a cluster, equivalent to Apache Kafka's DESCRIBE_CONFIGS CLUSTER ACL.\n\nkafka-cluster:Connect\n\ncluster\nNo kafka-cluster:AlterClusterDynamicConfiguration\nGrants permission to alter the dynamic configuration of a cluster, equivalent to Apache Kafka's ALTER_CONFIGS CLUSTER ACL.\n\nkafka-cluster:Connect\nkafka-cluster:DescribeClusterDynamicConfiguration\n\ncluster\nNo kafka-cluster:WriteDataIdempotently\nGrants permission to write data idempotently on a cluster, equivalent to Apache Kafka's IDEMPOTENT_WRITE CLUSTER ACL.\n\nkafka-cluster:Connect\nkafka-cluster:WriteData\n\ncluster\nYes kafka-cluster:CreateTopic\nGrants permission to create topics on a cluster, equivalent to Apache Kafka's CREATE CLUSTER/TOPIC ACL.\n\nkafka-cluster:Connect\n\ntopic\nYes kafka-cluster:DescribeTopic\nGrants permission to describe topics on a cluster, equivalent to Apache Kafka's DESCRIBE TOPIC ACL.\n\nkafka-cluster:Connect\n\ntopic\nYes kafka-cluster:AlterTopic\nGrants permission to alter topics on a cluster, equivalent to Apache Kafka's ALTER TOPIC ACL.\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTopic\n\ntopic\nYes kafka-cluster:DeleteTopic\nGrants permission to delete topics on a cluster, equivalent to Apache Kafka's DELETE TOPIC ACL.\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTopic\n\ntopic\nYes kafka-cluster:DescribeTopicDynamicConfiguration\nGrants permission to describe the dynamic configuration of topics on a cluster, equivalent to Apache Kafka's DESCRIBE_CONFIGS TOPIC ACL.\n\nkafka-cluster:Connect\n\ntopic\nYes kafka-cluster:AlterTopicDynamicConfiguration\nGrants permission to alter the dynamic configuration of topics on a cluster, equivalent to Apache Kafka's ALTER_CONFIGS TOPIC ACL.\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTopicDynamicConfiguration\n\ntopic\nYes kafka-cluster:ReadData\nGrants permission to read data from topics on a cluster, equivalent to Apache Kafka's READ TOPIC ACL.\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTopic\nkafka-cluster:AlterGroup\n\ntopic\nYes kafka-cluster:WriteData\nGrants permission to write data to topics on a cluster, equivalent to Apache Kafka's WRITE TOPIC ACL\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTopic\n\ntopic\nYes kafka-cluster:DescribeGroup\nGrants permission to describe groups on a cluster, equivalent to Apache Kafka's DESCRIBE GROUP ACL.\n\nkafka-cluster:Connect\n\ngroup\nYes kafka-cluster:AlterGroup\nGrants permission to join groups on a cluster, equivalent to Apache Kafka's READ GROUP ACL.\n\nkafka-cluster:Connect\nkafka-cluster:DescribeGroup\n\ngroup\nYes kafka-cluster:DeleteGroup\nGrants permission to delete groups on a cluster, equivalent to Apache Kafka's DELETE GROUP ACL.\n\nkafka-cluster:Connect\nkafka-cluster:DescribeGroup\n\ngroup\nYes kafka-cluster:DescribeTransactionalId\nGrants permission to describe transactional IDs on a cluster, equivalent to Apache Kafka's DESCRIBE TRANSACTIONAL_ID ACL.\n\nkafka-cluster:Connect\n\ntransactional-id\nYes kafka-cluster:AlterTransactionalId\nGrants permission to alter transactional IDs on a cluster, equivalent to Apache Kafka's WRITE TRANSACTIONAL_ID ACL.\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTransactionalId\nkafka-cluster:WriteData\n\ntransactional-id\nYes",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#actions",
"main_header": "Actions",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#kafka-actions",
"text": "Semantics of actions and resources"
},
"h3": {
"urllink": "#actions",
"text": "Actions"
},
"links": [],
"text": "Action\nDescription\nRequired actions\nRequired resources\nApplicable to serverless clusters kafka-cluster:Connect\nGrants permission to connect and authenticate to the cluster.\nNone\ncluster\nYes kafka-cluster:DescribeCluster\nGrants permission to describe various aspects of the cluster, equivalent to Apache Kafka's DESCRIBE CLUSTER ACL.\n\nkafka-cluster:Connect\n\ncluster\nYes kafka-cluster:AlterCluster\nGrants permission to alter various aspects of the cluster, equivalent to Apache Kafka's ALTER CLUSTER ACL.\n\nkafka-cluster:Connect\nkafka-cluster:DescribeCluster\n\ncluster\nNo kafka-cluster:DescribeClusterDynamicConfiguration\nGrants permission to describe the dynamic configuration of a cluster, equivalent to Apache Kafka's DESCRIBE_CONFIGS CLUSTER ACL.\n\nkafka-cluster:Connect\n\ncluster\nNo kafka-cluster:AlterClusterDynamicConfiguration\nGrants permission to alter the dynamic configuration of a cluster, equivalent to Apache Kafka's ALTER_CONFIGS CLUSTER ACL.\n\nkafka-cluster:Connect\nkafka-cluster:DescribeClusterDynamicConfiguration\n\ncluster\nNo kafka-cluster:WriteDataIdempotently\nGrants permission to write data idempotently on a cluster, equivalent to Apache Kafka's IDEMPOTENT_WRITE CLUSTER ACL.\n\nkafka-cluster:Connect\nkafka-cluster:WriteData\n\ncluster\nYes kafka-cluster:CreateTopic\nGrants permission to create topics on a cluster, equivalent to Apache Kafka's CREATE CLUSTER/TOPIC ACL.\n\nkafka-cluster:Connect\n\ntopic\nYes kafka-cluster:DescribeTopic\nGrants permission to describe topics on a cluster, equivalent to Apache Kafka's DESCRIBE TOPIC ACL.\n\nkafka-cluster:Connect\n\ntopic\nYes kafka-cluster:AlterTopic\nGrants permission to alter topics on a cluster, equivalent to Apache Kafka's ALTER TOPIC ACL.\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTopic\n\ntopic\nYes kafka-cluster:DeleteTopic\nGrants permission to delete topics on a cluster, equivalent to Apache Kafka's DELETE TOPIC ACL.\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTopic\n\ntopic\nYes kafka-cluster:DescribeTopicDynamicConfiguration\nGrants permission to describe the dynamic configuration of topics on a cluster, equivalent to Apache Kafka's DESCRIBE_CONFIGS TOPIC ACL.\n\nkafka-cluster:Connect\n\ntopic\nYes kafka-cluster:AlterTopicDynamicConfiguration\nGrants permission to alter the dynamic configuration of topics on a cluster, equivalent to Apache Kafka's ALTER_CONFIGS TOPIC ACL.\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTopicDynamicConfiguration\n\ntopic\nYes kafka-cluster:ReadData\nGrants permission to read data from topics on a cluster, equivalent to Apache Kafka's READ TOPIC ACL.\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTopic\nkafka-cluster:AlterGroup\n\ntopic\nYes kafka-cluster:WriteData\nGrants permission to write data to topics on a cluster, equivalent to Apache Kafka's WRITE TOPIC ACL\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTopic\n\ntopic\nYes kafka-cluster:DescribeGroup\nGrants permission to describe groups on a cluster, equivalent to Apache Kafka's DESCRIBE GROUP ACL.\n\nkafka-cluster:Connect\n\ngroup\nYes kafka-cluster:AlterGroup\nGrants permission to join groups on a cluster, equivalent to Apache Kafka's READ GROUP ACL.\n\nkafka-cluster:Connect\nkafka-cluster:DescribeGroup\n\ngroup\nYes kafka-cluster:DeleteGroup\nGrants permission to delete groups on a cluster, equivalent to Apache Kafka's DELETE GROUP ACL.\n\nkafka-cluster:Connect\nkafka-cluster:DescribeGroup\n\ngroup\nYes kafka-cluster:DescribeTransactionalId\nGrants permission to describe transactional IDs on a cluster, equivalent to Apache Kafka's DESCRIBE TRANSACTIONAL_ID ACL.\n\nkafka-cluster:Connect\n\ntransactional-id\nYes kafka-cluster:AlterTransactionalId\nGrants permission to alter transactional IDs on a cluster, equivalent to Apache Kafka's WRITE TRANSACTIONAL_ID ACL.\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTransactionalId\nkafka-cluster:WriteData\n\ntransactional-id\nYes",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#actions",
"main_header": "Actions",
"images": [],
"container_type": "div",
"children_tags": [
"table"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#kafka-actions",
"text": "Semantics of actions and resources"
},
"h3": {
"urllink": "#actions",
"text": "Actions"
},
"links": [],
"text": "kafka-cluster:*Topic stands for kafka-cluster:CreateTopic, kafka-cluster:DescribeTopic, kafka-cluster:AlterTopic, and kafka-cluster:DeleteTopic. It doesn't include kafka-cluster:DescribeTopicDynamicConfiguration or kafka-cluster:AlterTopicDynamicConfiguration.\nkafka-cluster:* stands for all permissions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#actions",
"main_header": "Actions",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#kafka-actions",
"text": "Semantics of actions and resources"
},
"h3": {
"urllink": "#msk-iam-resources",
"text": "Resources"
},
"links": [],
"text": "Resource\nARN format Cluster\narn:aws:kafka:region:account-id:cluster/cluster-name/cluster-uuid Topic\narn:aws:kafka:region:account-id:topic/cluster-name/cluster-uuid/topic-name Group\narn:aws:kafka:region:account-id:group/cluster-name/cluster-uuid/group-name Transaction ID\narn:aws:kafka:region:account-id:transactional-id/cluster-name/cluster-uuid/transactional-id",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#msk-iam-resources",
"main_header": "Resources",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#kafka-actions",
"text": "Semantics of actions and resources"
},
"h3": {
"urllink": "#msk-iam-resources",
"text": "Resources"
},
"links": [],
"text": "Resource\nARN format Cluster\narn:aws:kafka:region:account-id:cluster/cluster-name/cluster-uuid Topic\narn:aws:kafka:region:account-id:topic/cluster-name/cluster-uuid/topic-name Group\narn:aws:kafka:region:account-id:group/cluster-name/cluster-uuid/group-name Transaction ID\narn:aws:kafka:region:account-id:transactional-id/cluster-name/cluster-uuid/transactional-id",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#msk-iam-resources",
"main_header": "Resources",
"images": [],
"container_type": "div",
"children_tags": [
"table"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#kafka-actions",
"text": "Semantics of actions and resources"
},
"h3": {
"urllink": "#msk-iam-resources",
"text": "Resources"
},
"links": [],
"text": "arn:aws:kafka:us-east-1:0123456789012:topic/MyTestCluster/*: all the topics in any cluster named MyTestCluster, regardless of the cluster's UUID.\n\narn:aws:kafka:us-east-1:0123456789012:topic/MyTestCluster/abcd1234-0123-abcd-5678-1234abcd-1/*_test: all topics whose name ends with \"_test\" in the cluster whose name is MyTestCluster and whose UUID is abcd1234-0123-abcd-5678-1234abcd-1.\narn:aws:kafka:us-east-1:0123456789012:transactional-id/MyTestCluster/*/5555abcd-1111-abcd-1234-abcd1234-1: all transactions whose transactional ID is 5555abcd-1111-abcd-1234-abcd1234-1, across all incarnations of a cluster named MyTestCluster in your account. This means that if you create a cluster named MyTestCluster, then delete it, and then create another cluster by the same name, you can use this resource ARN to represent the same transactions ID on both clusters. However, the deleted cluster isn't accessible.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#msk-iam-resources",
"main_header": "Resources",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#iam-access-control-use-cases",
"text": "Common use cases"
},
"links": [],
"text": "NoteActions are denied by default. You must explicitly allow every action that you want to authorize the client to perform.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#iam-access-control-use-cases",
"main_header": "Common use cases",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#iam-access-control-use-cases",
"text": "Common use cases"
},
"links": [],
"text": "Note",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#iam-access-control-use-cases",
"main_header": "Common use cases",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#iam-access-control-use-cases",
"text": "Common use cases"
},
"links": [],
"text": "Actions are denied by default. You must explicitly allow every action that you want to authorize the client to perform.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#iam-access-control-use-cases",
"main_header": "Common use cases",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#iam-access-control-use-cases",
"text": "Common use cases"
},
"links": [],
"text": "Actions are denied by default. You must explicitly allow every action that you want to authorize the client to perform.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#iam-access-control-use-cases",
"main_header": "Common use cases",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#iam-access-control-use-cases",
"text": "Common use cases"
},
"links": [],
"text": "Use case\nRequired actions Admin\n\nkafka-cluster:* Create a topic\n\nkafka-cluster:Connect\nkafka-cluster:CreateTopic Produce data\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTopic\nkafka-cluster:WriteData Consume data\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTopic\nkafka-cluster:DescribeGroup\nkafka-cluster:AlterGroup\nkafka-cluster:ReadData Produce data idempotently\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTopic\nkafka-cluster:WriteData\nkafka-cluster:WriteDataIdempotently Produce data transactionally\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTopic\nkafka-cluster:WriteData\nkafka-cluster:DescribeTransactionalId\nkafka-cluster:AlterTransactionalId Describe the configuration of a cluster\n\nkafka-cluster:Connect\nkafka-cluster:DescribeClusterDynamicConfiguration Update the configuration of a cluster\n\nkafka-cluster:Connect\nkafka-cluster:DescribeClusterDynamicConfiguration\nkafka-cluster:AlterClusterDynamicConfiguration Describe the configuration of a topic\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTopicDynamicConfiguration Update the configuration of a topic\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTopicDynamicConfiguration\nkafka-cluster:AlterTopicDynamicConfiguration Alter a topic\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTopic\nkafka-cluster:AlterTopic",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#iam-access-control-use-cases",
"main_header": "Common use cases",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#iam-access-control-use-cases",
"text": "Common use cases"
},
"links": [],
"text": "Use case\nRequired actions Admin\n\nkafka-cluster:* Create a topic\n\nkafka-cluster:Connect\nkafka-cluster:CreateTopic Produce data\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTopic\nkafka-cluster:WriteData Consume data\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTopic\nkafka-cluster:DescribeGroup\nkafka-cluster:AlterGroup\nkafka-cluster:ReadData Produce data idempotently\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTopic\nkafka-cluster:WriteData\nkafka-cluster:WriteDataIdempotently Produce data transactionally\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTopic\nkafka-cluster:WriteData\nkafka-cluster:DescribeTransactionalId\nkafka-cluster:AlterTransactionalId Describe the configuration of a cluster\n\nkafka-cluster:Connect\nkafka-cluster:DescribeClusterDynamicConfiguration Update the configuration of a cluster\n\nkafka-cluster:Connect\nkafka-cluster:DescribeClusterDynamicConfiguration\nkafka-cluster:AlterClusterDynamicConfiguration Describe the configuration of a topic\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTopicDynamicConfiguration Update the configuration of a topic\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTopicDynamicConfiguration\nkafka-cluster:AlterTopicDynamicConfiguration Alter a topic\n\nkafka-cluster:Connect\nkafka-cluster:DescribeTopic\nkafka-cluster:AlterTopic",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#iam-access-control-use-cases",
"main_header": "Common use cases",
"images": [],
"container_type": "div",
"children_tags": [
"table"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-authentication",
"text": "Mutual TLS Authentication"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html#msk-authentication",
"main_header": "Mutual TLS Authentication",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-authentication",
"text": "Mutual TLS Authentication"
},
"links": [],
"text": "NoteTLS authentication is not currently available in the Beijing and Ningxia Regions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html#msk-authentication",
"main_header": "Mutual TLS Authentication",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-authentication",
"text": "Mutual TLS Authentication"
},
"links": [],
"text": "Note",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html#msk-authentication",
"main_header": "Mutual TLS Authentication",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-authentication",
"text": "Mutual TLS Authentication"
},
"links": [],
"text": "TLS authentication is not currently available in the Beijing and Ningxia Regions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html#msk-authentication",
"main_header": "Mutual TLS Authentication",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-authentication",
"text": "Mutual TLS Authentication"
},
"links": [],
"text": "TLS authentication is not currently available in the Beijing and Ningxia Regions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html#msk-authentication",
"main_header": "Mutual TLS Authentication",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-authentication",
"text": "Mutual TLS Authentication"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html#msk-authentication-cluster",
"title": "To create a cluster that supports client authentication"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html#msk-authentication-client",
"title": "To set up a client to use authentication"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html#msk-authentication-messages",
"title": "To produce and consume messages using authentication"
}
],
"text": "This topic contains the following sections:To create a cluster that supports client authenticationTo set up a client to use authenticationTo produce and consume messages using authentication",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html#msk-authentication",
"main_header": "Mutual TLS Authentication",
"images": [],
"container_type": "div",
"children_tags": [
"p",
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-authentication",
"text": "Mutual TLS Authentication"
},
"links": [],
"text": "This topic contains the following sections:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html#msk-authentication",
"main_header": "Mutual TLS Authentication",
"images": [],
"container_type": "p",
"children_tags": [
"strong"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-authentication",
"text": "Mutual TLS Authentication"
},
"h2": {
"urllink": "#msk-authentication-cluster",
"text": "To create a cluster that supports client authentication"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html#create-cluster-cli",
"title": "Creating a cluster using the AWS CLI"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-encryption.html",
"title": "Amazon MSK Encryption"
}
],
"text": "This procedure shows you how to enable client authentication using a CA that is hosted by ACM.NoteWe highly recommend using independent ACM PCAs for each MSK cluster when you use mutual TLS to control access. Doing so will ensure that TLS certificates signed by PCAs only authenticate with a single MSK cluster.\nCreate a file named clientauthinfo.json with the following contents. Replace Private-CA-ARN with the ARN of your PCA.\n{ \"Tls\": { \"CertificateAuthorityArnList\": [\"Private-CA-ARN\"] }\n}\n\nCreate a file named brokernodegroupinfo.json as described in Creating a cluster using the AWS CLI.\n\nClient authentication requires that you also enable encryption in transit between clients and brokers. Create a file named encryptioninfo.json with the following contents. Replace KMS-Key-ARN with the ARN of your KMS key. You can set ClientBroker to TLS or TLS_PLAINTEXT.\n{ \"EncryptionAtRest\": { \"DataVolumeKMSKeyId\": \"KMS-Key-ARN\" }, \"EncryptionInTransit\": { \"InCluster\": true, \"ClientBroker\": \"TLS\" }\n}\nFor more information about encryption, see Amazon MSK Encryption.\n\nOn a machine where you have the AWS CLI installed, run the following command to create a cluster with authentication and in-transit encryption enabled. Save the cluster ARN provided in the response.\naws kafka create-cluster --cluster-name \"AuthenticationTest\" --broker-node-group-info file://brokernodegroupinfo.json --encryption-info file://encryptioninfo.json --client-authentication file://clientauthinfo.json --kafka-version \"2.2.1\" --number-of-broker-nodes 3",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html#msk-authentication-cluster",
"main_header": "To create a cluster that supports client authentication",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p",
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-authentication",
"text": "Mutual TLS Authentication"
},
"h2": {
"urllink": "#msk-authentication-cluster",
"text": "To create a cluster that supports client authentication"
},
"links": [],
"text": "This procedure shows you how to enable client authentication using a CA that is hosted by ACM.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html#msk-authentication-cluster",
"main_header": "To create a cluster that supports client authentication",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-authentication",
"text": "Mutual TLS Authentication"
},
"h2": {
"urllink": "#msk-authentication-cluster",
"text": "To create a cluster that supports client authentication"
},
"links": [],
"text": "NoteWe highly recommend using independent ACM PCAs for each MSK cluster when you use mutual TLS to control access. Doing so will ensure that TLS certificates signed by PCAs only authenticate with a single MSK cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html#msk-authentication-cluster",
"main_header": "To create a cluster that supports client authentication",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-authentication",
"text": "Mutual TLS Authentication"
},
"h2": {
"urllink": "#msk-authentication-cluster",
"text": "To create a cluster that supports client authentication"
},
"links": [],
"text": "Note",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html#msk-authentication-cluster",
"main_header": "To create a cluster that supports client authentication",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-authentication",
"text": "Mutual TLS Authentication"
},
"h2": {
"urllink": "#msk-authentication-cluster",
"text": "To create a cluster that supports client authentication"
},
"links": [],
"text": "We highly recommend using independent ACM PCAs for each MSK cluster when you use mutual TLS to control access. Doing so will ensure that TLS certificates signed by PCAs only authenticate with a single MSK cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html#msk-authentication-cluster",
"main_header": "To create a cluster that supports client authentication",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-authentication",
"text": "Mutual TLS Authentication"
},
"h2": {
"urllink": "#msk-authentication-cluster",
"text": "To create a cluster that supports client authentication"
},
"links": [],
"text": "We highly recommend using independent ACM PCAs for each MSK cluster when you use mutual TLS to control access. Doing so will ensure that TLS certificates signed by PCAs only authenticate with a single MSK cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html#msk-authentication-cluster",
"main_header": "To create a cluster that supports client authentication",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-authentication",
"text": "Mutual TLS Authentication"
},
"h2": {
"urllink": "#msk-authentication-client",
"text": "To set up a client to use authentication"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-client-machine.html",
"title": "Step 2: Create a Client Machine"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-topic.html",
"title": "Step 3: Create a Topic"
}
],
"text": "Create an Amazon EC2 instance to use as a client machine. For simplicity, create this instance in the same VPC you used for the cluster. See Step 2: Create a Client Machine for an example of how to create such a client machine.\n\nCreate a topic. For an example, see the instructions under Step 3: Create a Topic.\n\nOn a machine where you have the AWS CLI installed, run the following command to get the bootstrap brokers of the cluster. Replace Cluster-ARN with the ARN of your cluster.\naws kafka get-bootstrap-brokers --cluster-arn Cluster-ARN\nSave the string associated with BootstrapBrokerStringTls in the response.\n\nOn your client machine, run the following command to use the JVM trust store to create your client trust store. If your JVM path is different, adjust the command accordingly. \ncp /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.201.b09-0.amzn2.x86_64/jre/lib/security/cacerts kafka.client.truststore.jks\n\nOn your client machine, run the following command to create a private key for your client. Replace Distinguished-Name, Example-Alias, Your-Store-Pass, and Your-Key-Pass with strings of your choice.\nkeytool -genkey -keystore kafka.client.keystore.jks -validity 300 -storepass Your-Store-Pass -keypass Your-Key-Pass -dname \"CN=Distinguished-Name\" -alias Example-Alias -storetype pkcs12\n\nOn your client machine, run the following command to create a certificate request with the private key you created in the previous step.\nkeytool -keystore kafka.client.keystore.jks -certreq -file client-cert-sign-request -alias Example-Alias -storepass Your-Store-Pass -keypass Your-Key-Pass\n\nOpen the client-cert-sign-request file and ensure that it starts with -----BEGIN CERTIFICATE REQUEST----- and ends with -----END CERTIFICATE REQUEST-----. If it starts with -----BEGIN NEW CERTIFICATE REQUEST-----, delete the word NEW (and the single space that follows it) from the beginning and the end of the file.\n\nOn a machine where you have the AWS CLI installed, run the following command to sign your certificate request. Replace Private-CA-ARN with the ARN of your PCA. You can change the validity value if you want. Here we use 300 as an example.\naws acm-pca issue-certificate --certificate-authority-arn Private-CA-ARN --csr fileb://client-cert-sign-request --signing-algorithm \"SHA256WITHRSA\" --validity Value=300,Type=\"DAYS\"\nSave the certificate ARN provided in the response.\n\nRun the following command to get the certificate that ACM signed for you. Replace Certificate-ARN with the ARN you obtained from the response to the previous command.\naws acm-pca get-certificate --certificate-authority-arn Private-CA-ARN --certificate-arn Certificate-ARN\n\nFrom the JSON result of running the previous command, copy the strings associated with Certificate and CertificateChain. Paste these two strings in a new file named signed-certificate-from-acm. Paste the string associated with Certificate first, followed by the string associated with CertificateChain. Replace the \\n characters with new lines. The following is the structure of the file after you paste the certificate and certificate chain in it. \n-----BEGIN CERTIFICATE-----\n...\n-----END CERTIFICATE-----\n-----BEGIN CERTIFICATE-----\n...\n-----END CERTIFICATE-----\n-----BEGIN CERTIFICATE-----\n...\n-----END CERTIFICATE----- Run the following command on the client machine to add this certificate to your keystore so you can present it when you talk to the MSK brokers.\nkeytool -keystore kafka.client.keystore.jks -import -file signed-certificate-from-acm -alias Example-Alias -storepass Your-Store-Pass -keypass Your-Key-Pass\n\nCreate a file named client.properties with the following contents. Adjust the truststore and keystore locations to the paths where you saved kafka.client.truststore.jks.\nsecurity.protocol=SSL\nssl.truststore.location=/tmp/kafka_2.12-2.2.1/kafka.client.truststore.jks\nssl.keystore.location=/tmp/kafka_2.12-2.2.1/kafka.client.keystore.jks\nssl.keystore.password=Your-Store-Pass\nssl.key.password=Your-Key-Pass",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html#msk-authentication-client",
"main_header": "To set up a client to use authentication",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-authentication",
"text": "Mutual TLS Authentication"
},
"h2": {
"urllink": "#msk-authentication-messages",
"text": "To produce and consume messages using authentication"
},
"links": [],
"text": "Run the following command to create a topic.\nbin/kafka-topics.sh --create --zookeeper ZooKeeper-Connection-String --replication-factor 3 --partitions 1 --topic ExampleTopic\n\nRun the following command to start a console producer. The file named client.properties is the one you created in the previous procedure.\nbin/kafka-console-producer.sh --broker-list BootstrapBroker-String --topic ExampleTopic --producer.config client.properties\n\nIn a new command window on your client machine, run the following command to start a console consumer.\nbin/kafka-console-consumer.sh --bootstrap-server BootstrapBroker-String --topic ExampleTopic --consumer.config client.properties\n\nType messages in the producer window and watch them appear in the consumer window.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html#msk-authentication-messages",
"main_header": "To produce and consume messages using authentication",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password",
"main_header": "Username and password authentication with AWS Secrets Manager",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-howitworks",
"title": "How it Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-tutorial",
"title": "Setting up SASL/SCRAM authentication for an Amazon MSK Cluster"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-users",
"title": "Working with Users"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-limitations",
"title": "Limitations"
}
],
"text": "This topic contains the following sections:How it WorksSetting up SASL/SCRAM authentication for an Amazon MSK ClusterWorking with UsersLimitations",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password",
"main_header": "Username and password authentication with AWS Secrets Manager",
"images": [],
"container_type": "div",
"children_tags": [
"p",
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"links": [],
"text": "This topic contains the following sections:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password",
"main_header": "Username and password authentication with AWS Secrets Manager",
"images": [],
"container_type": "p",
"children_tags": [
"strong"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"h2": {
"urllink": "#msk-password-howitworks",
"text": "How it Works"
},
"links": [],
"text": "NoteWhen you set up SASL/SCRAM authentication for your cluster, Amazon MSK turns on TLS encryption for all traffic between clients and brokers.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-howitworks",
"main_header": "How it Works",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"h2": {
"urllink": "#msk-password-howitworks",
"text": "How it Works"
},
"links": [],
"text": "Note",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-howitworks",
"main_header": "How it Works",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"h2": {
"urllink": "#msk-password-howitworks",
"text": "How it Works"
},
"links": [],
"text": "When you set up SASL/SCRAM authentication for your cluster, Amazon MSK turns on TLS encryption for all traffic between clients and brokers.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-howitworks",
"main_header": "How it Works",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"h2": {
"urllink": "#msk-password-howitworks",
"text": "How it Works"
},
"links": [],
"text": "When you set up SASL/SCRAM authentication for your cluster, Amazon MSK turns on TLS encryption for all traffic between clients and brokers.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-howitworks",
"main_header": "How it Works",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"h2": {
"urllink": "#msk-password-tutorial",
"text": "Setting up SASL/SCRAM authentication for an Amazon MSK Cluster"
},
"links": [],
"text": "Choose Other type of secrets (e.g. API key) for the secret type.Your secret name must have the prefix AmazonMSK_.You must either use an existing custom AWS KMS key or create a new custom AWS KMS key for your secret. Secrets Manager uses the default AWS KMS key for a secret by default. \nImportantA secret created with the default AWS KMS key cannot be used with an Amazon MSK cluster.Your user and password data must be in the following format to enter key-value pairs using the Plaintext option.\n{ \"username\": \"alice\", \"password\": \"alice-secret\"\n}Record the ARN (Amazon Resource Name) value for your secret.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-tutorial",
"main_header": "Setting up SASL/SCRAM authentication for an Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"h2": {
"urllink": "#msk-password-tutorial",
"text": "Setting up SASL/SCRAM authentication for an Amazon MSK Cluster"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#partitions-per-broker",
"title": "Right-size your cluster: Number of partitions per broker"
}
],
"text": "ImportantYou can't associate a Secrets Manager secret with a cluster that exceeds the limits described in  Right-size your cluster: Number of partitions per broker.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-tutorial",
"main_header": "Setting up SASL/SCRAM authentication for an Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"h2": {
"urllink": "#msk-password-tutorial",
"text": "Setting up SASL/SCRAM authentication for an Amazon MSK Cluster"
},
"links": [],
"text": "Important",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-tutorial",
"main_header": "Setting up SASL/SCRAM authentication for an Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"h2": {
"urllink": "#msk-password-tutorial",
"text": "Setting up SASL/SCRAM authentication for an Amazon MSK Cluster"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#partitions-per-broker",
"title": "Right-size your cluster: Number of partitions per broker"
}
],
"text": "You can't associate a Secrets Manager secret with a cluster that exceeds the limits described in  Right-size your cluster: Number of partitions per broker.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-tutorial",
"main_header": "Setting up SASL/SCRAM authentication for an Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"h2": {
"urllink": "#msk-password-tutorial",
"text": "Setting up SASL/SCRAM authentication for an Amazon MSK Cluster"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#partitions-per-broker",
"title": "Right-size your cluster: Number of partitions per broker"
}
],
"text": "You can't associate a Secrets Manager secret with a cluster that exceeds the limits described in  Right-size your cluster: Number of partitions per broker.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-tutorial",
"main_header": "Setting up SASL/SCRAM authentication for an Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"h2": {
"urllink": "#msk-password-tutorial",
"text": "Setting up SASL/SCRAM authentication for an Amazon MSK Cluster"
},
"h3": {
"urllink": "#msk-password-tutorial-connect",
"text": "Connecting to your cluster with a username and password"
},
"links": [],
"text": "Run the following command, replacing ClusterArn with the Amazon Resource Name (ARN) of your cluster:\naws kafka describe-cluster --cluster-arn \"ClusterArn\"\nFrom the JSON result of the command, save the value associated with the string named \"ZookeeperConnectString\".Create a topic in your cluster by running the following command in the bin directory in your client machine, replacing ZookeeperConnectString with the string you recorded in the previous command. You can specify a different name for the topic, but if you do, remember to use the name you chose in the rest of this procedure.\n./kafka-topics.sh --create --zookeeper ZookeeperConnectString --replication-factor 3 --partitions 1 --topic ExampleTopicNameOn your client machine, create a JAAS configuration file with the user credentials stored in your secret. For example, for the user alice, create a file called users_jaas.conf with the following content:\nKafkaClient { org.apache.kafka.common.security.scram.ScramLoginModule required username=\"alice\" password=\"alice-secret\";\n};Export this JAAS config file as a KAFKA_OPTS environment parameter with the following command:\nexport KAFKA_OPTS=-Djava.security.auth.login.config=<path-to-jaas-file>/users_jaas.confCopy the JDK key store file from your JVM cacerts folder to a ./tmp directory.Create a client properties file called client_sasl.properties with the following contents. This file defines the SASL mechanism and protocol.\nsecurity.protocol=SASL_SSL\nsasl.mechanism=SCRAM-SHA-512\nssl.truststore.location=<path-to-keystore-file>/kafka.client.truststore.jksRun the following command, replacing ClusterArn with the Amazon Resource Name (ARN) of your cluster:\naws kafka get-bootstrap-brokers --cluster-arn ClusterArn\nFrom the JSON result of the command, save the value associated with the string named \"BootstrapBrokerStringSaslScram\". To produce to the topic you created, run the following command in the bin directory in your client machine, replacing BootstrapBrokerStringSaslScram with the value that you obtained when you ran the previous command.\n./kafka-console-producer.sh --broker-list BootstrapBrokerStringSaslScram --topic ExampleTopicName --producer.config client_sasl.propertiesTo consume from the topic you created, run the following command in the bin directory in your client machine, replacing BootstrapBrokerStringSaslScram with the value that you obtained previously.\n./kafka-console-consumer.sh --bootstrap-server BootstrapBrokerStringSaslScram --topic ExampleTopicName --from-beginning --consumer.config client_sasl.properties",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-tutorial-connect",
"main_header": "Connecting to your cluster with a username and password",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"h2": {
"urllink": "#msk-password-users",
"text": "Working with Users"
},
"links": [],
"text": "Removing a user does not close existing connections.Changes to your secret take up to 10 minutes to propagate.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-users",
"main_header": "Working with Users",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"h2": {
"urllink": "#msk-password-limitations",
"text": "Limitations"
},
"links": [
{
"url": "https://docs.aws.amazon.com/kms/latest/developerguide/create-keys.html#create-symmetric-cmk",
"title": "Creating symmetric encryption KMS keys"
},
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/clusters-clusterarn-scram-secrets.html#BatchAssociateScramSecret",
"title": "BatchAssociateScramSecret"
}
],
"text": "Amazon MSK only supports SCRAM-SHA-512 authentication.An Amazon MSK cluster can have up to 1000 users.You must use an AWS KMS key with your Secret. You cannot use a Secret that uses the default Secrets Manager encryption key with Amazon MSK. For information about creating a KMS key, see Creating symmetric encryption KMS keys.You can't use an asymmetric KMS key with Secrets Manager.You can associate up to 10 secrets with a cluster at a time using the BatchAssociateScramSecret operation.The name of secrets associated with an Amazon MSK cluster must have the prefix AmazonMSK_.Secrets associated with an Amazon MSK cluster must be in the same Amazon Web Services account and AWS region as the cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-limitations",
"main_header": "Limitations",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-acls",
"text": "Apache Kafka ACLs"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-acls.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-acls.html#msk-acls",
"main_header": "Apache Kafka ACLs",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-acls",
"text": "Apache Kafka ACLs"
},
"links": [],
"text": "NoteTo avoid blocking brokers, don't set ACLs on CLUSTER_ACTIONS.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-acls.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-acls.html#msk-acls",
"main_header": "Apache Kafka ACLs",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-acls",
"text": "Apache Kafka ACLs"
},
"links": [],
"text": "Note",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-acls.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-acls.html#msk-acls",
"main_header": "Apache Kafka ACLs",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-acls",
"text": "Apache Kafka ACLs"
},
"links": [],
"text": "To avoid blocking brokers, don't set ACLs on CLUSTER_ACTIONS.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-acls.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-acls.html#msk-acls",
"main_header": "Apache Kafka ACLs",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-acls",
"text": "Apache Kafka ACLs"
},
"links": [],
"text": "To avoid blocking brokers, don't set ACLs on CLUSTER_ACTIONS.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-acls.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-acls.html#msk-acls",
"main_header": "Apache Kafka ACLs",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-acls",
"text": "Apache Kafka ACLs"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-connection-string.html",
"title": "Getting the Apache ZooKeeper connection string for an Amazon MSK Cluster"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-bootstrap-brokers.html",
"title": "Getting the bootstrap brokers for an Amazon MSK Cluster"
}
],
"text": "To add or remove read and write access to a topic\nAdd your brokers to the ACL table to allow them to read from all topics that have ACLs in place. To grant your brokers read access to a topic, run the following command on a client machine that can communicate with the MSK cluster. \nReplace ZooKeeper-Connection-String with your Apache ZooKeeper connection string. For information on how to get this string, see Getting the Apache ZooKeeper connection string for an Amazon MSK Cluster. \nReplace Distinguished-Name with the DNS of any of your cluster's bootstrap brokers, then replace the string before the first period in this distinguished name by an asterisk (*). For example, if one of your cluster's bootstrap brokers has the DNS b-6.mytestcluster.67281x.c4.kafka.us-east-1.amazonaws.com, replace Distinguished-Name in the following command with *.mytestcluster.67281x.c4.kafka.us-east-1.amazonaws.com. For information on how to get the bootstrap brokers, see Getting the bootstrap brokers for an Amazon MSK Cluster.\nbin/kafka-acls.sh --authorizer-properties zookeeper.connect=ZooKeeper-Connection-String --add --allow-principal \"User:CN=Distinguished-Name\" --operation Read --group=* --topic Topic-Name\n\nTo grant read access to a topic, run the following command on your client machine. Use the same Distinguished-Name you used when you created the private key.\nbin/kafka-acls.sh --authorizer-properties zookeeper.connect=ZooKeeper-Connection-String --add --allow-principal \"User:CN=Distinguished-Name\" --operation Read --group=* --topic Topic-Name\nTo remove read access, you can run the same command, replacing --add with --remove.\n\nTo grant write access to a topic, run the following command on your client machine. Use the same Distinguished-Name you used when you created the private key.\nbin/kafka-acls.sh --authorizer-properties zookeeper.connect=ZooKeeper-Connection-String --add --allow-principal \"User:CN=Distinguished-Name\" --operation Write --topic Topic-Name\nTo remove write access, you can run the same command, replacing --add with --remove.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-acls.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-acls.html#msk-acls",
"main_header": "Apache Kafka ACLs",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-acls",
"text": "Apache Kafka ACLs"
},
"links": [],
"text": "To add or remove read and write access to a topic",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-acls.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-acls.html#msk-acls",
"main_header": "Apache Kafka ACLs",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#change-security-group",
"text": "Changing an Amazon MSK cluster's security group"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/change-security-group.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/change-security-group.html#change-security-group",
"main_header": "Changing an Amazon MSK cluster's security group",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#change-security-group",
"text": "Changing an Amazon MSK cluster's security group"
},
"links": [
{
"url": "https://docs.amazonaws.cn/en_us/msk/1.0/apireference/clusters-clusterarn-nodes.html#ListNodes",
"title": "ListNodes"
},
{
"url": "https://awscli.amazonaws.com/v2/documentation/api/latest/reference/kafka/list-nodes.html",
"title": "list-nodes"
},
{
"url": "https://console.aws.amazon.com/ec2/",
"title": "https://console.aws.amazon.com/ec2/"
},
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html?shortFooter=true#AddRemoveRules",
"title": "Adding, Removing, and Updating Rules"
}
],
"text": "Use the ListNodes API or the list-nodes command in the AWS CLI to get a list of the brokers in your cluster. The results of this operation include the IDs of the elastic network interfaces (ENIs) that are associated with the brokers.\nSign in to the AWS Management Console and open the Amazon EC2 console at https://console.aws.amazon.com/ec2/.Using the dropdown list near the top-right corner of the screen, select the Region in which the cluster is deployed.In the left pane, under Network & Security, choose Network Interfaces.\nSelect the first ENI that you obtained in the first step. Choose the Actions menu at the top of the screen, then choose Change Security Groups. Assign the new security group to this ENI. Repeat this step for each of the ENIs that you obtained in the first step.\nNoteChanges that you make to a cluster's security group using the Amazon EC2 console aren't reflected in the MSK console under Network settings.\n\nConfigure the new security group's rules to ensure that your clients have access to the brokers. For information about setting security group rules, see Adding, Removing, and Updating Rules in the Amazon VPC user guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/change-security-group.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/change-security-group.html#change-security-group",
"main_header": "Changing an Amazon MSK cluster's security group",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#change-security-group",
"text": "Changing an Amazon MSK cluster's security group"
},
"links": [],
"text": "ImportantIf you change the security group that is associated with the brokers of a cluster, and then add new brokers to that cluster, Amazon MSK associates the new brokers with the original security group that was associated with the cluster when the cluster was created. However, for a cluster to work correctly, all of its brokers must be associated with the same security group. Therefore, if you add new brokers after changing the security group, you must follow the previous procedure again and update the ENIs of the new brokers.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/change-security-group.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/change-security-group.html#change-security-group",
"main_header": "Changing an Amazon MSK cluster's security group",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#change-security-group",
"text": "Changing an Amazon MSK cluster's security group"
},
"links": [],
"text": "Important",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/change-security-group.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/change-security-group.html#change-security-group",
"main_header": "Changing an Amazon MSK cluster's security group",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#change-security-group",
"text": "Changing an Amazon MSK cluster's security group"
},
"links": [],
"text": "If you change the security group that is associated with the brokers of a cluster, and then add new brokers to that cluster, Amazon MSK associates the new brokers with the original security group that was associated with the cluster when the cluster was created. However, for a cluster to work correctly, all of its brokers must be associated with the same security group. Therefore, if you add new brokers after changing the security group, you must follow the previous procedure again and update the ENIs of the new brokers.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/change-security-group.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/change-security-group.html#change-security-group",
"main_header": "Changing an Amazon MSK cluster's security group",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#change-security-group",
"text": "Changing an Amazon MSK cluster's security group"
},
"links": [],
"text": "If you change the security group that is associated with the brokers of a cluster, and then add new brokers to that cluster, Amazon MSK associates the new brokers with the original security group that was associated with the cluster when the cluster was created. However, for a cluster to work correctly, all of its brokers must be associated with the same security group. Therefore, if you add new brokers after changing the security group, you must follow the previous procedure again and update the ENIs of the new brokers.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/change-security-group.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/change-security-group.html#change-security-group",
"main_header": "Changing an Amazon MSK cluster's security group",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#zookeeper-security",
"text": "Controlling Access to Apache ZooKeeper"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html#zookeeper-security",
"main_header": "Controlling Access to Apache ZooKeeper",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#zookeeper-security",
"text": "Controlling Access to Apache ZooKeeper"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html#zookeeper-security-group",
"title": "To place your Apache ZooKeeper nodes in a separate security group"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html#zookeeper-security-tls",
"title": "Using TLS security with Apache ZooKeeper"
}
],
"text": "This topic contains the following sections:To place your Apache ZooKeeper nodes in a separate security groupUsing TLS security with Apache ZooKeeper",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html#zookeeper-security",
"main_header": "Controlling Access to Apache ZooKeeper",
"images": [],
"container_type": "div",
"children_tags": [
"p",
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#zookeeper-security",
"text": "Controlling Access to Apache ZooKeeper"
},
"links": [],
"text": "This topic contains the following sections:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html#zookeeper-security",
"main_header": "Controlling Access to Apache ZooKeeper",
"images": [],
"container_type": "p",
"children_tags": [
"strong"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#zookeeper-security",
"text": "Controlling Access to Apache ZooKeeper"
},
"h2": {
"urllink": "#zookeeper-security-group",
"text": "To place your Apache ZooKeeper nodes in a separate security group"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-connection-string.html",
"title": "Getting the Apache ZooKeeper connection string for an Amazon MSK Cluster"
},
{
"url": "https://console.aws.amazon.com/ec2/",
"title": "https://console.aws.amazon.com/ec2/"
},
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html?shortFooter=true#CreatingSecurityGroups",
"title": "Creating a Security Group"
},
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html?shortFooter=true#AddRemoveRules",
"title": "Adding, Removing, and Updating Rules"
}
],
"text": "Get the Apache ZooKeeper connection string for your cluster. To learn how, see Getting the Apache ZooKeeper connection string for an Amazon MSK Cluster. The connection string contains the DNS names of your Apache ZooKeeper nodes.\n\nUse a tool like host or ping to convert the DNS names you obtained in the previous step to IP addresses. Save these IP addresses because you need them later in this procedure.\nSign in to the AWS Management Console and open the Amazon EC2 console at https://console.aws.amazon.com/ec2/.In the left pane, under NETWORK & SECURITY, choose Network Interfaces.\nIn the search field above the table of network interfaces, type the name of your cluster, then type return. This limits the number of network interfaces that appear in the table to those interfaces that are associated with your cluster.\n\nSelect the check box at the beginning of the row that corresponds to the first network interface in the list.\n\nIn the details pane at the bottom of the page, look for the Primary private IPv4 IP. If this IP address matches one of the IP addresses you obtained in the first step of this procedure, this means that this network interface is assigned to an Apache ZooKeeper node that is part of your cluster. Otherwise, deselect the check box next to this network interface, and select the next network interface in the list. The order in which you select the network interfaces doesn't matter. In the next steps, you will perform the same operations on all network interfaces that are assigned to Apache ZooKeeper nodes, one by one.\n\nWhen you select a network interface that corresponds to an Apache ZooKeeper node, choose the Actions menu at the top of the page, then choose Change Security Groups. Assign a new security group to this network interface. For information about creating security groups, see Creating a Security Group in the Amazon VPC documentation.\n\nRepeat the previous step to assign the same new security group to all the network interfaces that are associated with the Apache ZooKeeper nodes of your cluster.\n\nYou can now choose who has access to this new security group. For information about setting security group rules, see Adding, Removing, and Updating Rules in the Amazon VPC documentation.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html#zookeeper-security-group",
"main_header": "To place your Apache ZooKeeper nodes in a separate security group",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#zookeeper-security",
"text": "Controlling Access to Apache ZooKeeper"
},
"h2": {
"urllink": "#zookeeper-security-tls",
"text": "Using TLS security with Apache ZooKeeper"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-working-with-encryption.html",
"title": "How Do I Get Started with Encryption?"
},
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/clusters-clusterarn.html#DescribeCluster",
"title": "DescribeCluster"
}
],
"text": "Clusters must use Apache Kafka version 2.5.1 or later to use TLS security with Apache ZooKeeper.Enable TLS security when you create or configure your cluster. Clusters created with Apache Kafka version 2.5.1 or later with TLS enabled automatically use TLS security with Apache ZooKeeper endpoints. For information about setting up TLS security, see How Do I Get Started with Encryption?.Retrieve the TLS Apache ZooKeeper endpoints using the DescribeCluster  operation.Create an Apache ZooKeeper configuration file for use with the following CLI commands: Config, ACL, and ZooKeeper Shell. You use the Apache Zookeeper config file with these commands using the --zk-tls-config-file parameter.\nThe following example shows a typical Apache ZooKeeper configuration file: \nzookeeper.ssl.client.enable=true\nzookeeper.clientCnxnSocket=org.apache.zookeeper.ClientCnxnSocketNetty\nzookeeper.ssl.keystore.location=kafka.jks\nzookeeper.ssl.keystore.password=test1234\nzookeeper.ssl.truststore.location=truststore.jks\nzookeeper.ssl.truststore.password=test1234For other commands (such as kafka-topics), you must use the KAFKA_OPTS environment variable to configure Apache ZooKeeper parameters. The following example shows how to configure the KAFKA_OPTS environment variable to pass Apache ZooKeeper parameters into other commands:\nexport KAFKA_OPTS=\"\n-Dzookeeper.clientCnxnSocket=org.apache.zookeeper.ClientCnxnSocketNetty \n-Dzookeeper.client.secure=true \n-Dzookeeper.ssl.trustStore.location=/home/ec2-user/kafka.client.truststore.jks\n-Dzookeeper.ssl.trustStore.password=changeit\"\n\nOnce you have configured the KAFKA_OPTS environment variable, you can use CLI commands normally. The following example creates an Apache Kafka topic using the Apache ZooKeeper configuration from the KAFKA_OPTS environment variable:\nbin/kafka-topics.sh --create --zookeeper ZooKeeperTLSConnectString --replication-factor 3 --partitions 1 --topic AWSKafkaTutorialTopic",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html#zookeeper-security-tls",
"main_header": "Using TLS security with Apache ZooKeeper",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#zookeeper-security",
"text": "Controlling Access to Apache ZooKeeper"
},
"h2": {
"urllink": "#zookeeper-security-tls",
"text": "Using TLS security with Apache ZooKeeper"
},
"links": [],
"text": "NoteThe names of the parameters you use in your Apache ZooKeeper configuration file and those you use in your KAFKA_OPTS environment variable are not consistent. Pay attention to which names you use with which parameters in your configuration file and KAFKA_OPTS environment variable.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html#zookeeper-security-tls",
"main_header": "Using TLS security with Apache ZooKeeper",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#zookeeper-security",
"text": "Controlling Access to Apache ZooKeeper"
},
"h2": {
"urllink": "#zookeeper-security-tls",
"text": "Using TLS security with Apache ZooKeeper"
},
"links": [],
"text": "Note",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html#zookeeper-security-tls",
"main_header": "Using TLS security with Apache ZooKeeper",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#zookeeper-security",
"text": "Controlling Access to Apache ZooKeeper"
},
"h2": {
"urllink": "#zookeeper-security-tls",
"text": "Using TLS security with Apache ZooKeeper"
},
"links": [],
"text": "The names of the parameters you use in your Apache ZooKeeper configuration file and those you use in your KAFKA_OPTS environment variable are not consistent. Pay attention to which names you use with which parameters in your configuration file and KAFKA_OPTS environment variable.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html#zookeeper-security-tls",
"main_header": "Using TLS security with Apache ZooKeeper",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#zookeeper-security",
"text": "Controlling Access to Apache ZooKeeper"
},
"h2": {
"urllink": "#zookeeper-security-tls",
"text": "Using TLS security with Apache ZooKeeper"
},
"links": [],
"text": "The names of the parameters you use in your Apache ZooKeeper configuration file and those you use in your KAFKA_OPTS environment variable are not consistent. Pay attention to which names you use with which parameters in your configuration file and KAFKA_OPTS environment variable.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html#zookeeper-security-tls",
"main_header": "Using TLS security with Apache ZooKeeper",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#msk-logging",
"main_header": "Logging",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#broker-logs",
"text": "Broker logs"
},
"links": [
{
"url": "https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/WhatIsCloudWatchLogs.html",
"title": "Amazon CloudWatch Logs"
},
{
"url": "https://docs.aws.amazon.com/AmazonS3/latest/dev/Welcome.html",
"title": "Amazon S3"
},
{
"url": "https://docs.aws.amazon.com/firehose/latest/dev/what-is-this-service.html",
"title": "Amazon Kinesis Data Firehose"
}
],
"text": "Amazon CloudWatch Logs\n\nAmazon S3\n\nAmazon Kinesis Data Firehose",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#broker-logs",
"main_header": "Broker logs",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#broker-logs",
"text": "Broker logs"
},
"links": [],
"text": "NoteAmazon MSK does not support delivering broker logs to Kinesis Data Firehose in the Asia Pacific (Osaka) Region.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#broker-logs",
"main_header": "Broker logs",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#broker-logs",
"text": "Broker logs"
},
"links": [],
"text": "Note",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#broker-logs",
"main_header": "Broker logs",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#broker-logs",
"text": "Broker logs"
},
"links": [],
"text": "Amazon MSK does not support delivering broker logs to Kinesis Data Firehose in the Asia Pacific (Osaka) Region.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#broker-logs",
"main_header": "Broker logs",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#broker-logs",
"text": "Broker logs"
},
"links": [],
"text": "Amazon MSK does not support delivering broker logs to Kinesis Data Firehose in the Asia Pacific (Osaka) Region.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#broker-logs",
"main_header": "Broker logs",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#broker-logs",
"text": "Broker logs"
},
"h3": {
"urllink": "#broker-logs-api",
"text": "Configuring broker logs using the API"
},
"links": [
{
"url": "https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Level.html",
"title": "log4j log levels"
},
{
"url": "https://cwiki.apache.org/confluence/display/KAFKA/KIP-412%3A+Extend+Admin+API+to+support+dynamic+application+log+levels",
"title": "KIP-412: Extend Admin API to support dynamic application log levels"
}
],
"text": "NoteBy default, when broker logging is enabled, Amazon MSK logs INFO level logs to the specified destinations. However, users of Apache Kafka 2.4.X and later can dynamically set the broker log level to any of the log4j log levels. For information about dynamically setting the broker log level, see KIP-412: Extend Admin API to support dynamic application log levels. If you dynamically set the log level to DEBUG or TRACE, we recommend using Amazon S3 or Kinesis Data Firehose as the log destination. If you use CloudWatch Logs as a log destination and you dynamically enable DEBUG or TRACE level logging, Amazon MSK may continuously deliver a sample of logs. This can significantly impact broker performance and should only be used when the INFO log level is not verbose enough to determine the root cause of an issue.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#broker-logs-api",
"main_header": "Configuring broker logs using the API",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#broker-logs",
"text": "Broker logs"
},
"h3": {
"urllink": "#broker-logs-api",
"text": "Configuring broker logs using the API"
},
"links": [],
"text": "Note",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#broker-logs-api",
"main_header": "Configuring broker logs using the API",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#broker-logs",
"text": "Broker logs"
},
"h3": {
"urllink": "#broker-logs-api",
"text": "Configuring broker logs using the API"
},
"links": [
{
"url": "https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Level.html",
"title": "log4j log levels"
},
{
"url": "https://cwiki.apache.org/confluence/display/KAFKA/KIP-412%3A+Extend+Admin+API+to+support+dynamic+application+log+levels",
"title": "KIP-412: Extend Admin API to support dynamic application log levels"
}
],
"text": "By default, when broker logging is enabled, Amazon MSK logs INFO level logs to the specified destinations. However, users of Apache Kafka 2.4.X and later can dynamically set the broker log level to any of the log4j log levels. For information about dynamically setting the broker log level, see KIP-412: Extend Admin API to support dynamic application log levels. If you dynamically set the log level to DEBUG or TRACE, we recommend using Amazon S3 or Kinesis Data Firehose as the log destination. If you use CloudWatch Logs as a log destination and you dynamically enable DEBUG or TRACE level logging, Amazon MSK may continuously deliver a sample of logs. This can significantly impact broker performance and should only be used when the INFO log level is not verbose enough to determine the root cause of an issue.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#broker-logs-api",
"main_header": "Configuring broker logs using the API",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#broker-logs",
"text": "Broker logs"
},
"h3": {
"urllink": "#broker-logs-api",
"text": "Configuring broker logs using the API"
},
"links": [
{
"url": "https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Level.html",
"title": "log4j log levels"
},
{
"url": "https://cwiki.apache.org/confluence/display/KAFKA/KIP-412%3A+Extend+Admin+API+to+support+dynamic+application+log+levels",
"title": "KIP-412: Extend Admin API to support dynamic application log levels"
}
],
"text": "By default, when broker logging is enabled, Amazon MSK logs INFO level logs to the specified destinations. However, users of Apache Kafka 2.4.X and later can dynamically set the broker log level to any of the log4j log levels. For information about dynamically setting the broker log level, see KIP-412: Extend Admin API to support dynamic application log levels. If you dynamically set the log level to DEBUG or TRACE, we recommend using Amazon S3 or Kinesis Data Firehose as the log destination. If you use CloudWatch Logs as a log destination and you dynamically enable DEBUG or TRACE level logging, Amazon MSK may continuously deliver a sample of logs. This can significantly impact broker performance and should only be used when the INFO log level is not verbose enough to determine the root cause of an issue.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#broker-logs-api",
"main_header": "Configuring broker logs using the API",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#logging-using-cloudtrail",
"text": "Logging API calls with AWS CloudTrail"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"title": "IAM access control"
}
],
"text": "NoteAWS CloudTrail logs are available for Amazon MSK only when you use IAM access control.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#logging-using-cloudtrail",
"main_header": "Logging API calls with AWS CloudTrail",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#logging-using-cloudtrail",
"text": "Logging API calls with AWS CloudTrail"
},
"links": [],
"text": "Note",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#logging-using-cloudtrail",
"main_header": "Logging API calls with AWS CloudTrail",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#logging-using-cloudtrail",
"text": "Logging API calls with AWS CloudTrail"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"title": "IAM access control"
}
],
"text": "AWS CloudTrail logs are available for Amazon MSK only when you use IAM access control.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#logging-using-cloudtrail",
"main_header": "Logging API calls with AWS CloudTrail",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#logging-using-cloudtrail",
"text": "Logging API calls with AWS CloudTrail"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"title": "IAM access control"
}
],
"text": "AWS CloudTrail logs are available for Amazon MSK only when you use IAM access control.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#logging-using-cloudtrail",
"main_header": "Logging API calls with AWS CloudTrail",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#logging-using-cloudtrail",
"text": "Logging API calls with AWS CloudTrail"
},
"h3": {
"urllink": "#msk-info-in-cloudtrail",
"text": "Amazon MSK information in CloudTrail"
},
"links": [
{
"url": "https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-create-and-update-a-trail.html",
"title": "Overview for Creating a Trail"
},
{
"url": "https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-aws-service-specific-topics.html#cloudtrail-aws-service-specific-topics-integrations",
"title": "CloudTrail Supported Services and Integrations"
},
{
"url": "https://docs.aws.amazon.com/awscloudtrail/latest/userguide/getting_notifications_top_level.html",
"title": "Configuring Amazon SNS Notifications for CloudTrail"
},
{
"url": "https://docs.aws.amazon.com/awscloudtrail/latest/userguide/receive-cloudtrail-log-files-from-multiple-regions.html",
"title": "Receiving CloudTrail Log Files from Multiple Regions"
},
{
"url": "https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-receive-logs-from-multiple-accounts.html",
"title": "Receiving CloudTrail Log Files from Multiple Accounts"
}
],
"text": "Overview for Creating a Trail\n\nCloudTrail Supported Services and Integrations\n\nConfiguring Amazon SNS Notifications for CloudTrail\n\nReceiving CloudTrail Log Files from Multiple Regions and Receiving CloudTrail Log Files from Multiple Accounts",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#msk-info-in-cloudtrail",
"main_header": "Amazon MSK information in CloudTrail",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#logging-using-cloudtrail",
"text": "Logging API calls with AWS CloudTrail"
},
"h3": {
"urllink": "#msk-info-in-cloudtrail",
"text": "Amazon MSK information in CloudTrail"
},
"links": [],
"text": "kafka-cluster:DescribeClusterDynamicConfiguration kafka-cluster:AlterClusterDynamicConfiguration kafka-cluster:CreateTopic kafka-cluster:DescribeTopicDynamicConfiguration kafka-cluster:AlterTopic kafka-cluster:AlterTopicDynamicConfiguration kafka-cluster:DeleteTopic",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#msk-info-in-cloudtrail",
"main_header": "Amazon MSK information in CloudTrail",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#logging-using-cloudtrail",
"text": "Logging API calls with AWS CloudTrail"
},
"h3": {
"urllink": "#msk-info-in-cloudtrail",
"text": "Amazon MSK information in CloudTrail"
},
"links": [],
"text": "Whether the request was made with root or AWS Identity and Access Management (IAM) user credentials.\n\nWhether the request was made with temporary security credentials for a role or federated user.\n\nWhether the request was made by another AWS service.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#msk-info-in-cloudtrail",
"main_header": "Amazon MSK information in CloudTrail",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#MSK-compliance",
"text": "Compliance Validation for Amazon Managed Streaming for Apache Kafka"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/MSK-compliance.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/MSK-compliance.html#MSK-compliance",
"main_header": "Compliance Validation for Amazon Managed Streaming for Apache Kafka",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#MSK-compliance",
"text": "Compliance Validation for Amazon Managed Streaming for Apache Kafka"
},
"links": [
{
"url": "http://aws.amazon.com/quickstart/?awsf.quickstart-homepage-filter=categories%23security-identity-compliance",
"title": "Security and Compliance Quick Start Guides"
},
{
"url": "https://d0.awsstatic.com/whitepapers/compliance/AWS_HIPAA_Compliance_Whitepaper.pdf",
"title": "Architecting for HIPAA Security and Compliance Whitepaper"
},
{
"url": "http://aws.amazon.com/compliance/resources/",
"title": "AWS Compliance Resources"
},
{
"url": "https://docs.aws.amazon.com/config/latest/developerguide/evaluate-config.html",
"title": "Evaluating Resources with Rules"
},
{
"url": "https://docs.aws.amazon.com/securityhub/latest/userguide/what-is-securityhub.html",
"title": "AWS Security Hub"
}
],
"text": "Security and Compliance Quick Start Guides \u00e2\u0080\u0093 These deployment guides discuss architectural considerations and provide steps for deploying security- and compliance-focused baseline environments on AWS.\n\nArchitecting for HIPAA Security and Compliance Whitepaper  \u00e2\u0080\u0093 This whitepaper describes how companies can use AWS to create HIPAA-compliant applications.\nAWS Compliance Resources \u00e2\u0080\u0093 This collection of workbooks and guides might apply to your industry and location.Evaluating Resources with Rules in the AWS Config Developer Guide \u00e2\u0080\u0093 The AWS Config service assesses how well your resource configurations comply with internal practices, industry guidelines, and regulations.\nAWS Security Hub \u00e2\u0080\u0093 This AWS service provides a comprehensive view of your security state within AWS that helps you check your compliance with security industry standards and best practices.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/MSK-compliance.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/MSK-compliance.html#MSK-compliance",
"main_header": "Compliance Validation for Amazon Managed Streaming for Apache Kafka",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#disaster-recovery-resiliency",
"text": "Resilience in Amazon Managed Streaming for Apache Kafka"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/disaster-recovery-resiliency.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/disaster-recovery-resiliency.html#disaster-recovery-resiliency",
"main_header": "Resilience in Amazon Managed Streaming for Apache Kafka",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#infrastructure-security",
"text": "Infrastructure Security in Amazon Managed Streaming for Apache Kafka"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/infrastructure-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/infrastructure-security.html#infrastructure-security",
"main_header": "Infrastructure Security in Amazon Managed Streaming for Apache Kafka",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#client-access",
"text": "Connecting to an Amazon MSK Cluster"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html#client-access",
"main_header": "Connecting to an Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#public-access",
"text": "Public access"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html#public-access",
"main_header": "Public access",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#public-access",
"text": "Public access"
},
"links": [
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Internet_Gateway.html",
"title": "Internet gateways"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html",
"title": "Updating a cluster's security settings"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html",
"title": "Updating a cluster's security settings"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html",
"title": "Amazon MSK Configuration Operations"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"title": "IAM access control"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-acls.html",
"title": "Apache Kafka ACLs"
}
],
"text": "The subnets that are associated with the cluster must be public. This means that the subnets must have an associated route table with an internet gateway attached. For information about how to create and attach an internet gateway, see Internet gateways in the Amazon VPC user guide.Unauthenticated access control must be off and at least one of the following access-control methods must be on: SASL/IAM, SASL/SCRAM, mTLS. For information about how to update the access-control method of a cluster, see Updating a cluster's security settings.\nEncryption within the cluster must be turned on. The on setting is the default when creating a cluster. It's not possible to turn on encryption within the cluster for a cluster that was created with it turned off. It is therefore not possible to turn on public access for a cluster that was created with encryption within the cluster turned off.\n\nPlaintext traffic between brokers and clients must be off. For information about how to turn it off if it's on, see Updating a cluster's security settings.\n\nIf you are using the SASL/SCRAM or mTLS access-control methods, you must set Apache Kafka ACLs for your cluster. After you set the Apache Kafka ACLs for your cluster, update the cluster's configuration to have the property allow.everyone.if.no.acl.found to false for the cluster. For information about how to update the configuration of a cluster, see Amazon MSK Configuration Operations. If you are using IAM access control and want to apply authorization policies or update your authorization policies, see IAM access control. For information about Apache Kafka ACLs, see Apache Kafka ACLs.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html#public-access",
"main_header": "Public access",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#public-access",
"text": "Public access"
},
"links": [
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html",
"title": "Security groups for your VPC"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/port-info.html",
"title": "Port information"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/change-security-group.html",
"title": "Changing an Amazon MSK cluster's security group"
}
],
"text": "ImportantIn addition to turning on public access, ensure that the cluster's security groups have inbound TCP rules that allow public access from your IP address. We recommend that you make these rules as restrictive as possible. For information about security groups and inbound rules, see Security groups for your VPC in the Amazon VPC User Guide. For port numbers, see Port information. For instructions on how to change a cluster's security group, see Changing an Amazon MSK cluster's security group.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html#public-access",
"main_header": "Public access",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#public-access",
"text": "Public access"
},
"links": [],
"text": "Important",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html#public-access",
"main_header": "Public access",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#public-access",
"text": "Public access"
},
"links": [
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html",
"title": "Security groups for your VPC"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/port-info.html",
"title": "Port information"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/change-security-group.html",
"title": "Changing an Amazon MSK cluster's security group"
}
],
"text": "In addition to turning on public access, ensure that the cluster's security groups have inbound TCP rules that allow public access from your IP address. We recommend that you make these rules as restrictive as possible. For information about security groups and inbound rules, see Security groups for your VPC in the Amazon VPC User Guide. For port numbers, see Port information. For instructions on how to change a cluster's security group, see Changing an Amazon MSK cluster's security group.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html#public-access",
"main_header": "Public access",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#public-access",
"text": "Public access"
},
"links": [
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html",
"title": "Security groups for your VPC"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/port-info.html",
"title": "Port information"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/change-security-group.html",
"title": "Changing an Amazon MSK cluster's security group"
}
],
"text": "In addition to turning on public access, ensure that the cluster's security groups have inbound TCP rules that allow public access from your IP address. We recommend that you make these rules as restrictive as possible. For information about security groups and inbound rules, see Security groups for your VPC in the Amazon VPC User Guide. For port numbers, see Port information. For instructions on how to change a cluster's security group, see Changing an Amazon MSK cluster's security group.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html#public-access",
"main_header": "Public access",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#public-access",
"text": "Public access"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#public-access-issues",
"title": "Unable to access cluster that has public access turned on"
}
],
"text": "NoteIf you use the following instructions to turn on public access and then still cannot access the cluster, see Unable to access cluster that has public access turned on.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html#public-access",
"main_header": "Public access",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#public-access",
"text": "Public access"
},
"links": [],
"text": "Note",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html#public-access",
"main_header": "Public access",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#public-access",
"text": "Public access"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#public-access-issues",
"title": "Unable to access cluster that has public access turned on"
}
],
"text": "If you use the following instructions to turn on public access and then still cannot access the cluster, see Unable to access cluster that has public access turned on.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html#public-access",
"main_header": "Public access",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#public-access",
"text": "Public access"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#public-access-issues",
"title": "Unable to access cluster that has public access turned on"
}
],
"text": "If you use the following instructions to turn on public access and then still cannot access the cluster, see Unable to access cluster that has public access turned on.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html#public-access",
"main_header": "Public access",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#public-access",
"text": "Public access"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/home?region=us-east-1#/home/",
"title": "https://console.aws.amazon.com/msk/home?region=us-east-1#/home/"
}
],
"text": "Turning on public access using the consoleSign in to the AWS Management Console, and open the Amazon MSK console at https://console.aws.amazon.com/msk/home?region=us-east-1#/home/.In the list of clusters, choose the cluster to which you want to turn on public access.\nIn the Details page of the cluster, find the Network settings section.\n\nChoose Edit public access.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html#public-access",
"main_header": "Public access",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#public-access",
"text": "Public access"
},
"links": [],
"text": "Turning on public access using the console",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html#public-access",
"main_header": "Public access",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#public-access",
"text": "Public access"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/clusters-clusterarn.html#DescribeCluster",
"title": "DescribeCluster"
},
{
"url": "https://awscli.amazonaws.com/v2/documentation/api/latest/reference/kafka/describe-cluster.html",
"title": "describe-cluster"
}
],
"text": "Turning on public access using the AWS CLIRun the following AWS CLI command, replacing ClusterArn and Current-Cluster-Version with the ARN and current version of the cluster. To find the current version of the cluster, use the DescribeCluster operation or the describe-cluster AWS CLI command. An example version is KTVPDKIKX0DER.\naws kafka update-connectivity --cluster-arn ClusterArn --current-version Current-Cluster-Version --connectivity-info '{\"PublicAccess\": {\"Type\": \"SERVICE_PROVIDED_EIPS\"}}'\nThe output of this update-connectivity command looks like the following JSON example.\n{ \"ClusterArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2\", \"ClusterOperationArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster-operation/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2/0123abcd-abcd-4f7f-1234-9876543210ef\"\n}\nNoteTo turn off public access, use a similar AWS CLI command, but with the following connectivity info instead:'{\"PublicAccess\": {\"Type\": \"DISABLED\"}}'\n\nTo get the result of the update-connectivity operation, run the following command, replacing ClusterOperationArn with the ARN that you obtained in the output of the update-connectivity command.\naws kafka describe-cluster-operation --cluster-operation-arn ClusterOperationArn\nThe output of this describe-cluster-operation command looks like the following JSON example.\n{ \"ClusterOperationInfo\": { \"ClientRequestId\": \"982168a3-939f-11e9-8a62-538df00285db\", \"ClusterArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2\", \"CreationTime\": \"2019-06-20T21:08:57.735Z\", \"OperationArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster-operation/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2/0123abcd-abcd-4f7f-1234-9876543210ef\", \"OperationState\": \"UPDATE_COMPLETE\", \"OperationType\": \"UPDATE_CONNECTIVITY\", \"SourceClusterInfo\": { \"ConnectivityInfo\": { \"PublicAccess\": { \"Type\": \"DISABLED\" } } }, \"TargetClusterInfo\": { \"ConnectivityInfo\": { \"PublicAccess\": { \"Type\": \"SERVICE_PROVIDED_EIPS\" } } } }\n}\nIf OperationState has the value UPDATE_IN_PROGRESS, wait a while, then run the describe-cluster-operation command again.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html#public-access",
"main_header": "Public access",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#public-access",
"text": "Public access"
},
"links": [],
"text": "Turning on public access using the AWS CLI",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html#public-access",
"main_header": "Public access",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#public-access",
"text": "Public access"
},
"links": [
{
"url": "https://docs.aws.amazon.com//msk/1.0/apireference/clusters-clusterarn-connectivity.html#UpdateConnectivityn",
"title": "UpdateConnectivity"
}
],
"text": "Turning on public access using the Amazon MSK APITo use the API to turn public access to a cluster on or off, see UpdateConnectivity.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html#public-access",
"main_header": "Public access",
"images": [],
"container_type": "div",
"children_tags": [
"p",
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#public-access",
"text": "Public access"
},
"links": [],
"text": "Turning on public access using the Amazon MSK API",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html#public-access",
"main_header": "Public access",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#public-access",
"text": "Public access"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html",
"title": "Controlling Access to Apache ZooKeeper"
}
],
"text": "NoteFor security reasons, Amazon MSK doesn't allow public access to Apache ZooKeeper nodes. For information about how to control access to the Apache ZooKeeper nodes of your MSK cluster from within AWS, see Controlling Access to Apache ZooKeeper.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html#public-access",
"main_header": "Public access",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#public-access",
"text": "Public access"
},
"links": [],
"text": "Note",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html#public-access",
"main_header": "Public access",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#public-access",
"text": "Public access"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html",
"title": "Controlling Access to Apache ZooKeeper"
}
],
"text": "For security reasons, Amazon MSK doesn't allow public access to Apache ZooKeeper nodes. For information about how to control access to the Apache ZooKeeper nodes of your MSK cluster from within AWS, see Controlling Access to Apache ZooKeeper.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html#public-access",
"main_header": "Public access",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#public-access",
"text": "Public access"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html",
"title": "Controlling Access to Apache ZooKeeper"
}
],
"text": "For security reasons, Amazon MSK doesn't allow public access to Apache ZooKeeper nodes. For information about how to control access to the Apache ZooKeeper nodes of your MSK cluster from within AWS, see Controlling Access to Apache ZooKeeper.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html#public-access",
"main_header": "Public access",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#aws-access",
"text": "Access from within AWS but outside cluster's VPC"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/aws-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/aws-access.html#aws-access",
"main_header": "Access from within AWS but outside cluster's VPC",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#aws-access",
"text": "Access from within AWS but outside cluster's VPC"
},
"h2": {
"urllink": "#accessing-cluster-from-ec2-classic",
"text": "EC2-Classic"
},
"links": [
{
"url": "https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/vpc-classiclink.html",
"title": "ClassicLink"
},
{
"url": "https://console.aws.amazon.com/vpc/",
"title": "https://console.aws.amazon.com/vpc/"
}
],
"text": "Follow the guidance described in ClassicLink to connect your EC2-Classic instance to your cluster's VPC.\n\nFind and copy the private IP associated with your EC2-Classic instance.\n\nUsing the AWS CLI, run the following command, replacing ClusterArn with the Amazon Resource Name (ARN) for your MSK cluster.\naws kafka describe-cluster --cluster-arn \"ClusterArn\"\n\nIn the output of the describe-cluster command, look for SecurityGroups and save the ID of the security group for your MSK cluster.\nOpen the Amazon VPC console at https://console.aws.amazon.com/vpc/.\nIn the left pane, choose Security Groups.\n\nChoose the security group whose ID you saved after you ran the describe-cluster command. Select the box at the beginning of the row corresponding to this security group.\n\nIn the lower half of the page, choose Inbound Rules.\n\nChoose Edit rules, then choose Add Rule.\n\nFor the Type field, choose All traffic in the drop-down list.\n\nLeave the Source set to Custom and enter the private IP of your EC2-Classic instance, followed immediately by /32 with no intervening spaces.\n\nChoose Save rules.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/aws-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/aws-access.html#accessing-cluster-from-ec2-classic",
"main_header": "EC2-Classic",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#port-info",
"text": "Port information"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/port-info.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/port-info.html#port-info",
"main_header": "Port information",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#port-info",
"text": "Port information"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"title": "IAM access control"
}
],
"text": "To communicate with brokers in plaintext, use port 9092.\n\nTo communicate with brokers by using TLS encryption, use port 9094 for access from within AWS and port 9194 for public access.\n\nTo communicate with brokers by using SASL/SCRAM, use port is 9096 for access from within AWS and port 9196 for public access.\n\nTo communicate with brokers in a cluster that is set up to use IAM access control, use port 9098 for access from within AWS and port 9198 for public access.\n\nApache ZooKeeper nodes use port 2181 by default. To communicate with Apache ZooKeeper by using TLS encryption, use port 2182.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/port-info.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/port-info.html#port-info",
"main_header": "Port information",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#migration",
"text": "Migrating Clusters Using Apache Kafka's MirrorMaker"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/migration.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/migration.html#migration",
"main_header": "Migrating Clusters Using Apache Kafka's MirrorMaker",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#migration",
"text": "Migrating Clusters Using Apache Kafka's MirrorMaker"
},
"links": [],
"text": "An outline of the steps to follow when using MirrorMaker to migrate to an MSK clusterCreate the destination MSK clusterStart MirrorMaker from an Amazon EC2 instance within the same Amazon VPC as the destination cluster.\nInspect the MirrorMaker lag.\n\nAfter MirrorMaker catches up, redirect producers and consumers to the new cluster using the MSK cluster bootstrap brokers.\n\nShut down MirrorMaker.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/migration.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/migration.html#migration",
"main_header": "Migrating Clusters Using Apache Kafka's MirrorMaker",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#migration",
"text": "Migrating Clusters Using Apache Kafka's MirrorMaker"
},
"links": [],
"text": "An outline of the steps to follow when using MirrorMaker to migrate to an MSK cluster",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/migration.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/migration.html#migration",
"main_header": "Migrating Clusters Using Apache Kafka's MirrorMaker",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#migration",
"text": "Migrating Clusters Using Apache Kafka's MirrorMaker"
},
"h2": {
"urllink": "#migrate-on-prem-to-msk",
"text": "Migrating Your Apache Kafka Cluster to Amazon MSK"
},
"links": [],
"text": "To migrate your existing Apache Kafka cluster to Amazon MSK\nIn CLUSTER_AWSMSK, create all the topics that you want to migrate. \nYou can't use MirrorMaker for this step because it doesn't automatically re-create the topics that you want to migrate with the right replication level. You can create the topics in Amazon MSK with the same replication factors and numbers of partitions that they had in CLUSTER_ONPREM. You can also create the topics with different replication factors and numbers of partitions.\n\nStart MirrorMaker from an instance that has read access to CLUSTER_ONPREM and write access to CLUSTER_AWSMSK.\n\nRun the following command to mirror all topics:\n./bin/kafka-mirror-maker.sh --consumer.config config/mirrormaker-consumer.properties --producer.config config/mirrormaker-producer.properties --whitelist '.*'\nIn this command, config/mirrormaker-consumer.properties points to a bootstrap broker in CLUSTER_ONPREM; for example, bootstrap.servers=localhost:9092. And config/mirrormaker-producer.properties points to a bootstrap broker in CLUSTER_AWSMSK; for example, bootstrap.servers=10.0.0.237:9092,10.0.2.196:9092,10.0.1.233:9092. Keep MirrorMaker running in the background, and continue to use CLUSTER_ONPREM. MirrorMaker mirrors all new data. Check the progress of mirroring by inspecting the lag between the last offset for each topic and the current offset from which MirrorMaker is consuming. \nRemember that MirrorMaker is simply using a consumer and a producer. So, you can check the lag using the kafka-consumer-groups.sh tool. To find the consumer group name, look inside the mirrormaker-consumer.properties file for the group.id, and use its value. If there is no such key in the file, you can create it. For example, set group.id=mirrormaker-consumer-group. After MirrorMaker finishes mirroring all topics, stop all producers and consumers, and then stop MirrorMaker. Then redirect the producers and consumers to the CLUSTER_AWSMSK cluster by changing their producer and consumer bootstrap brokers values. Restart all producers and consumers on CLUSTER_AWSMSK.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/migration.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/migration.html#migrate-on-prem-to-msk",
"main_header": "Migrating Your Apache Kafka Cluster to Amazon MSK",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#migration",
"text": "Migrating Clusters Using Apache Kafka's MirrorMaker"
},
"h2": {
"urllink": "#migrate-on-prem-to-msk",
"text": "Migrating Your Apache Kafka Cluster to Amazon MSK"
},
"links": [],
"text": "To migrate your existing Apache Kafka cluster to Amazon MSK",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/migration.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/migration.html#migrate-on-prem-to-msk",
"main_header": "Migrating Your Apache Kafka Cluster to Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#migration",
"text": "Migrating Clusters Using Apache Kafka's MirrorMaker"
},
"h2": {
"urllink": "#mirrormaker-best-practices",
"text": "MirrorMaker 1.0 Best Practices"
},
"links": [],
"text": "Run MirrorMaker on the destination cluster. This way, if a network problem happens, the messages are still available in the source cluster. If you run MirrorMaker on the source cluster and events are buffered in the producer and there is a network issue, events might be lost. If encryption is required in transit, run it in the source cluster.\nFor consumers, set auto.commit.enabled=falseFor producers, set max.in.flight.requests.per.connection=1retries=Int.Max_Valueacks=allmax.block.ms = Long.Max_Value\nFor a high producer throughput:\n\nBuffer messages and fill message batches \u00e2\u0080\u0094 tune buffer.memory, batch.size, linger.msTune socket buffers \u00e2\u0080\u0094 receive.buffer.bytes, send.buffer.bytes\nTo avoid data loss, turn off auto commit at the source, so that MirrorMaker can control the commits, which it typically does after it receives the ack from the destination cluster. If the producer has acks=all and the destination cluster has min.insync.replicas set to more than 1, the messages are persisted on more than one broker at the destination before the MirrorMaker consumer commits the offset at the source.\nIf order is important, you can set retries to 0. Alternatively, for a production environment, set max inflight connections to 1 to ensure that the batches sent out are not committed out of order if a batch fails in the middle. This way, each batch sent is retried until the next batch is sent out. If max.block.ms is not set to the maximum value, and if the producer buffer is full, there can be data loss (depending on some of the other settings). This can block and back-pressure the consumer.\n\nFor high throughput Increase buffer.memory.\n\nIncrease batch size.\n\nTune linger.ms to allow the batches to fill. This also allows for better compression, less network bandwidth usage, and less storage on the cluster. This results in increased retention. Monitor CPU and memory usage. For high consumer throughput Increase the number of threads/consumers per MirrorMaker process \u00e2\u0080\u0094 num.streams.\n\nIncrease the number of MirrorMaker processes across machines first before increasing threads to allow for high availability.\n\nIncrease the number of MirrorMaker processes first on the same machine and then on different machines (with the same group ID).\n\nIsolate topics that have very high throughput and use separate MirrorMaker instances.\n\nFor management and configuration Use AWS CloudFormation and configuration management tools like Chef and Ansible.\n\nUse Amazon EFS mounts to keep all configuration files accessible from all Amazon EC2 instances.\n\nUse containers for easy scaling and management of MirrorMaker instances.\n\nTypically, it takes more than one consumer to saturate a producer in MirrorMaker. So, set up multiple consumers. First, set them up on different machines to provide high availability. Then, scale individual machines up to having a consumer for each partition, with consumers equally distributed across machines.\nFor high throughput ingestion and delivery, tune the receive and send buffers because their defaults might be too low. For maximum performance, ensure that the total number of streams (num.streams) matches all of the topic partitions that MirrorMaker is trying to copy to the destination cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/migration.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/migration.html#mirrormaker-best-practices",
"main_header": "MirrorMaker 1.0 Best Practices",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#migration",
"text": "Migrating Clusters Using Apache Kafka's MirrorMaker"
},
"h2": {
"urllink": "#mirrormaker-v2",
"text": "MirrorMaker 2.* Advantages"
},
"links": [],
"text": "Makes use of the Apache Kafka Connect framework and ecosystem.Detects new topics and partitions.Automatically syncs topic configuration between clusters.Supports \"active/active\" cluster pairs, as well as any number of active clusters.\nProvides new metrics including end-to-end replication latency across multiple data centers and clusters.\n\nEmits offsets required to migrate consumers between clusters and provides tooling for offset translation.\n\nSupports a high-level configuration file for specifying multiple clusters and replication flows in one place, compared to low-level producer/consumer properties for each MirrorMaker 1.* process.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/migration.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/migration.html#mirrormaker-v2",
"main_header": "MirrorMaker 2.* Advantages",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#monitoring",
"text": "Monitoring an Amazon MSK Cluster"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html#monitoring",
"main_header": "Monitoring an Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#metrics-details",
"text": "Amazon MSK Metrics for Monitoring with CloudWatch"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html#metrics-details",
"main_header": "Amazon MSK Metrics for Monitoring with CloudWatch",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#metrics-details",
"text": "Amazon MSK Metrics for Monitoring with CloudWatch"
},
"h2": {
"urllink": "#default-metrics",
"text": "DEFAULT Level Monitoring"
},
"links": [
{
"url": "https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-volume-types.html#IOcredit",
"title": "I/O Credits and burst performance"
}
],
"text": "Metrics available at the DEFAULT monitoring level\n\nName\nWhen Visible\nDimensions\nDescription ActiveControllerCount\nAfter the cluster gets to the ACTIVE state.\nCluster Name\nOnly one controller per cluster should be active at any given time. BurstBalance\n\nAfter the cluster gets to the ACTIVE state. Cluster Name , Broker ID The remaining balance of input-output burst credits for EBS volumes in the cluster. Use it to investigate latency or decreased throughput.\nBurstBalance is not reported for EBS volumes when the baseline performance of a volume is higher than the maximum burst performance. For more information, see I/O Credits and burst performance. BytesInPerSec\nAfter you create a topic.\nCluster Name, Broker ID, Topic\nThe number of bytes per second received from clients. This metric is available per broker and also per topic. BytesOutPerSec\nAfter you create a topic.\nCluster Name, Broker ID, Topic\nThe number of bytes per second sent to clients. This metric is available per broker and also per topic. ConnectionCount\n\nAfter the cluster gets to the ACTIVE state. Cluster Name, Broker ID The number active Apache Kafka connections. CPUCreditBalance After the cluster gets to the ACTIVE state. Cluster Name, Broker ID This metric can help you monitor CPU credit balance on the brokers. If your CPU usage is sustained above the baseline level of 20% utilization, you can run out of the CPU credit balance, which can have a negative impact on cluster performance. You can take steps to reduce CPU load. For example, you can reduce the number of client requests or update the broker type to an M5 broker type. CpuIdle\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe percentage of CPU idle time. CpuSystem\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe percentage of CPU in kernel space. CpuUser\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe percentage of CPU in user space. GlobalPartitionCount\nAfter the cluster gets to the ACTIVE state.\nCluster Name\nThe number of partitions across all topics in the cluster, excluding replicas. Because GlobalPartitionCount doesn't include replicas, the sum of the PartitionCount values can be higher than GlobalPartitionCount if the replication factor for a topic is greater than 1. GlobalTopicCount\nAfter the cluster gets to the ACTIVE state.\nCluster Name\nTotal number of topics across all brokers in the cluster. EstimatedMaxTimeLag\nAfter consumer group consumes from a topic.\nConsumer Group, Topic\nTime estimate (in seconds) to drain MaxOffsetLag. KafkaAppLogsDiskUsed\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe percentage of disk space used for application logs. KafkaDataLogsDiskUsed (Cluster Name, Broker ID dimension)\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe percentage of disk space used for data logs. KafkaDataLogsDiskUsed (Cluster Name dimension)\nAfter the cluster gets to the ACTIVE state.\nCluster Name\nThe percentage of disk space used for data logs. LeaderCount\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe total number of leaders of partitions per broker, not including replicas. MaxOffsetLag\nAfter consumer group consumes from a topic.\nConsumer Group, Topic\nThe maximum offset lag across all partitions in a topic. MemoryBuffered\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe size in bytes of buffered memory for the broker. MemoryCached\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe size in bytes of cached memory for the broker. MemoryFree\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe size in bytes of memory that is free and available for the broker. HeapMemoryAfterGC After the cluster gets to the ACTIVE state. Cluster Name, Broker ID\n\nThe percentage of total heap memory available after garbage collection. MemoryUsed\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe size in bytes of memory that is in use for the broker. MessagesInPerSec\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe number of incoming messages per second for the broker. NetworkRxDropped\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe number of dropped receive packages. NetworkRxErrors\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe number of network receive errors for the broker. NetworkRxPackets\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe number of packets received by the broker. NetworkTxDropped\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe number of dropped transmit packages. NetworkTxErrors\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe number of network transmit errors for the broker. NetworkTxPackets\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe number of packets transmitted by the broker. OfflinePartitionsCount\nAfter the cluster gets to the ACTIVE state.\nCluster Name\nTotal number of partitions that are offline in the cluster. PartitionCount\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe total number of topic partitions per broker, including replicas. ProduceTotalTimeMsMean\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe mean produce time in milliseconds. RequestBytesMean\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe mean number of request bytes for the broker. RequestTime\nAfter request throttling is applied.\nCluster Name, Broker ID\nThe average time in milliseconds spent in broker network and I/O threads to process requests. RootDiskUsed\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe percentage of the root disk used by the broker. SumOffsetLag\nAfter consumer group consumes from a topic.\nConsumer Group, Topic\nThe aggregated offset lag for all the partitions in a topic. SwapFree\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe size in bytes of swap memory that is available for the broker. SwapUsed\n\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe size in bytes of swap memory that is in use for the broker. TrafficShaping After the cluster gets to the ACTIVE state. Cluster Name, Broker ID High-level metrics indicating the number of packets dropped due to exceeding network allocations. Finer detail is available with PER_BROKER metrics. UnderMinIsrPartitionCount\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe number of under minIsr partitions for the broker. UnderReplicatedPartitions\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe number of under-replicated partitions for the broker. ZooKeeperRequestLatencyMsMean\n\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe mean latency in milliseconds for Apache ZooKeeper requests from broker. ZooKeeperSessionState\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nConnection status of broker's ZooKeeper session which may be one of the following: NOT_CONNECTED: '0.0', ASSOCIATING: '0.1', CONNECTING: '0.5', CONNECTEDREADONLY: '0.8', CONNECTED: '1.0', CLOSED: '5.0', AUTH_FAILED: '10.0'.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html#default-metrics",
"main_header": "DEFAULT Level Monitoring",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#metrics-details",
"text": "Amazon MSK Metrics for Monitoring with CloudWatch"
},
"h2": {
"urllink": "#default-metrics",
"text": "DEFAULT Level Monitoring"
},
"links": [
{
"url": "https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-volume-types.html#IOcredit",
"title": "I/O Credits and burst performance"
}
],
"text": "Metrics available at the DEFAULT monitoring level\n\nName\nWhen Visible\nDimensions\nDescription ActiveControllerCount\nAfter the cluster gets to the ACTIVE state.\nCluster Name\nOnly one controller per cluster should be active at any given time. BurstBalance\n\nAfter the cluster gets to the ACTIVE state. Cluster Name , Broker ID The remaining balance of input-output burst credits for EBS volumes in the cluster. Use it to investigate latency or decreased throughput.\nBurstBalance is not reported for EBS volumes when the baseline performance of a volume is higher than the maximum burst performance. For more information, see I/O Credits and burst performance. BytesInPerSec\nAfter you create a topic.\nCluster Name, Broker ID, Topic\nThe number of bytes per second received from clients. This metric is available per broker and also per topic. BytesOutPerSec\nAfter you create a topic.\nCluster Name, Broker ID, Topic\nThe number of bytes per second sent to clients. This metric is available per broker and also per topic. ConnectionCount\n\nAfter the cluster gets to the ACTIVE state. Cluster Name, Broker ID The number active Apache Kafka connections. CPUCreditBalance After the cluster gets to the ACTIVE state. Cluster Name, Broker ID This metric can help you monitor CPU credit balance on the brokers. If your CPU usage is sustained above the baseline level of 20% utilization, you can run out of the CPU credit balance, which can have a negative impact on cluster performance. You can take steps to reduce CPU load. For example, you can reduce the number of client requests or update the broker type to an M5 broker type. CpuIdle\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe percentage of CPU idle time. CpuSystem\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe percentage of CPU in kernel space. CpuUser\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe percentage of CPU in user space. GlobalPartitionCount\nAfter the cluster gets to the ACTIVE state.\nCluster Name\nThe number of partitions across all topics in the cluster, excluding replicas. Because GlobalPartitionCount doesn't include replicas, the sum of the PartitionCount values can be higher than GlobalPartitionCount if the replication factor for a topic is greater than 1. GlobalTopicCount\nAfter the cluster gets to the ACTIVE state.\nCluster Name\nTotal number of topics across all brokers in the cluster. EstimatedMaxTimeLag\nAfter consumer group consumes from a topic.\nConsumer Group, Topic\nTime estimate (in seconds) to drain MaxOffsetLag. KafkaAppLogsDiskUsed\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe percentage of disk space used for application logs. KafkaDataLogsDiskUsed (Cluster Name, Broker ID dimension)\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe percentage of disk space used for data logs. KafkaDataLogsDiskUsed (Cluster Name dimension)\nAfter the cluster gets to the ACTIVE state.\nCluster Name\nThe percentage of disk space used for data logs. LeaderCount\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe total number of leaders of partitions per broker, not including replicas. MaxOffsetLag\nAfter consumer group consumes from a topic.\nConsumer Group, Topic\nThe maximum offset lag across all partitions in a topic. MemoryBuffered\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe size in bytes of buffered memory for the broker. MemoryCached\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe size in bytes of cached memory for the broker. MemoryFree\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe size in bytes of memory that is free and available for the broker. HeapMemoryAfterGC After the cluster gets to the ACTIVE state. Cluster Name, Broker ID\n\nThe percentage of total heap memory available after garbage collection. MemoryUsed\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe size in bytes of memory that is in use for the broker. MessagesInPerSec\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe number of incoming messages per second for the broker. NetworkRxDropped\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe number of dropped receive packages. NetworkRxErrors\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe number of network receive errors for the broker. NetworkRxPackets\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe number of packets received by the broker. NetworkTxDropped\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe number of dropped transmit packages. NetworkTxErrors\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe number of network transmit errors for the broker. NetworkTxPackets\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe number of packets transmitted by the broker. OfflinePartitionsCount\nAfter the cluster gets to the ACTIVE state.\nCluster Name\nTotal number of partitions that are offline in the cluster. PartitionCount\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe total number of topic partitions per broker, including replicas. ProduceTotalTimeMsMean\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe mean produce time in milliseconds. RequestBytesMean\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe mean number of request bytes for the broker. RequestTime\nAfter request throttling is applied.\nCluster Name, Broker ID\nThe average time in milliseconds spent in broker network and I/O threads to process requests. RootDiskUsed\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe percentage of the root disk used by the broker. SumOffsetLag\nAfter consumer group consumes from a topic.\nConsumer Group, Topic\nThe aggregated offset lag for all the partitions in a topic. SwapFree\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe size in bytes of swap memory that is available for the broker. SwapUsed\n\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe size in bytes of swap memory that is in use for the broker. TrafficShaping After the cluster gets to the ACTIVE state. Cluster Name, Broker ID High-level metrics indicating the number of packets dropped due to exceeding network allocations. Finer detail is available with PER_BROKER metrics. UnderMinIsrPartitionCount\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe number of under minIsr partitions for the broker. UnderReplicatedPartitions\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe number of under-replicated partitions for the broker. ZooKeeperRequestLatencyMsMean\n\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nThe mean latency in milliseconds for Apache ZooKeeper requests from broker. ZooKeeperSessionState\nAfter the cluster gets to the ACTIVE state.\nCluster Name, Broker ID\nConnection status of broker's ZooKeeper session which may be one of the following: NOT_CONNECTED: '0.0', ASSOCIATING: '0.1', CONNECTING: '0.5', CONNECTEDREADONLY: '0.8', CONNECTED: '1.0', CLOSED: '5.0', AUTH_FAILED: '10.0'.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html#default-metrics",
"main_header": "DEFAULT Level Monitoring",
"images": [],
"container_type": "div",
"children_tags": [
"table"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#metrics-details",
"text": "Amazon MSK Metrics for Monitoring with CloudWatch"
},
"h2": {
"urllink": "#broker-metrics",
"text": "PER_BROKER Level Monitoring"
},
"links": [],
"text": "Additional metrics that are available starting at the PER_BROKER monitoring level Name\nWhen Visible\nDescription BwInAllowanceExceeded\nAfter the cluster gets to the ACTIVE state.\n\nThe number of packets shaped because the inbound aggregate bandwidth exceeded the maximum for the broker. BwOutAllowanceExceeded\nAfter the cluster gets to the ACTIVE state.\n\nThe number of packets shaped because the outbound aggregate bandwidth exceeded the maximum for the broker. ConnTrackAllowanceExceeded\n\nAfter the cluster gets to the ACTIVE state.\n\nThe number of packets shaped because the connection tracking exceeded the maximum for the broker. Connection tracking is related to security groups that track each connection established to ensure that return packets are delivered as expected. ConnectionCloseRate\nAfter the cluster gets to the ACTIVE state.\n\nThe number of connections closed per second per listener. This number is aggregated per listener and filtered for the client listeners. ConnectionCreationRate\nAfter the cluster gets to the ACTIVE state.\n\nThe number of new connections established per second per listener. This number is aggregated per listener and filtered for the client listeners. CpuCreditUsage\nAfter the cluster gets to the ACTIVE state.\n\nThis metric can help you monitor CPU credit usage on the instances. If your CPU usage is sustained above the baseline level of 20%, you can run out of the CPU credit balance, which can have a negative impact on cluster performance. You can monitor and alarm on this metric to take corrective actions. FetchConsumerLocalTimeMsMean\nAfter there's a producer/consumer.\nThe mean time in milliseconds that the consumer request is processed at the leader. FetchConsumerRequestQueueTimeMsMean\nAfter there's a producer/consumer.\nThe mean time in milliseconds that the consumer request waits in the request queue. FetchConsumerResponseQueueTimeMsMean\nAfter there's a producer/consumer.\nThe mean time in milliseconds that the consumer request waits in the response queue. FetchConsumerResponseSendTimeMsMean\nAfter there's a producer/consumer.\nThe mean time in milliseconds for the consumer to send a response. FetchConsumerTotalTimeMsMean\nAfter there's a producer/consumer.\nThe mean total time in milliseconds that consumers spend on fetching data from the broker. FetchFollowerLocalTimeMsMean\nAfter there's a producer/consumer.\nThe mean time in milliseconds that the follower request is processed at the leader. FetchFollowerRequestQueueTimeMsMean\nAfter there's a producer/consumer.\nThe mean time in milliseconds that the follower request waits in the request queue. FetchFollowerResponseQueueTimeMsMean\nAfter there's a producer/consumer.\nThe mean time in milliseconds that the follower request waits in the response queue. FetchFollowerResponseSendTimeMsMean\nAfter there's a producer/consumer.\nThe mean time in milliseconds for the follower to send a response. FetchFollowerTotalTimeMsMean\nAfter there's a producer/consumer.\nThe mean total time in milliseconds that followers spend on fetching data from the broker. FetchMessageConversionsPerSec\nAfter you create a topic.\nThe number of fetch message conversions per second for the broker. FetchThrottleByteRate\nAfter bandwidth throttling is applied.\nThe number of throttled bytes per second. FetchThrottleQueueSize\nAfter bandwidth throttling is applied.\nThe number of messages in the throttle queue. FetchThrottleTime\nAfter bandwidth throttling is applied.\nThe average fetch throttle time in milliseconds. NetworkProcessorAvgIdlePercent\nAfter the cluster gets to the ACTIVE state.\nThe average percentage of the time the network processors are idle. PpsAllowanceExceeded\nAfter the cluster gets to the ACTIVE state.\n\nThe number of packets shaped because the bidirectional PPS exceeded the maximum for the broker. ProduceLocalTimeMsMean\nAfter the cluster gets to the ACTIVE state.\nThe mean time in milliseconds for the follower to send a response. ProduceMessageConversionsPerSec\nAfter you create a topic.\nThe number of produce message conversions per second for the broker. ProduceMessageConversionsTimeMsMean\nAfter the cluster gets to the ACTIVE state.\nThe mean time in milliseconds spent on message format conversions. ProduceRequestQueueTimeMsMean\nAfter the cluster gets to the ACTIVE state.\nThe mean time in milliseconds that request messages spend in the queue. ProduceResponseQueueTimeMsMean\nAfter the cluster gets to the ACTIVE state.\nThe mean time in milliseconds that response messages spend in the queue. ProduceResponseSendTimeMsMean\nAfter the cluster gets to the ACTIVE state.\nThe mean time in milliseconds spent on sending response messages. ProduceThrottleByteRate\nAfter bandwidth throttling is applied.\nThe number of throttled bytes per second. ProduceThrottleQueueSize\nAfter bandwidth throttling is applied.\nThe number of messages in the throttle queue. ProduceThrottleTime\nAfter bandwidth throttling is applied.\nThe average produce throttle time in milliseconds. ProduceTotalTimeMsMean\nAfter the cluster gets to the ACTIVE state.\nThe mean produce time in milliseconds. ReplicationBytesInPerSec\nAfter you create a topic.\nThe number of bytes per second received from other brokers. ReplicationBytesOutPerSec\nAfter you create a topic.\nThe number of bytes per second sent to other brokers. RequestExemptFromThrottleTime\nAfter request throttling is applied.\nThe average time in milliseconds spent in broker network and I/O threads to process requests that are exempt from throttling. RequestHandlerAvgIdlePercent\nAfter the cluster gets to the ACTIVE state.\nThe average percentage of the time the request handler threads are idle. RequestThrottleQueueSize\nAfter request throttling is applied.\nThe number of messages in the throttle queue. RequestThrottleTime\nAfter request throttling is applied.\nThe average request throttle time in milliseconds. TcpConnections\nAfter the cluster gets to the ACTIVE state.\n\nShows number of incoming and outgoing TCP segments with the SYN flag set. TrafficBytes\nAfter the cluster gets to the ACTIVE state.\n\nShows network traffic in overall bytes between clients (producers and consumers) and brokers. Traffic between brokers isn't reported. VolumeQueueLength\nAfter the cluster gets to the ACTIVE state.\n\nThe number of read and write operation requests waiting to be completed in a specified time period. VolumeReadBytes\n\nAfter the cluster gets to the ACTIVE state.\n\nThe number of bytes read in a specified time period. VolumeReadOps\n\nAfter the cluster gets to the ACTIVE state.\n\nThe number of read operations in a specified time period. VolumeTotalReadTime\n\nAfter the cluster gets to the ACTIVE state.\n\nThe total number of seconds spent by all read operations that completed in a specified time period. VolumeTotalWriteTime\n\nAfter the cluster gets to the ACTIVE state.\n\nThe total number of seconds spent by all write operations that completed in a specified time period. VolumeWriteBytes\n\nAfter the cluster gets to the ACTIVE state.\n\nThe number of bytes written in a specified time period. VolumeWriteOps\n\nAfter the cluster gets to the ACTIVE state.\n\nThe number of write operations in a specified time period.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html#broker-metrics",
"main_header": "PER_BROKER Level Monitoring",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#metrics-details",
"text": "Amazon MSK Metrics for Monitoring with CloudWatch"
},
"h2": {
"urllink": "#broker-metrics",
"text": "PER_BROKER Level Monitoring"
},
"links": [],
"text": "Additional metrics that are available starting at the PER_BROKER monitoring level Name\nWhen Visible\nDescription BwInAllowanceExceeded\nAfter the cluster gets to the ACTIVE state.\n\nThe number of packets shaped because the inbound aggregate bandwidth exceeded the maximum for the broker. BwOutAllowanceExceeded\nAfter the cluster gets to the ACTIVE state.\n\nThe number of packets shaped because the outbound aggregate bandwidth exceeded the maximum for the broker. ConnTrackAllowanceExceeded\n\nAfter the cluster gets to the ACTIVE state.\n\nThe number of packets shaped because the connection tracking exceeded the maximum for the broker. Connection tracking is related to security groups that track each connection established to ensure that return packets are delivered as expected. ConnectionCloseRate\nAfter the cluster gets to the ACTIVE state.\n\nThe number of connections closed per second per listener. This number is aggregated per listener and filtered for the client listeners. ConnectionCreationRate\nAfter the cluster gets to the ACTIVE state.\n\nThe number of new connections established per second per listener. This number is aggregated per listener and filtered for the client listeners. CpuCreditUsage\nAfter the cluster gets to the ACTIVE state.\n\nThis metric can help you monitor CPU credit usage on the instances. If your CPU usage is sustained above the baseline level of 20%, you can run out of the CPU credit balance, which can have a negative impact on cluster performance. You can monitor and alarm on this metric to take corrective actions. FetchConsumerLocalTimeMsMean\nAfter there's a producer/consumer.\nThe mean time in milliseconds that the consumer request is processed at the leader. FetchConsumerRequestQueueTimeMsMean\nAfter there's a producer/consumer.\nThe mean time in milliseconds that the consumer request waits in the request queue. FetchConsumerResponseQueueTimeMsMean\nAfter there's a producer/consumer.\nThe mean time in milliseconds that the consumer request waits in the response queue. FetchConsumerResponseSendTimeMsMean\nAfter there's a producer/consumer.\nThe mean time in milliseconds for the consumer to send a response. FetchConsumerTotalTimeMsMean\nAfter there's a producer/consumer.\nThe mean total time in milliseconds that consumers spend on fetching data from the broker. FetchFollowerLocalTimeMsMean\nAfter there's a producer/consumer.\nThe mean time in milliseconds that the follower request is processed at the leader. FetchFollowerRequestQueueTimeMsMean\nAfter there's a producer/consumer.\nThe mean time in milliseconds that the follower request waits in the request queue. FetchFollowerResponseQueueTimeMsMean\nAfter there's a producer/consumer.\nThe mean time in milliseconds that the follower request waits in the response queue. FetchFollowerResponseSendTimeMsMean\nAfter there's a producer/consumer.\nThe mean time in milliseconds for the follower to send a response. FetchFollowerTotalTimeMsMean\nAfter there's a producer/consumer.\nThe mean total time in milliseconds that followers spend on fetching data from the broker. FetchMessageConversionsPerSec\nAfter you create a topic.\nThe number of fetch message conversions per second for the broker. FetchThrottleByteRate\nAfter bandwidth throttling is applied.\nThe number of throttled bytes per second. FetchThrottleQueueSize\nAfter bandwidth throttling is applied.\nThe number of messages in the throttle queue. FetchThrottleTime\nAfter bandwidth throttling is applied.\nThe average fetch throttle time in milliseconds. NetworkProcessorAvgIdlePercent\nAfter the cluster gets to the ACTIVE state.\nThe average percentage of the time the network processors are idle. PpsAllowanceExceeded\nAfter the cluster gets to the ACTIVE state.\n\nThe number of packets shaped because the bidirectional PPS exceeded the maximum for the broker. ProduceLocalTimeMsMean\nAfter the cluster gets to the ACTIVE state.\nThe mean time in milliseconds for the follower to send a response. ProduceMessageConversionsPerSec\nAfter you create a topic.\nThe number of produce message conversions per second for the broker. ProduceMessageConversionsTimeMsMean\nAfter the cluster gets to the ACTIVE state.\nThe mean time in milliseconds spent on message format conversions. ProduceRequestQueueTimeMsMean\nAfter the cluster gets to the ACTIVE state.\nThe mean time in milliseconds that request messages spend in the queue. ProduceResponseQueueTimeMsMean\nAfter the cluster gets to the ACTIVE state.\nThe mean time in milliseconds that response messages spend in the queue. ProduceResponseSendTimeMsMean\nAfter the cluster gets to the ACTIVE state.\nThe mean time in milliseconds spent on sending response messages. ProduceThrottleByteRate\nAfter bandwidth throttling is applied.\nThe number of throttled bytes per second. ProduceThrottleQueueSize\nAfter bandwidth throttling is applied.\nThe number of messages in the throttle queue. ProduceThrottleTime\nAfter bandwidth throttling is applied.\nThe average produce throttle time in milliseconds. ProduceTotalTimeMsMean\nAfter the cluster gets to the ACTIVE state.\nThe mean produce time in milliseconds. ReplicationBytesInPerSec\nAfter you create a topic.\nThe number of bytes per second received from other brokers. ReplicationBytesOutPerSec\nAfter you create a topic.\nThe number of bytes per second sent to other brokers. RequestExemptFromThrottleTime\nAfter request throttling is applied.\nThe average time in milliseconds spent in broker network and I/O threads to process requests that are exempt from throttling. RequestHandlerAvgIdlePercent\nAfter the cluster gets to the ACTIVE state.\nThe average percentage of the time the request handler threads are idle. RequestThrottleQueueSize\nAfter request throttling is applied.\nThe number of messages in the throttle queue. RequestThrottleTime\nAfter request throttling is applied.\nThe average request throttle time in milliseconds. TcpConnections\nAfter the cluster gets to the ACTIVE state.\n\nShows number of incoming and outgoing TCP segments with the SYN flag set. TrafficBytes\nAfter the cluster gets to the ACTIVE state.\n\nShows network traffic in overall bytes between clients (producers and consumers) and brokers. Traffic between brokers isn't reported. VolumeQueueLength\nAfter the cluster gets to the ACTIVE state.\n\nThe number of read and write operation requests waiting to be completed in a specified time period. VolumeReadBytes\n\nAfter the cluster gets to the ACTIVE state.\n\nThe number of bytes read in a specified time period. VolumeReadOps\n\nAfter the cluster gets to the ACTIVE state.\n\nThe number of read operations in a specified time period. VolumeTotalReadTime\n\nAfter the cluster gets to the ACTIVE state.\n\nThe total number of seconds spent by all read operations that completed in a specified time period. VolumeTotalWriteTime\n\nAfter the cluster gets to the ACTIVE state.\n\nThe total number of seconds spent by all write operations that completed in a specified time period. VolumeWriteBytes\n\nAfter the cluster gets to the ACTIVE state.\n\nThe number of bytes written in a specified time period. VolumeWriteOps\n\nAfter the cluster gets to the ACTIVE state.\n\nThe number of write operations in a specified time period.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html#broker-metrics",
"main_header": "PER_BROKER Level Monitoring",
"images": [],
"container_type": "div",
"children_tags": [
"table"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#metrics-details",
"text": "Amazon MSK Metrics for Monitoring with CloudWatch"
},
"h2": {
"urllink": "#broker-topic-metrics",
"text": "PER_TOPIC_PER_BROKER Level Monitoring"
},
"links": [],
"text": "ImportantFor an Amazon MSK cluster that uses Apache Kafka 2.4.1 or a newer version, the metrics in the following table appear only after their values become nonzero for the first time. For example, to see BytesInPerSec, one or more producers must first send data to the cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html#broker-topic-metrics",
"main_header": "PER_TOPIC_PER_BROKER Level Monitoring",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#metrics-details",
"text": "Amazon MSK Metrics for Monitoring with CloudWatch"
},
"h2": {
"urllink": "#broker-topic-metrics",
"text": "PER_TOPIC_PER_BROKER Level Monitoring"
},
"links": [],
"text": "Important",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html#broker-topic-metrics",
"main_header": "PER_TOPIC_PER_BROKER Level Monitoring",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#metrics-details",
"text": "Amazon MSK Metrics for Monitoring with CloudWatch"
},
"h2": {
"urllink": "#broker-topic-metrics",
"text": "PER_TOPIC_PER_BROKER Level Monitoring"
},
"links": [],
"text": "For an Amazon MSK cluster that uses Apache Kafka 2.4.1 or a newer version, the metrics in the following table appear only after their values become nonzero for the first time. For example, to see BytesInPerSec, one or more producers must first send data to the cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html#broker-topic-metrics",
"main_header": "PER_TOPIC_PER_BROKER Level Monitoring",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#metrics-details",
"text": "Amazon MSK Metrics for Monitoring with CloudWatch"
},
"h2": {
"urllink": "#broker-topic-metrics",
"text": "PER_TOPIC_PER_BROKER Level Monitoring"
},
"links": [],
"text": "For an Amazon MSK cluster that uses Apache Kafka 2.4.1 or a newer version, the metrics in the following table appear only after their values become nonzero for the first time. For example, to see BytesInPerSec, one or more producers must first send data to the cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html#broker-topic-metrics",
"main_header": "PER_TOPIC_PER_BROKER Level Monitoring",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#metrics-details",
"text": "Amazon MSK Metrics for Monitoring with CloudWatch"
},
"h2": {
"urllink": "#broker-topic-metrics",
"text": "PER_TOPIC_PER_BROKER Level Monitoring"
},
"links": [],
"text": "Additional metrics that are available starting at the PER_TOPIC_PER_BROKER monitoring level Name\nWhen Visible\nDescription FetchMessageConversionsPerSec\nAfter you create a topic.\nThe number of fetched messages converted per second. MessagesInPerSec\nAfter you create a topic.\nThe number of messages received per second. ProduceMessageConversionsPerSec\nAfter you create a topic.\nThe number of conversions per second for produced messages.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html#broker-topic-metrics",
"main_header": "PER_TOPIC_PER_BROKER Level Monitoring",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#metrics-details",
"text": "Amazon MSK Metrics for Monitoring with CloudWatch"
},
"h2": {
"urllink": "#broker-topic-metrics",
"text": "PER_TOPIC_PER_BROKER Level Monitoring"
},
"links": [],
"text": "Additional metrics that are available starting at the PER_TOPIC_PER_BROKER monitoring level Name\nWhen Visible\nDescription FetchMessageConversionsPerSec\nAfter you create a topic.\nThe number of fetched messages converted per second. MessagesInPerSec\nAfter you create a topic.\nThe number of messages received per second. ProduceMessageConversionsPerSec\nAfter you create a topic.\nThe number of conversions per second for produced messages.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html#broker-topic-metrics",
"main_header": "PER_TOPIC_PER_BROKER Level Monitoring",
"images": [],
"container_type": "div",
"children_tags": [
"table"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#metrics-details",
"text": "Amazon MSK Metrics for Monitoring with CloudWatch"
},
"h2": {
"urllink": "#topic-partition-metrics",
"text": "PER_TOPIC_PER_PARTITION Level Monitoring"
},
"links": [],
"text": "Additional metrics that are available starting at the PER_TOPIC_PER_PARTITION monitoring level Name\nWhen Visible\nDescription EstimatedTimeLag\nAfter consumer group consumes from a topic.\nTime estimate (in seconds) to drain the partition offset lag. OffsetLag\nAfter consumer group consumes from a topic.\nPartition-level consumer lag in number of offsets.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html#topic-partition-metrics",
"main_header": "PER_TOPIC_PER_PARTITION Level Monitoring",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#metrics-details",
"text": "Amazon MSK Metrics for Monitoring with CloudWatch"
},
"h2": {
"urllink": "#topic-partition-metrics",
"text": "PER_TOPIC_PER_PARTITION Level Monitoring"
},
"links": [],
"text": "Additional metrics that are available starting at the PER_TOPIC_PER_PARTITION monitoring level Name\nWhen Visible\nDescription EstimatedTimeLag\nAfter consumer group consumes from a topic.\nTime estimate (in seconds) to drain the partition offset lag. OffsetLag\nAfter consumer group consumes from a topic.\nPartition-level consumer lag in number of offsets.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html#topic-partition-metrics",
"main_header": "PER_TOPIC_PER_PARTITION Level Monitoring",
"images": [],
"container_type": "div",
"children_tags": [
"table"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#cloudwatch-metrics",
"text": "Viewing Amazon MSK Metrics Using CloudWatch"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cloudwatch-metrics.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cloudwatch-metrics.html#cloudwatch-metrics",
"main_header": "Viewing Amazon MSK Metrics Using CloudWatch",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#cloudwatch-metrics",
"text": "Viewing Amazon MSK Metrics Using CloudWatch"
},
"links": [
{
"url": "https://console.aws.amazon.com/cloudwatch/",
"title": "https://console.aws.amazon.com/cloudwatch/"
}
],
"text": "To access metrics using the CloudWatch consoleSign in to the AWS Management Console and open the CloudWatch console at https://console.aws.amazon.com/cloudwatch/.\nIn the navigation pane, choose Metrics.\n\nChoose the All metrics tab, and then choose AWS/Kafka.\n\nTo view topic-level metrics, choose Topic, Broker ID, Cluster Name; for broker-level metrics, choose Broker ID, Cluster Name; and for cluster-level metrics, choose Cluster Name.\n\n(Optional) In the graph pane, select a statistic and a time period, and then create a CloudWatch alarm using these settings.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cloudwatch-metrics.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cloudwatch-metrics.html#cloudwatch-metrics",
"main_header": "Viewing Amazon MSK Metrics Using CloudWatch",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#cloudwatch-metrics",
"text": "Viewing Amazon MSK Metrics Using CloudWatch"
},
"links": [],
"text": "To access metrics using the CloudWatch console",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cloudwatch-metrics.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cloudwatch-metrics.html#cloudwatch-metrics",
"main_header": "Viewing Amazon MSK Metrics Using CloudWatch",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#cloudwatch-metrics",
"text": "Viewing Amazon MSK Metrics Using CloudWatch"
},
"links": [
{
"url": "https://console.aws.amazon.com/cloudwatch/",
"title": "https://console.aws.amazon.com/cloudwatch/"
}
],
"text": "Sign in to the AWS Management Console and open the CloudWatch console at https://console.aws.amazon.com/cloudwatch/.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cloudwatch-metrics.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cloudwatch-metrics.html#cloudwatch-metrics",
"main_header": "Viewing Amazon MSK Metrics Using CloudWatch",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#consumer-lag",
"text": "Consumer-Lag Monitoring"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/consumer-lag.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/consumer-lag.html#consumer-lag",
"main_header": "Consumer-Lag Monitoring",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#consumer-lag",
"text": "Consumer-Lag Monitoring"
},
"links": [
{
"url": "https://console.aws.amazon.com/support/home#/",
"title": "create a support case"
}
],
"text": "NoteTo turn on consumer-lag monitoring for a cluster that was created before November 23, 2020, ensure that the cluster is running Apache Kafka 2.2.1 or a later version, then create a support case.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/consumer-lag.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/consumer-lag.html#consumer-lag",
"main_header": "Consumer-Lag Monitoring",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#consumer-lag",
"text": "Consumer-Lag Monitoring"
},
"links": [],
"text": "Note",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/consumer-lag.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/consumer-lag.html#consumer-lag",
"main_header": "Consumer-Lag Monitoring",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#consumer-lag",
"text": "Consumer-Lag Monitoring"
},
"links": [
{
"url": "https://console.aws.amazon.com/support/home#/",
"title": "create a support case"
}
],
"text": "To turn on consumer-lag monitoring for a cluster that was created before November 23, 2020, ensure that the cluster is running Apache Kafka 2.2.1 or a later version, then create a support case.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/consumer-lag.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/consumer-lag.html#consumer-lag",
"main_header": "Consumer-Lag Monitoring",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#consumer-lag",
"text": "Consumer-Lag Monitoring"
},
"links": [
{
"url": "https://console.aws.amazon.com/support/home#/",
"title": "create a support case"
}
],
"text": "To turn on consumer-lag monitoring for a cluster that was created before November 23, 2020, ensure that the cluster is running Apache Kafka 2.2.1 or a later version, then create a support case.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/consumer-lag.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/consumer-lag.html#consumer-lag",
"main_header": "Consumer-Lag Monitoring",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#open-monitoring",
"text": "Open Monitoring with Prometheus"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html#open-monitoring",
"main_header": "Open Monitoring with Prometheus",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#open-monitoring",
"text": "Open Monitoring with Prometheus"
},
"h2": {
"urllink": "#enable-open-monitoring-at-creation",
"text": "Creating an Amazon MSK Cluster with Open Monitoring Enabled"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/home?region=us-east-1#/home/",
"title": "https://console.aws.amazon.com/msk/home?region=us-east-1#/home/"
}
],
"text": "Using the AWS Management ConsoleSign in to the AWS Management Console, and open the Amazon MSK console at https://console.aws.amazon.com/msk/home?region=us-east-1#/home/.\nIn the Monitoring section, select the check box next to Enable open monitoring with Prometheus.\n\nProvide the required information in all the sections of the page, and review all the available options.\n\nChoose Create cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html#enable-open-monitoring-at-creation",
"main_header": "Creating an Amazon MSK Cluster with Open Monitoring Enabled",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#open-monitoring",
"text": "Open Monitoring with Prometheus"
},
"h2": {
"urllink": "#enable-open-monitoring-at-creation",
"text": "Creating an Amazon MSK Cluster with Open Monitoring Enabled"
},
"links": [],
"text": "Using the AWS Management Console",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html#enable-open-monitoring-at-creation",
"main_header": "Creating an Amazon MSK Cluster with Open Monitoring Enabled",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#open-monitoring",
"text": "Open Monitoring with Prometheus"
},
"h2": {
"urllink": "#enable-open-monitoring-at-creation",
"text": "Creating an Amazon MSK Cluster with Open Monitoring Enabled"
},
"links": [
{
"url": "https://docs.aws.amazon.com/cli/latest/reference/kafka/create-cluster.html",
"title": "create-cluster"
}
],
"text": "Using the AWS CLI\nInvoke the create-cluster command and specify its open-monitoring option. Enable the JmxExporter, the NodeExporter, or both. If you specify open-monitoring, the two exporters can't be disabled at the same time.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html#enable-open-monitoring-at-creation",
"main_header": "Creating an Amazon MSK Cluster with Open Monitoring Enabled",
"images": [],
"container_type": "div",
"children_tags": [
"p",
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#open-monitoring",
"text": "Open Monitoring with Prometheus"
},
"h2": {
"urllink": "#enable-open-monitoring-at-creation",
"text": "Creating an Amazon MSK Cluster with Open Monitoring Enabled"
},
"links": [],
"text": "Using the AWS CLI",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html#enable-open-monitoring-at-creation",
"main_header": "Creating an Amazon MSK Cluster with Open Monitoring Enabled",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#open-monitoring",
"text": "Open Monitoring with Prometheus"
},
"h2": {
"urllink": "#enable-open-monitoring-at-creation",
"text": "Creating an Amazon MSK Cluster with Open Monitoring Enabled"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/clusters.html#CreateCluster",
"title": "CreateCluster"
}
],
"text": "Using the API\nInvoke the CreateCluster operation and specify OpenMonitoring. Enable the jmxExporter, the nodeExporter, or both. If you specify OpenMonitoring, the two exporters can't be disabled at the same time.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html#enable-open-monitoring-at-creation",
"main_header": "Creating an Amazon MSK Cluster with Open Monitoring Enabled",
"images": [],
"container_type": "div",
"children_tags": [
"p",
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#open-monitoring",
"text": "Open Monitoring with Prometheus"
},
"h2": {
"urllink": "#enable-open-monitoring-at-creation",
"text": "Creating an Amazon MSK Cluster with Open Monitoring Enabled"
},
"links": [],
"text": "Using the API",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html#enable-open-monitoring-at-creation",
"main_header": "Creating an Amazon MSK Cluster with Open Monitoring Enabled",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#open-monitoring",
"text": "Open Monitoring with Prometheus"
},
"h2": {
"urllink": "#enable-open-monitoring-after-creation",
"text": "Enabling Open Monitoring for an Existing Amazon MSK Cluster"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/home?region=us-east-1#/home/",
"title": "https://console.aws.amazon.com/msk/home?region=us-east-1#/home/"
}
],
"text": "Using the AWS Management ConsoleSign in to the AWS Management Console, and open the Amazon MSK console at https://console.aws.amazon.com/msk/home?region=us-east-1#/home/.\nChoose the name of the cluster that you want to update. This takes you to the Details page for the cluster.\n\nOn the Details tab, scroll down to find the Monitoring section.\n\nChoose Edit.\n\nSelect the check box next to Enable open monitoring with Prometheus.\n\nChoose Save changes.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html#enable-open-monitoring-after-creation",
"main_header": "Enabling Open Monitoring for an Existing Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#open-monitoring",
"text": "Open Monitoring with Prometheus"
},
"h2": {
"urllink": "#enable-open-monitoring-after-creation",
"text": "Enabling Open Monitoring for an Existing Amazon MSK Cluster"
},
"links": [],
"text": "Using the AWS Management Console",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html#enable-open-monitoring-after-creation",
"main_header": "Enabling Open Monitoring for an Existing Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#open-monitoring",
"text": "Open Monitoring with Prometheus"
},
"h2": {
"urllink": "#enable-open-monitoring-after-creation",
"text": "Enabling Open Monitoring for an Existing Amazon MSK Cluster"
},
"links": [
{
"url": "https://docs.aws.amazon.com/cli/latest/reference/kafka/update-monitoring.html",
"title": "update-monitoring"
}
],
"text": "Using the AWS CLI\nInvoke the update-monitoring command and specify its open-monitoring option. Enable the JmxExporter, the NodeExporter, or both. If you specify open-monitoring, the two exporters can't be disabled at the same time.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html#enable-open-monitoring-after-creation",
"main_header": "Enabling Open Monitoring for an Existing Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [
"p",
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#open-monitoring",
"text": "Open Monitoring with Prometheus"
},
"h2": {
"urllink": "#enable-open-monitoring-after-creation",
"text": "Enabling Open Monitoring for an Existing Amazon MSK Cluster"
},
"links": [],
"text": "Using the AWS CLI",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html#enable-open-monitoring-after-creation",
"main_header": "Enabling Open Monitoring for an Existing Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#open-monitoring",
"text": "Open Monitoring with Prometheus"
},
"h2": {
"urllink": "#enable-open-monitoring-after-creation",
"text": "Enabling Open Monitoring for an Existing Amazon MSK Cluster"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/clusters-clusterarn-monitoring.html#UpdateMonitoring",
"title": "UpdateMonitoring"
}
],
"text": "Using the API\nInvoke the UpdateMonitoring operation and specify OpenMonitoring. Enable the jmxExporter, the nodeExporter, or both. If you specify OpenMonitoring, the two exporters can't be disabled at the same time.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html#enable-open-monitoring-after-creation",
"main_header": "Enabling Open Monitoring for an Existing Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [
"p",
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#open-monitoring",
"text": "Open Monitoring with Prometheus"
},
"h2": {
"urllink": "#enable-open-monitoring-after-creation",
"text": "Enabling Open Monitoring for an Existing Amazon MSK Cluster"
},
"links": [],
"text": "Using the API",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html#enable-open-monitoring-after-creation",
"main_header": "Enabling Open Monitoring for an Existing Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#open-monitoring",
"text": "Open Monitoring with Prometheus"
},
"h2": {
"urllink": "#set-up-prometheus-host",
"text": "Setting Up a Prometheus Host on an Amazon EC2 Instance"
},
"links": [
{
"url": "https://prometheus.io/download/#prometheus",
"title": "https://prometheus.io/download/#prometheus"
},
{
"url": "https://docs.aws.amazon.com//msk/1.0/apireference/clusters-clusterarn-nodes.html#ListNodes",
"title": "ListNodes"
}
],
"text": "Download the Prometheus server from https://prometheus.io/download/#prometheus to your Amazon EC2 instance.\n\nExtract the downloaded file to a directory and go to that directory.\n\nCreate a file with the following contents and name it prometheus.yml.\n# file: prometheus.yml\n# my global config\nglobal: scrape_interval: 60s\n\n# A scrape configuration containing exactly one endpoint to scrape:\n# Here it's Prometheus itself.\nscrape_configs: # The job name is added as a label `job=<job_name>` to any timeseries scraped from this config. - job_name: 'prometheus' static_configs: # 9090 is the prometheus server port - targets: ['localhost:9090'] - job_name: 'broker' file_sd_configs: - files: - 'targets.json'\n\nUse the ListNodes operation to get a list of your cluster's brokers.\n\nCreate a file named targets.json with the following JSON. Replace broker_dns_1, broker_dns_2, and the rest of the broker DNS names with the DNS names you obtained for your brokers in the previous step. Include all of the brokers you obtained in the previous step. Amazon MSK uses port 11001 for the JMX Exporter and port 11002 for the Node Exporter.\n[ { \"labels\": { \"job\": \"jmx\" }, \"targets\": [ \"broker_dns_1:11001\", \"broker_dns_2:11001\", . . . \"broker_dns_N:11001\" ] }, { \"labels\": { \"job\": \"node\" }, \"targets\": [ \"broker_dns_1:11002\", \"broker_dns_2:11002\", . . . \"broker_dns_N:11002\" ] }\n]\n\nTo start the Prometheus server on your Amazon EC2 instance, run the following command in the directory where you extracted the Prometheus files and saved prometheus.yml and targets.json.\n./prometheus\n\nFind the IPv4 public IP address of the Amazon EC2 instance where you ran Prometheus in the previous step. You need this public IP address in the following step.\n\nTo access the Prometheus web UI, open a browser that can access your Amazon EC2 instance, and go to Prometheus-Instance-Public-IP:9090, where Prometheus-Instance-Public-IP is the public IP address you got in the previous step.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html#set-up-prometheus-host",
"main_header": "Setting Up a Prometheus Host on an Amazon EC2 Instance",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#cruise-control",
"text": "Using LinkedIn's Cruise Control for Apache Kafka with Amazon MSK"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cruise-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cruise-control.html#cruise-control",
"main_header": "Using LinkedIn's Cruise Control for Apache Kafka with Amazon MSK",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#cruise-control",
"text": "Using LinkedIn's Cruise Control for Apache Kafka with Amazon MSK"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html",
"title": "Open Monitoring with Prometheus"
},
{
"url": "https://github.com/linkedin/cruise-control/releases",
"title": "Cruise Control"
}
],
"text": "To download and build Cruise ControlCreate an Amazon EC2 instance in the same Amazon VPC as the Amazon MSK cluster.\nInstall Prometheus on the Amazon EC2 instance that you created in the previous step. Note the private IP and the port. The default port number is 9090. For information on how to configure Prometheus to aggregate metrics for your cluster, see Open Monitoring with Prometheus.\n\nDownload Cruise Control on the Amazon EC2 instance. (Alternatively, you can use a separate Amazon EC2 instance for Cruise Control if you prefer.) For a cluster that has Apache Kafka version 2.4.*, use the latest 2.4.* Cruise Control release. If your cluster has an Apache Kafka version that is older than 2.4.*, use the latest 2.0.* Cruise Control release.\n\nDecompress the Cruise Control file, then go to the decompressed folder.\n\nRun the following command to install git.\nsudo yum -y install git\n\nRun the following command to initialize the local repo. Replace Your-Cruise-Control-Folder with the name of your current folder (the folder that you obtained when you decompressed the Cruise Control download).\ngit init && git add . && git commit -m \"Init local repo.\" && git tag -a Your-Cruise-Control-Folder -m \"Init local version.\"\n\nRun the following command to build the source code.\n./gradlew jar copyDependantLibs",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cruise-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cruise-control.html#cruise-control",
"main_header": "Using LinkedIn's Cruise Control for Apache Kafka with Amazon MSK",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#cruise-control",
"text": "Using LinkedIn's Cruise Control for Apache Kafka with Amazon MSK"
},
"links": [],
"text": "To download and build Cruise Control",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cruise-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cruise-control.html#cruise-control",
"main_header": "Using LinkedIn's Cruise Control for Apache Kafka with Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#cruise-control",
"text": "Using LinkedIn's Cruise Control for Apache Kafka with Amazon MSK"
},
"links": [
{
"url": "https://docs.aws.amazon.com//msk/1.0/apireference/clusters-clusterarn-bootstrap-brokers.html#GetBootstrapBrokers",
"title": "GetBootstrapBrokers"
},
{
"url": "https://docs.aws.amazon.com//msk/1.0/apireference/clusters-clusterarn.html#DescribeCluster",
"title": "DescribeCluster"
},
{
"url": "https://docs.aws.amazon.com//msk/1.0/apireference/clusters-clusterarn.html#DescribeCluster",
"title": "DescribeCluster"
},
{
"url": "https://aws.amazon.com/ec2/instance-types/",
"title": "Amazon EC2 Instance Types"
},
{
"url": "https://github.com/linkedin/cruise-control-ui/wiki/Single-Kafka-Cluster#setting-up-cruise-control-frontend",
"title": "Setting Up Cruise Control Frontend"
}
],
"text": "To configure and run Cruise Control\nMake the following updates to the config/cruisecontrol.properties file. Replace the example bootstrap servers and Apache ZooKeeper connection string with the values for your cluster. To get these strings for your cluster, you can see the cluster details in the console. Alternatively, you can use the GetBootstrapBrokers and DescribeCluster API operations or their CLI equivalents.\n# If using TLS encryption, use 9094; use 9092 if using plaintext\nbootstrap.servers=b-1.test-cluster.2skv42.c1.kafka.us-east-1.amazonaws.com:9094,b-2.test-cluster.2skv42.c1.kafka.us-east-1.amazonaws.com:9094,b-3.test-cluster.2skv42.c1.kafka.us-east-1.amazonaws.com:9094\nzookeeper.connect=z-1.test-cluster.2skv42.c1.kafka.us-east-1.amazonaws.com:2181,z-2.test-cluster.2skv42.c1.kafka.us-east-1.amazonaws.com:2181,z-3.test-cluster.2skv42.c1.kafka.us-east-1.amazonaws.com:2181 # SSL properties, needed if cluster is using TLS encryption\nsecurity.protocol=SSL\nssl.truststore.location=/home/ec2-user/kafka.client.truststore.jks # Use the Prometheus Metric Sampler\nmetric.sampler.class=com.linkedin.kafka.cruisecontrol.monitor.sampling.prometheus.PrometheusMetricSampler # Prometheus Metric Sampler specific configuration\nprometheus.server.endpoint=1.2.3.4:9090 # Replace with your Prometheus IP and port # Change the capacity config file and specify its path; details below\ncapacity.config.file=config/capacityCores.json\n\nEdit the config/capacityCores.json file to specify the right disk size and CPU cores and network in/out limits. You can use the DescribeCluster API operation (or its CLI equivalent) to obtain the disk size. For CPU cores and network in/out limits, see Amazon EC2 Instance Types.\n{ \"brokerCapacities\": [ { \"brokerId\": \"-1\", \"capacity\": { \"DISK\": \"10000\", \"CPU\": { \"num.cores\": \"2\" }, \"NW_IN\": \"5000000\", \"NW_OUT\": \"5000000\" }, \"doc\": \"This is the default capacity. Capacity unit used for disk is in MB, cpu is in number of cores, network throughput is in KB.\" } ]\n}\n\nYou can optionally install the Cruise Control UI. To download it, go to Setting Up Cruise Control Frontend.\n\nRun the following command to start Cruise Control. Consider using a tool like screen or tmux to keep a long-running session open.\n./kafka-cruise-control-start.sh config/cruisecontrol.properties 9091\nUse the Cruise Control APIs or the UI to make sure that Cruise Control has the cluster load data and that it's making rebalancing suggestions. It might take several minutes to get a valid window of metrics.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cruise-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cruise-control.html#cruise-control",
"main_header": "Using LinkedIn's Cruise Control for Apache Kafka with Amazon MSK",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#cruise-control",
"text": "Using LinkedIn's Cruise Control for Apache Kafka with Amazon MSK"
},
"links": [],
"text": "To configure and run Cruise Control",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cruise-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cruise-control.html#cruise-control",
"main_header": "Using LinkedIn's Cruise Control for Apache Kafka with Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#limits",
"text": "Amazon MSK Quota"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/limits.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/limits.html#limits",
"main_header": "Amazon MSK Quota",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#limits",
"text": "Amazon MSK Quota"
},
"h2": {
"urllink": "#msk-provisioned-quota",
"text": "Amazon MSK quota"
},
"links": [
{
"url": "https://console.aws.amazon.com/support/home#/",
"title": "create a support case"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"title": "IAM access control"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"title": "IAM access control"
},
{
"url": "https://console.aws.amazon.com/support/home#/",
"title": "create a support case"
},
{
"url": "https://kafka.apache.org/documentation/#producerconfigs_reconnect.backoff.ms",
"title": "reconnect.backoff.ms"
},
{
"url": "https://kafka.apache.org/documentation/#producerconfigs_reconnect.backoff.ms",
"title": "reconnect.backoff.ms"
},
{
"url": "https://console.aws.amazon.com/support/home#/",
"title": "create a support case"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#partitions-per-broker",
"title": "Right-size your cluster: Number of partitions per broker"
}
],
"text": "Up to 90 brokers per account and 30 brokers per cluster. To request higher quota, create a support case.\n\nA minimum of 1 GiB of storage per broker.\n\nA maximum of 16384 GiB of storage per broker.\n\nA cluster that uses IAM access control can have up to 3000 TCP connections per broker at any given time. To increase this limit, you can adjust the listener.name.client_iam.max.connections or the listener.name.client_iam_public.max.connections configuration property using the Kafka AlterConfig API or the kafka-configs.sh tool. It's important to note that increasing either property to a high value can result in unavailability.\n\nA cluster that uses IAM access control can accept new connections at a rate of up to 20 TCP connections per broker per second for all broker types, except for kafka.t3.small. Brokers of type kafka.t3.small are limited to 4 TCP connections per broker per second. To request a quota adjustment, you can create a support case. \nTo handle retries on failed connections, you can set the reconnect.backoff.ms configuration parameter on the client side. For example, if you want a client to retry connections after 1 second, set reconnect.backoff.ms to 1000. For more information, see reconnect.backoff.ms in the Apache Kafka documentation.\n\nUp to 100 configurations per account. To request higher quota, create a support case.\n\nA maximum of 50 revisions per configuration.\n\nTo update the configuration or the Apache Kafka version of an MSK cluster, first ensure the number of partitions per broker is under the limits described in  Right-size your cluster: Number of partitions per broker.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/limits.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/limits.html#msk-provisioned-quota",
"main_header": "Amazon MSK quota",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#limits",
"text": "Amazon MSK Quota"
},
"h2": {
"urllink": "#serverless-quota",
"text": "MSK Serverless quota"
},
"links": [
{
"url": "https://console.aws.amazon.com/support/home#/",
"title": "create a support case"
}
],
"text": "Dimension\nQuota Maximum ingress throughput 200 MBps Maximum egress throughput\n400 MBps Maximum retention duration\n24 hours. To request a quota adjustment, create a support case. Maximum number of client connections\n\n1000 Maximum connection attempts\n100 per second Maximum message size\n\n8 MB Maximum request size\n\n100 MB Maximum request rate\n15,000 per second Maximum fetch bytes per request\n\n55 MB Maximum number of consumer groups\n\n500 Maximum number of partitions\n\n120 Maximum rate of partition creation and deletion\n120 in 5 minutes Maximum ingress throughput per partition\n\n5 MBps Maximum egress throughput per partition\n\n10 MBps Maximum partition size\n\n250 GB Maximum number of client VPCs per serverless cluster\n\n5 Maximum number of serverless clusters per account\n3",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/limits.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/limits.html#serverless-quota",
"main_header": "MSK Serverless quota",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#limits",
"text": "Amazon MSK Quota"
},
"h2": {
"urllink": "#serverless-quota",
"text": "MSK Serverless quota"
},
"links": [
{
"url": "https://console.aws.amazon.com/support/home#/",
"title": "create a support case"
}
],
"text": "Dimension\nQuota Maximum ingress throughput 200 MBps Maximum egress throughput\n400 MBps Maximum retention duration\n24 hours. To request a quota adjustment, create a support case. Maximum number of client connections\n\n1000 Maximum connection attempts\n100 per second Maximum message size\n\n8 MB Maximum request size\n\n100 MB Maximum request rate\n15,000 per second Maximum fetch bytes per request\n\n55 MB Maximum number of consumer groups\n\n500 Maximum number of partitions\n\n120 Maximum rate of partition creation and deletion\n120 in 5 minutes Maximum ingress throughput per partition\n\n5 MBps Maximum egress throughput per partition\n\n10 MBps Maximum partition size\n\n250 GB Maximum number of client VPCs per serverless cluster\n\n5 Maximum number of serverless clusters per account\n3",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/limits.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/limits.html#serverless-quota",
"main_header": "MSK Serverless quota",
"images": [],
"container_type": "div",
"children_tags": [
"table"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#limits",
"text": "Amazon MSK Quota"
},
"h2": {
"urllink": "#mkc-quota",
"text": "MSK Connect quota"
},
"links": [],
"text": "Up to 100 custom plugins.\nUp to 100 worker configurations.\n\nUp to 60 connect workers. If a connector is set up to have auto scaled capacity, then the maximum number of workers that the connector is set up to have is the number MSK Connect uses to calculate the quota for the account.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/limits.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/limits.html#mkc-quota",
"main_header": "MSK Connect quota",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#resources",
"text": "Amazon MSK resources"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/resources.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/resources.html#resources",
"main_header": "Amazon MSK resources",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#kafka-versions",
"text": "Apache Kafka Versions"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html#kafka-versions",
"main_header": "Apache Kafka Versions",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#supported-kafka-versions",
"main_header": "Supported Apache Kafka versions",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.8.1",
"title": "Apache Kafka version 2.8.1"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.8.0",
"title": "Apache Kafka version 2.8.0"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.7.2",
"title": "Apache Kafka version 2.7.2"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.7.1",
"title": "Apache Kafka version 2.7.1"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.6.3",
"title": "Apache Kafka version 2.6.3"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.6.2",
"title": "Apache Kafka version 2.6.2 [Recommended]"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.7.0",
"title": "Apache Kafka version 2.7.0"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.6.1",
"title": "Apache Kafka version 2.6.1"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.6.0",
"title": "Apache Kafka version 2.6.0"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.5.1",
"title": "Apache Kafka version 2.5.1"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.4.1.1",
"title": "Amazon MSK bug-fix version 2.4.1.1"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.4.1",
"title": "Apache Kafka version 2.4.1 (use 2.4.1.1 instead)"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.3.1",
"title": "Apache Kafka version 2.3.1"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.2.1",
"title": "Apache Kafka version 2.2.1"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#1.1.1",
"title": "Apache Kafka version 1.1.1 (for existing clusters only)"
}
],
"text": "TopicsApache Kafka version 2.8.1Apache Kafka version 2.8.0Apache Kafka version 2.7.2Apache Kafka version 2.7.1Apache Kafka version 2.6.3Apache Kafka version 2.6.2 [Recommended]Apache Kafka version 2.7.0Apache Kafka version 2.6.1Apache Kafka version 2.6.0Apache Kafka version 2.5.1Amazon MSK bug-fix version 2.4.1.1Apache Kafka version 2.4.1 (use 2.4.1.1 instead)Apache Kafka version 2.3.1Apache Kafka version 2.2.1Apache Kafka version 1.1.1 (for existing clusters only)",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#supported-kafka-versions",
"main_header": "Supported Apache Kafka versions",
"images": [],
"container_type": "div",
"children_tags": [
"p",
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"links": [],
"text": "Topics",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#supported-kafka-versions",
"main_header": "Supported Apache Kafka versions",
"images": [],
"container_type": "p",
"children_tags": [
"strong"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.4.1.1",
"text": "Amazon MSK bug-fix version 2.4.1.1"
},
"links": [],
"text": "NoteAmazon MSK clusters running version 2.4.1.1 are compatible with any Apache Kafka client that is compatible with Apache Kafka version 2.4.1.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.4.1.1",
"main_header": "Amazon MSK bug-fix version 2.4.1.1",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.4.1.1",
"text": "Amazon MSK bug-fix version 2.4.1.1"
},
"links": [],
"text": "Note",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.4.1.1",
"main_header": "Amazon MSK bug-fix version 2.4.1.1",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.4.1.1",
"text": "Amazon MSK bug-fix version 2.4.1.1"
},
"links": [],
"text": "Amazon MSK clusters running version 2.4.1.1 are compatible with any Apache Kafka client that is compatible with Apache Kafka version 2.4.1.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.4.1.1",
"main_header": "Amazon MSK bug-fix version 2.4.1.1",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.4.1.1",
"text": "Amazon MSK bug-fix version 2.4.1.1"
},
"links": [],
"text": "Amazon MSK clusters running version 2.4.1.1 are compatible with any Apache Kafka client that is compatible with Apache Kafka version 2.4.1.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.4.1.1",
"main_header": "Amazon MSK bug-fix version 2.4.1.1",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.4.1",
"text": "Apache Kafka version 2.4.1 (use 2.4.1.1 instead)"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.4.1.1",
"title": "Amazon MSK bug-fix version 2.4.1.1"
}
],
"text": "NoteYou can no longer create an MSK cluster with Apache Kafka version 2.4.1. Instead, you can use Amazon MSK bug-fix version 2.4.1.1 with clients compatible with Apache Kafka version 2.4.1. And if you already have an MSK cluster with Apache Kafka version 2.4.1, we recommend you update it to use Apache Kafka version 2.4.1.1 instead.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.4.1",
"main_header": "Apache Kafka version 2.4.1 (use 2.4.1.1 instead)",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.4.1",
"text": "Apache Kafka version 2.4.1 (use 2.4.1.1 instead)"
},
"links": [],
"text": "Note",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.4.1",
"main_header": "Apache Kafka version 2.4.1 (use 2.4.1.1 instead)",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.4.1",
"text": "Apache Kafka version 2.4.1 (use 2.4.1.1 instead)"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.4.1.1",
"title": "Amazon MSK bug-fix version 2.4.1.1"
}
],
"text": "You can no longer create an MSK cluster with Apache Kafka version 2.4.1. Instead, you can use Amazon MSK bug-fix version 2.4.1.1 with clients compatible with Apache Kafka version 2.4.1. And if you already have an MSK cluster with Apache Kafka version 2.4.1, we recommend you update it to use Apache Kafka version 2.4.1.1 instead.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.4.1",
"main_header": "Apache Kafka version 2.4.1 (use 2.4.1.1 instead)",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.4.1",
"text": "Apache Kafka version 2.4.1 (use 2.4.1.1 instead)"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.4.1.1",
"title": "Amazon MSK bug-fix version 2.4.1.1"
}
],
"text": "You can no longer create an MSK cluster with Apache Kafka version 2.4.1. Instead, you can use Amazon MSK bug-fix version 2.4.1.1 with clients compatible with Apache Kafka version 2.4.1. And if you already have an MSK cluster with Apache Kafka version 2.4.1, we recommend you update it to use Apache Kafka version 2.4.1.1 instead.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.4.1",
"main_header": "Apache Kafka version 2.4.1 (use 2.4.1.1 instead)",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#version-upgrades",
"text": "Updating the Apache Kafka version"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html#version-upgrades",
"main_header": "Updating the Apache Kafka version",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#version-upgrades",
"text": "Updating the Apache Kafka version"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#partitions-per-broker",
"title": "Right-size your cluster: Number of partitions per broker"
}
],
"text": "ImportantYou can't update the Apache Kafka version for an MSK cluster that exceeds the limits described in  Right-size your cluster: Number of partitions per broker.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html#version-upgrades",
"main_header": "Updating the Apache Kafka version",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#version-upgrades",
"text": "Updating the Apache Kafka version"
},
"links": [],
"text": "Important",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html#version-upgrades",
"main_header": "Updating the Apache Kafka version",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#version-upgrades",
"text": "Updating the Apache Kafka version"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#partitions-per-broker",
"title": "Right-size your cluster: Number of partitions per broker"
}
],
"text": "You can't update the Apache Kafka version for an MSK cluster that exceeds the limits described in  Right-size your cluster: Number of partitions per broker.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html#version-upgrades",
"main_header": "Updating the Apache Kafka version",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#version-upgrades",
"text": "Updating the Apache Kafka version"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#partitions-per-broker",
"title": "Right-size your cluster: Number of partitions per broker"
}
],
"text": "You can't update the Apache Kafka version for an MSK cluster that exceeds the limits described in  Right-size your cluster: Number of partitions per broker.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html#version-upgrades",
"main_header": "Updating the Apache Kafka version",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#version-upgrades",
"text": "Updating the Apache Kafka version"
},
"links": [
{
"url": "https://console.aws.amazon.com/msk/",
"title": "https://console.aws.amazon.com/msk/"
}
],
"text": "Updating the Apache Kafka version using the AWS Management ConsoleOpen the Amazon MSK console at https://console.aws.amazon.com/msk/.\nChoose the MSK cluster on which you want to update the Apache Kafka version.\n\nOn the Details tab choose Upgrade the Apache Kafka version.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html#version-upgrades",
"main_header": "Updating the Apache Kafka version",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#version-upgrades",
"text": "Updating the Apache Kafka version"
},
"links": [],
"text": "Updating the Apache Kafka version using the AWS Management Console",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html#version-upgrades",
"main_header": "Updating the Apache Kafka version",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#version-upgrades",
"text": "Updating the Apache Kafka version"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-list-clusters.html",
"title": "Listing Amazon MSK clusters"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-list-clusters.html",
"title": "Listing Amazon MSK clusters"
},
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/clusters-clusterarn.html#DescribeCluster",
"title": "DescribeCluster"
},
{
"url": "https://awscli.amazonaws.com/v2/documentation/api/latest/reference/kafka/describe-cluster.html",
"title": "describe-cluster"
}
],
"text": "Updating the Apache Kafka version using the AWS CLIRun the following command, replacing ClusterArn with the Amazon Resource Name (ARN) that you obtained when you created your cluster. If you don't have the ARN for your cluster, you can find it by listing all clusters. For more information, see Listing Amazon MSK clusters.\naws kafka get-compatible-kafka-versions --cluster-arn ClusterArn\nThe output of this command includes a list of the Apache Kafka versions to which you can update the cluster. It looks like the following example.\n{ \"CompatibleKafkaVersions\": [ { \"SourceVersion\": \"2.2.1\", \"TargetVersions\": [ \"2.3.1\", \"2.4.1\", \"2.4.1.1\", \"2.5.1\" ] } ]\n}\n\nRun the following command, replacing ClusterArn with the Amazon Resource Name (ARN) that you obtained when you created your cluster. If you don't have the ARN for your cluster, you can find it by listing all clusters. For more information, see Listing Amazon MSK clusters.\nReplace Current-Cluster-Version with the current version of the cluster. For TargetVersion you can specify any of the target versions from the output of the previous command.\nImportantCluster versions aren't simple integers. To find the current version of the cluster, use the DescribeCluster operation or the describe-cluster AWS CLI command. An example version is KTVPDKIKX0DER.\naws kafka update-cluster-kafka-version --cluster-arn ClusterArn --current-version Current-Cluster-Version --target-kafka-version TargetVersion\nThe output of the previous command looks like the following JSON.\n{ \"ClusterArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2\", \"ClusterOperationArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster-operation/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2/0123abcd-abcd-4f7f-1234-9876543210ef\"\n}\n\nTo get the result of the update-cluster-kafka-version operation, run the following command, replacing ClusterOperationArn with the ARN that you obtained in the output of the update-cluster-kafka-version command.\naws kafka describe-cluster-operation --cluster-operation-arn ClusterOperationArn\nThe output of this describe-cluster-operation command looks like the following JSON example.\n{ \"ClusterOperationInfo\": { \"ClientRequestId\": \"62cd41d2-1206-4ebf-85a8-dbb2ba0fe259\", \"ClusterArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2\", \"CreationTime\": \"2021-03-11T20:34:59.648000+00:00\", \"OperationArn\": \"arn:aws:kafka:us-east-1:012345678012:cluster-operation/exampleClusterName/abcdefab-1234-abcd-5678-cdef0123ab01-2/0123abcd-abcd-4f7f-1234-9876543210ef\", \"OperationState\": \"UPDATE_IN_PROGRESS\", \"OperationSteps\": [ { \"StepInfo\": { \"StepStatus\": \"IN_PROGRESS\" }, \"StepName\": \"INITIALIZE_UPDATE\" }, { \"StepInfo\": { \"StepStatus\": \"PENDING\" }, \"StepName\": \"UPDATE_APACHE_KAFKA_BINARIES\" }, { \"StepInfo\": { \"StepStatus\": \"PENDING\" }, \"StepName\": \"FINALIZE_UPDATE\" } ], \"OperationType\": \"UPDATE_CLUSTER_KAFKA_VERSION\", \"SourceClusterInfo\": { \"KafkaVersion\": \"2.4.1\" }, \"TargetClusterInfo\": { \"KafkaVersion\": \"2.6.1\" } }\n}\nIf OperationState has the value UPDATE_IN_PROGRESS, wait a while, then run the describe-cluster-operation command again. When the operation is complete, the value of OperationState becomes UPDATE_COMPLETE. Because the time required for Amazon MSK to complete the operation varies, you might need to check repeatedly until the operation is complete.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html#version-upgrades",
"main_header": "Updating the Apache Kafka version",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#version-upgrades",
"text": "Updating the Apache Kafka version"
},
"links": [],
"text": "Updating the Apache Kafka version using the AWS CLI",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html#version-upgrades",
"main_header": "Updating the Apache Kafka version",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#version-upgrades",
"text": "Updating the Apache Kafka version"
},
"links": [
{
"url": "https://docs.aws.amazon.com//msk/1.0/apireference/compatible-kafka-versions.html#GetCompatibleKafkaVersions",
"title": "GetCompatibleKafkaVersions"
},
{
"url": "https://docs.aws.amazon.com//msk/1.0/apireference/clusters-clusterarn-version.html#UpdateClusterKafkaVersion",
"title": "UpdateClusterKafkaVersion"
}
],
"text": "Updating the Apache Kafka version using the APIInvoke the GetCompatibleKafkaVersions operation to get a list of the Apache Kafka versions to which you can update the cluster.Invoke the UpdateClusterKafkaVersion operation to update the cluster to one of the compatible Apache Kafka versions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html#version-upgrades",
"main_header": "Updating the Apache Kafka version",
"images": [],
"container_type": "div",
"children_tags": [
"ol",
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#version-upgrades",
"text": "Updating the Apache Kafka version"
},
"links": [],
"text": "Updating the Apache Kafka version using the API",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html#version-upgrades",
"main_header": "Updating the Apache Kafka version",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting",
"main_header": "Troubleshooting Your Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#consumer-group-rebalance",
"title": "Consumer group stuck in PreparingRebalance state"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#cw-broker-logs-error",
"title": "Error delivering broker logs to Amazon CloudWatch Logs"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting-shared-vpc",
"title": "No default security group"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting-cluster-stuck",
"title": "Cluster appears stuck in the CREATING state"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting-cluster-failed",
"title": "Cluster state goes from CREATING to FAILED"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting-nodata",
"title": "Cluster state is ACTIVE but producers cannot send data or consumers cannot receive data"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting-nocli",
"title": "AWS CLI doesn't recognize Amazon MSK"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting-offlinepartitions-outofsyncreplicas",
"title": "Partitions go offline or replicas are out of sync"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting-lowdiskspace",
"title": "Disk space is running low"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting-lowmemory",
"title": "Memory running low"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting-NotLeaderForPartitionException",
"title": "Producer Gets NotLeaderForPartitionException"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting-urp",
"title": "Under-Replicated Partitions (URP) greater than zero"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#amazon_msk_canary",
"title": "Cluster has topics called __amazon_msk_canary and __amazon_msk_canary_state"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#partition_replication_fails",
"title": "Partition replication fails"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#public-access-issues",
"title": "Unable to access cluster that has public access turned on"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#networking-trouble",
"title": "Unable to access cluster from within AWS: networking issues"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshoot-too-many-connects",
"title": "Failed authentication: Too many connects"
}
],
"text": "TopicsConsumer group stuck in PreparingRebalance stateError delivering broker logs to Amazon CloudWatch LogsNo default security groupCluster appears stuck in the CREATING stateCluster state goes from CREATING to FAILEDCluster state is ACTIVE but producers cannot send data or consumers cannot receive dataAWS CLI doesn't recognize Amazon MSKPartitions go offline or replicas are out of syncDisk space is running lowMemory running lowProducer Gets NotLeaderForPartitionExceptionUnder-Replicated Partitions (URP) greater than zeroCluster has topics called __amazon_msk_canary and __amazon_msk_canary_statePartition replication failsUnable to access cluster that has public access turned onUnable to access cluster from within AWS: networking issuesFailed authentication: Too many connects",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting",
"main_header": "Troubleshooting Your Amazon MSK Cluster",
"images": [],
"container_type": "div",
"children_tags": [
"p",
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"links": [],
"text": "Topics",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting",
"main_header": "Troubleshooting Your Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [
"strong"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#consumer-group-rebalance",
"text": "Consumer group stuck in PreparingRebalance state"
},
"h3": {
"urllink": "#consumer-group-rebalance-static",
"text": "Implementing Static Membership Protocol"
},
"links": [
{
"url": "https://kafka.apache.org/26/javadoc/index.html?org/apache/kafka/clients/consumer/KafkaConsumer.html",
"title": "Kafka Consumers"
}
],
"text": "Set the group.instance.id property of your Kafka Consumers configuration to a static string that identifies the consumer in the group. Ensure that other instances of the configuration are updated to use the static string.Deploy the changes to your Kafka Consumers.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#consumer-group-rebalance-static",
"main_header": "Implementing Static Membership Protocol",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#consumer-group-rebalance",
"text": "Consumer group stuck in PreparingRebalance state"
},
"h3": {
"urllink": "#consumer-group-rebalance-static",
"text": "Implementing Static Membership Protocol"
},
"links": [],
"text": "NoteUsing Static Membership Protocol only reduces the probability of encountering this issue. You may still encounter this issue even when using Static Membership Protocol.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#consumer-group-rebalance-static",
"main_header": "Implementing Static Membership Protocol",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#consumer-group-rebalance",
"text": "Consumer group stuck in PreparingRebalance state"
},
"h3": {
"urllink": "#consumer-group-rebalance-static",
"text": "Implementing Static Membership Protocol"
},
"links": [],
"text": "Note",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#consumer-group-rebalance-static",
"main_header": "Implementing Static Membership Protocol",
"images": [],
"container_type": "div",
"children_tags": [
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#consumer-group-rebalance",
"text": "Consumer group stuck in PreparingRebalance state"
},
"h3": {
"urllink": "#consumer-group-rebalance-static",
"text": "Implementing Static Membership Protocol"
},
"links": [],
"text": "Using Static Membership Protocol only reduces the probability of encountering this issue. You may still encounter this issue even when using Static Membership Protocol.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#consumer-group-rebalance-static",
"main_header": "Implementing Static Membership Protocol",
"images": [],
"container_type": "div",
"children_tags": [
"p"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#consumer-group-rebalance",
"text": "Consumer group stuck in PreparingRebalance state"
},
"h3": {
"urllink": "#consumer-group-rebalance-static",
"text": "Implementing Static Membership Protocol"
},
"links": [],
"text": "Using Static Membership Protocol only reduces the probability of encountering this issue. You may still encounter this issue even when using Static Membership Protocol.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#consumer-group-rebalance-static",
"main_header": "Implementing Static Membership Protocol",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#consumer-group-rebalance",
"text": "Consumer group stuck in PreparingRebalance state"
},
"h3": {
"urllink": "#consumer-group-rebalance-reboot",
"text": "Rebooting the Coordinating Broker Node"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/clusters-clusterarn-reboot-broker.html#RebootBroker",
"title": "RebootBroker"
}
],
"text": "Identify the group coordinator using the kafka-consumer-groups.sh command.Restart the group coordinator of the stuck consumer group using the RebootBroker API action.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#consumer-group-rebalance-reboot",
"main_header": "Rebooting the Coordinating Broker Node",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#troubleshooting-nodata",
"text": "Cluster state is ACTIVE but producers cannot send data or consumers cannot receive data"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-client-machine.html",
"title": "Step 2: Create a Client Machine"
}
],
"text": "If the cluster creation succeeds (the cluster state is ACTIVE), but you can't send or receive data, ensure that your producer and consumer applications have access to the cluster. For more information, see the guidance in Step 2: Create a Client Machine.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting-nodata",
"main_header": "Cluster state is ACTIVE but producers cannot send data or consumers cannot receive data",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#troubleshooting-nodata",
"text": "Cluster state is ACTIVE but producers cannot send data or consumers cannot receive data"
},
"links": [
{
"url": "https://issues.apache.org/jira/browse/KAFKA-7697",
"title": "KAFKA-7697"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/migration.html",
"title": "Migrating Clusters Using Apache Kafka's MirrorMaker"
}
],
"text": "If your producers and consumers have access to the cluster but still experience problems producing and consuming data, the cause might be KAFKA-7697, which affects Apache Kafka version 2.1.0 and can lead to a deadlock in one or more brokers. Consider migrating to Apache Kafka 2.2.1, which is not affected by this bug. For information about how to migrate, see Migrating Clusters Using Apache Kafka's MirrorMaker.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting-nodata",
"main_header": "Cluster state is ACTIVE but producers cannot send data or consumers cannot receive data",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#troubleshooting-urp",
"text": "Under-Replicated Partitions (URP) greater than zero"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"title": "Best Practices"
},
{
"url": "https://kafka.apache.org/documentation/#security_authz",
"title": "Authorization and ACLs"
}
],
"text": "If UnderReplicatedPartitions is spiky, the issue might be that the cluster isn't provisioned at the right size to handle incoming and outgoing traffic. See Best Practices.\n\nIf UnderReplicatedPartitions is consistently greater than 0 including during low-traffic periods, the issue might be that you've set restrictive ACLs that don\u00e2\u0080\u0099t grant topic access to brokers. To replicate partitions, brokers must be authorized to both READ and DESCRIBE topics. DESCRIBE is granted by default with the READ authorization. For information about setting ACLs, see Authorization and ACLs in the Apache Kafka documentation.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting-urp",
"main_header": "Under-Replicated Partitions (URP) greater than zero",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#public-access-issues",
"text": "Unable to access cluster that has public access turned on"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/port-info.html",
"title": "Port information"
},
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html",
"title": "Security groups for your VPC"
},
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/vpc-network-acls.html#Rules",
"title": "Add and delete rules"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-bootstrap-brokers.html#get-bootstrap-console",
"title": "Getting the bootstrap brokers using the AWS Management Console"
}
],
"text": "Ensure that the cluster's security group's inbound rules allow your IP address and the cluster's port. For a list of cluster port numbers, see Port information. Also ensure that the security group's outbound rules allow outbound communications. For more information about security groups and their inbound and outbound rules, see Security groups for your VPC in the Amazon VPC User Guide.Make sure that your IP address and the cluster's port are allowed in the inbound rules of the cluster's VPC network ACL. Unlike security groups, network ACLs are stateless. This means that you must configure both inbound and outbound rules. In the outbound rules, allow all traffic (port range: 0\u00e2\u0080\u009365535) to your IP address. For more information, see Add and delete rules in the Amazon VPC User Guide. \nMake sure that you are using the public-access bootstrap-brokers string to access the cluster. An MSK cluster that has public access turned on has two different bootstrap-brokers strings, one for public access, and one for access from within AWS. For more information, see Getting the bootstrap brokers using the AWS Management Console.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#public-access-issues",
"main_header": "Unable to access cluster that has public access turned on",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#networking-trouble",
"text": "Unable to access cluster from within AWS: networking issues"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-bootstrap-brokers.html",
"title": "Getting the bootstrap brokers for an Amazon MSK Cluster"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-connection-string.html",
"title": "Getting the Apache ZooKeeper connection string for an Amazon MSK Cluster"
}
],
"text": "Use any of the methods described in Getting the bootstrap brokers for an Amazon MSK Cluster to get the addresses of the bootstrap brokers.\nIn the following command replace bootstrap-broker with one of the broker addresses that you obtained in the previous step. Replace port-number with 9094 if the cluster is set up to use TLS authentication. If the cluster doesn't use TLS authentication, replace port-number with 9092. Run the command from the client machine.\ntelnet bootstrap-broker port-number\n\nRepeat the previous command for all the bootstrap brokers.\n\nUse any of the methods described in Getting the Apache ZooKeeper connection string for an Amazon MSK Cluster to get the addresses of the cluster's Apache ZooKeeper nodes.\n\nOn the client machine run the following command, replacing Apache-ZooKeeper-node with the address of one of the Apache ZooKeeper nodes that you obtained in the previous step. The number 2181 is the port number. Repeat for all the Apache ZooKeeper nodes.\ntelnet Apache-ZooKeeper-node 2181",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#networking-trouble",
"main_header": "Unable to access cluster from within AWS: networking issues",
"images": [],
"container_type": "div",
"children_tags": [
"ol"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#networking-trouble",
"text": "Unable to access cluster from within AWS: networking issues"
},
"h3": {
"urllink": "#troubleshoot-peering-connection",
"text": "Amazon EC2 client and MSK cluster in different VPCs"
},
"links": [],
"text": "The two VPCs are peered.\n\nThe status of the peering connection is active.\n\nThe route tables of the two VPCs are set up correctly.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshoot-peering-connection",
"main_header": "Amazon EC2 client and MSK cluster in different VPCs",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#networking-trouble",
"text": "Unable to access cluster from within AWS: networking issues"
},
"h3": {
"urllink": "#troubleshoot-on-prem-client",
"text": "On-premises client"
},
"links": [
{
"url": "https://aws.amazon.com/premiumsupport/knowledge-center/check-vpn-tunnel-status/",
"title": "How do I check the current status of my VPN tunnel?"
}
],
"text": "The VPN connection status is UP. For information about how to check the VPN connection status, see How do I check the current status of my VPN tunnel?.\n\nThe route table of the cluster's VPC contains the route for an on-premises CIDR whose target has the format Virtual private gateway(vgw-xxxxxxxx).\n\nThe MSK cluster's security group allows traffic on port 2181, port 9092 (if your cluster accepts plaintext traffic), and port 9094 (if your cluster accepts TLS-encrypted traffic).",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshoot-on-prem-client",
"main_header": "On-premises client",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#bestpractices",
"main_header": "Best Practices",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#partitions-per-broker",
"text": "Right-size your cluster: Number of partitions per broker"
},
"links": [],
"text": "Broker type\nMaximum number of partitions (including leader and follower replicas) per broker kafka.t3.small\n300 kafka.m5.large or kafka.m5.xlarge\n1000 kafka.m5.2xlarge\n2000 kafka.m5.4xlarge, kafka.m5.8xlarge, kafka.m5.12xlarge, kafka.m5.16xlarge, or kafka.m5.24xlarge\n4000",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#partitions-per-broker",
"main_header": "Right-size your cluster: Number of partitions per broker",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#partitions-per-broker",
"text": "Right-size your cluster: Number of partitions per broker"
},
"links": [],
"text": "Broker type\nMaximum number of partitions (including leader and follower replicas) per broker kafka.t3.small\n300 kafka.m5.large or kafka.m5.xlarge\n1000 kafka.m5.2xlarge\n2000 kafka.m5.4xlarge, kafka.m5.8xlarge, kafka.m5.12xlarge, kafka.m5.16xlarge, or kafka.m5.24xlarge\n4000",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#partitions-per-broker",
"main_header": "Right-size your cluster: Number of partitions per broker",
"images": [],
"container_type": "div",
"children_tags": [
"table"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#partitions-per-broker",
"text": "Right-size your cluster: Number of partitions per broker"
},
"links": [],
"text": "Update the cluster configuration\n\nUpdate the Apache Kafka version for the cluster\n\nUpdate the cluster to a smaller broker type\n\nAssociate an AWS Secrets Manager secret with a cluster that has SASL/SCRAM authentication",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#partitions-per-broker",
"main_header": "Right-size your cluster: Number of partitions per broker",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#ensure-high-availability",
"text": "Build highly available clusters"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-bootstrap-brokers.html",
"title": "Getting the bootstrap brokers for an Amazon MSK Cluster"
}
],
"text": "Ensure that the replication factor (RF) is at least 2 for two-AZ clusters and at least 3 for three-AZ clusters. An RF of 1 can lead to offline partitions during a rolling update.\n\nSet minimum in-sync replicas (minISR) to at most RF - 1. A minISR that is equal to the RF can prevent producing to the cluster during a rolling update. A minISR of 2 allows three-way replicated topics to be available when one replica is offline.\n\nEnsure client connection strings include multiple brokers. Having multiple brokers in a client\u00e2\u0080\u0099s connection string allows for failover when a specific broker is offline for an update. For information about how to get a connection string with multiple brokers, see Getting the bootstrap brokers for an Amazon MSK Cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#ensure-high-availability",
"main_header": "Build highly available clusters",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#bestpractices-monitor-cpu",
"text": "Monitor CPU usage"
},
"links": [
{
"url": "https://docs.aws.amazon.com//msk/latest/developerguide/msk-update-broker-type.html",
"title": "Update your broker type"
},
{
"url": "https://docs.aws.amazon.com//msk/latest/developerguide/msk-update-broker-count.html",
"title": "expand your cluster"
}
],
"text": "Option 1 (recommended): Update your broker type to the next larger type. For example, if the current type is kafka.m5.large, update the cluster to use kafka.m5.xlarge. Keep in mind that when you update the broker type in the cluster, Amazon MSK takes brokers offline in a rolling fashion and temporarily reassigns partition leadership to other brokers. A size update typically takes 10-15 minutes per broker.\n\nOption 2: If there are topics with all messages ingested from producers that use round-robin writes (in other words, messages aren't keyed and ordering isn\u00e2\u0080\u0099t important to consumers), expand your cluster by adding brokers. Also add partitions to existing topics with the highest throughput. Next, use kafka-topics.sh --describe to ensure that newly added partitions are assigned to the new brokers. The main benefit of this option compared to the previous one is that you can manage resources and costs more granularly. Additionally, you can use this option if CPU load significantly exceeds 60% because this form of scaling doesn't typically result in increased load on existing brokers.\n\nOption 3: Expand your cluster by adding brokers, then reassign existing partitions by using the partition reassignment tool named kafka-reassign-partitions.sh. However, if you use this option, the cluster will need to spend resources to replicate data from broker to broker after partitions are reassigned. Compared to the two previous options, this can significantly increase the load on the cluster at first. As a result, Amazon MSK doesn't recommend using this option when CPU utilization is above 70% because replication causes additional CPU load and network traffic. Amazon MSK only recommends using this option if the two previous options aren't feasible.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#bestpractices-monitor-cpu",
"main_header": "Monitor CPU usage",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#bestpractices-monitor-cpu",
"text": "Monitor CPU usage"
},
"links": [
{
"url": "https://docs.aws.amazon.com//msk/latest/developerguide/cruise-control.html",
"title": "Cruise Control"
}
],
"text": "Monitor total CPU utilization per broker as a proxy for load distribution. If brokers have consistently uneven CPU utilization it might be a sign that load isn't evenly distributed within the cluster. Amazon MSK recommends using Cruise Control to continuously manage load distribution via partition assignment.\n\nMonitor produce and consume latency. Produce and consume latency can increase linearly with CPU utilization.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#bestpractices-monitor-cpu",
"main_header": "Monitor CPU usage",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#bestpractices-monitor-disk-space",
"text": "Monitor disk space"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html",
"title": "Automatic scaling"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/manually-expand-storage.html",
"title": "Manual scaling"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#bestpractices-retention-period",
"title": "Adjust data retention parameters"
}
],
"text": "Use Automatic scaling. You can also manually increase broker storage as described in Manual scaling.\n\nReduce the message retention period or log size. For information on how to do that, see Adjust data retention parameters.\n\nDelete unused topics.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#bestpractices-monitor-disk-space",
"main_header": "Monitor disk space",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#bestpractices-retention-period",
"text": "Adjust data retention parameters"
},
"links": [],
"text": "To specify a retention time period per topic, use the following command.\nkafka-configs.sh --zookeeper ZooKeeperConnectionString --alter --entity-type topics --entity-name TopicName --add-config retention.ms=DesiredRetentionTimePeriod\n\nTo specify a retention log size per topic, use the following command.\nkafka-configs.sh --zookeeper ZooKeeperConnectionString --alter --entity-type topics --entity-name TopicName --add-config retention.bytes=DesiredRetentionLogSize",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#bestpractices-retention-period",
"main_header": "Adjust data retention parameters",
"images": [],
"container_type": "div",
"children_tags": [
"ul"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#doc-history",
"text": "Document History for Amazon MSK Developer Guide"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/doc-history.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/doc-history.html#doc-history",
"main_header": "Document History for Amazon MSK Developer Guide",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#doc-history",
"text": "Document History for Amazon MSK Developer Guide"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"title": "Supported Apache Kafka versions"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"title": "Supported Apache Kafka versions"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"title": "Supported Apache Kafka versions"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect.html",
"title": "MSK Connect"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"title": "Supported Apache Kafka versions"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"title": "Supported Apache Kafka versions"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"title": "Supported Apache Kafka versions"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-type.html",
"title": "Updating the broker type"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"title": "Supported Apache Kafka versions"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"title": "Supported Apache Kafka versions"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/cruise-control.html",
"title": "Using LinkedIn's Cruise Control for Apache Kafka with Amazon MSK"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"title": "Supported Apache Kafka versions"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"title": "Supported Apache Kafka versions"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html",
"title": "Automatic scaling"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"title": "SASL/SCRAM Authentication"
}
],
"text": "Change\nDescription\nDate Support for Apache Kafka 2.7.2\n\nAmazon MSK now supports Apache Kafka version 2.7.2. For more information, see  Supported Apache Kafka versions. 2021-12-21 Support for Apache Kafka 2.6.3\n\nAmazon MSK now supports Apache Kafka version 2.6.3. For more information, see  Supported Apache Kafka versions. 2021-12-21 MSK Serverless Prerelease\n\nMSK Serverless is a new feature that you can use to create serverless clusters. For more information, see MSK Serverless.\n\n2021-11-29 Support for Apache Kafka 2.8.1\n\nAmazon MSK now supports Apache Kafka version 2.8.1. For more information, see  Supported Apache Kafka versions. 2021-09-30 MSK Connect\n\nMSK Connect is a new feature that you can use to create and manage Apache Kafka connectors. For more information, see  MSK Connect. 2021-09-16 Support for Apache Kafka 2.7.1\n\nAmazon MSK now supports Apache Kafka version 2.7.1. For more information, see  Supported Apache Kafka versions. 2021-05-25 Support for Apache Kafka 2.8.0\n\nAmazon MSK now supports Apache Kafka version 2.8.0. For more information, see  Supported Apache Kafka versions. 2021-04-28 Support for Apache Kafka 2.6.2\n\nAmazon MSK now supports Apache Kafka version 2.6.2. For more information, see  Supported Apache Kafka versions. 2021-04-28 Support for Updating Broker Type\n\nYou can now change the broker type for an existing cluster. For more information, see  Updating the broker type. \n2021-01-21 Support for Apache Kafka 2.6.1\n\nAmazon MSK now supports Apache Kafka version 2.6.1. For more information, see  Supported Apache Kafka versions. 2021-01-19 Support for Apache Kafka 2.7.0\n\nAmazon MSK now supports Apache Kafka version 2.7.0. For more information, see  Supported Apache Kafka versions. 2020-12-29 No New Clusters with Apache Kafka Version 1.1.1\n You can no longer create a new Amazon MSK cluster with Apache Kafka version 1.1.1. However, if you have existing MSK clusters that are running Apache Kafka version 1.1.1, you can continue using all of the currently-supported features on those existing clusters. For more information, see Apache Kafka Versions. \n2020-11-24 Consumer-Lag Metrics\n\nAmazon MSK now provides metrics that you can use to monitor consumer lag. For more information, see  Monitoring an Amazon MSK Cluster. 2020-11-23 Support for Cruise Control\n\nAmazon MSK now supports LinkedIn's Cruise Control. For more information, see  Using LinkedIn's Cruise Control for Apache Kafka with Amazon MSK. 2020-11-17 Support for Apache Kafka 2.6.0\n\nAmazon MSK now supports Apache Kafka version 2.6.0. For more information, see  Supported Apache Kafka versions. 2020-10-21 Support for Apache Kafka 2.5.1\n\nAmazon MSK now supports Apache Kafka version 2.5.1. With Apache Kafka version 2.5.1, Amazon MSK supports encryption in transit between clients and ZooKeeper endpoints. For more information, see  Supported Apache Kafka versions. 2020-09-30 Application Auto-Expansion\n\nYou can configure Amazon Managed Streaming for Apache Kafka to automatically expand your cluster's storage in response to increased usage. For more information, see  Automatic scaling. 2020-09-30 Support for Username and Password Security\n\nAmazon MSK now supports logging into clusters using a username and password. Amazon MSK stores credentials in AWS Secrets Manager. For more information, see  SASL/SCRAM Authentication. 2020-09-17 Support for Upgrading the Apache Kafka Version of an Amazon MSK Cluster\n\nYou can now upgrade the Apache Kafka version of an existing MSK cluster.\n\n2020-05-28 Support for T3.small Broker Nodes\n\nAmazon MSK now supports creating clusters with brokers of Amazon EC2 type T3.small.\n\n2020-04-08 Support for Apache Kafka 2.4.1\n\nAmazon MSK now supports Apache Kafka version 2.4.1.\n\n2020-04-02 Support for Streaming Broker Logs\nAmazon MSK can now stream broker logs to CloudWatch Logs, Amazon S3, and Amazon Kinesis Data Firehose. Kinesis Data Firehose can, in turn, deliver these logs to the destinations that it supports, such as OpenSearch Service.\n2020-02-25 Support for Apache Kafka 2.3.1\n\nAmazon MSK now supports Apache Kafka version 2.3.1.\n\n2019-12-19 Open Monitoring\n Amazon MSK now supports open monitoring with Prometheus.\n2019-12-04 Support for Apache Kafka 2.2.1\nAmazon MSK now supports Apache Kafka version 2.2.1.\n2019-07-31 General Availability\nNew features include tagging support, authentication, TLS encryption, configurations, and the ability to update broker storage.\n2019-05-30 Support for Apache Kafka 2.1.0\nAmazon MSK now supports Apache Kafka version 2.1.0.\n2019-02-05",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/doc-history.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/doc-history.html#doc-history",
"main_header": "Document History for Amazon MSK Developer Guide",
"images": [],
"container_type": "div",
"children_tags": [
"div"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#doc-history",
"text": "Document History for Amazon MSK Developer Guide"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"title": "Supported Apache Kafka versions"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"title": "Supported Apache Kafka versions"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"title": "Supported Apache Kafka versions"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect.html",
"title": "MSK Connect"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"title": "Supported Apache Kafka versions"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"title": "Supported Apache Kafka versions"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"title": "Supported Apache Kafka versions"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-type.html",
"title": "Updating the broker type"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"title": "Supported Apache Kafka versions"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"title": "Supported Apache Kafka versions"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/cruise-control.html",
"title": "Using LinkedIn's Cruise Control for Apache Kafka with Amazon MSK"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"title": "Supported Apache Kafka versions"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"title": "Supported Apache Kafka versions"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html",
"title": "Automatic scaling"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"title": "SASL/SCRAM Authentication"
}
],
"text": "Change\nDescription\nDate Support for Apache Kafka 2.7.2\n\nAmazon MSK now supports Apache Kafka version 2.7.2. For more information, see  Supported Apache Kafka versions. 2021-12-21 Support for Apache Kafka 2.6.3\n\nAmazon MSK now supports Apache Kafka version 2.6.3. For more information, see  Supported Apache Kafka versions. 2021-12-21 MSK Serverless Prerelease\n\nMSK Serverless is a new feature that you can use to create serverless clusters. For more information, see MSK Serverless.\n\n2021-11-29 Support for Apache Kafka 2.8.1\n\nAmazon MSK now supports Apache Kafka version 2.8.1. For more information, see  Supported Apache Kafka versions. 2021-09-30 MSK Connect\n\nMSK Connect is a new feature that you can use to create and manage Apache Kafka connectors. For more information, see  MSK Connect. 2021-09-16 Support for Apache Kafka 2.7.1\n\nAmazon MSK now supports Apache Kafka version 2.7.1. For more information, see  Supported Apache Kafka versions. 2021-05-25 Support for Apache Kafka 2.8.0\n\nAmazon MSK now supports Apache Kafka version 2.8.0. For more information, see  Supported Apache Kafka versions. 2021-04-28 Support for Apache Kafka 2.6.2\n\nAmazon MSK now supports Apache Kafka version 2.6.2. For more information, see  Supported Apache Kafka versions. 2021-04-28 Support for Updating Broker Type\n\nYou can now change the broker type for an existing cluster. For more information, see  Updating the broker type. \n2021-01-21 Support for Apache Kafka 2.6.1\n\nAmazon MSK now supports Apache Kafka version 2.6.1. For more information, see  Supported Apache Kafka versions. 2021-01-19 Support for Apache Kafka 2.7.0\n\nAmazon MSK now supports Apache Kafka version 2.7.0. For more information, see  Supported Apache Kafka versions. 2020-12-29 No New Clusters with Apache Kafka Version 1.1.1\n You can no longer create a new Amazon MSK cluster with Apache Kafka version 1.1.1. However, if you have existing MSK clusters that are running Apache Kafka version 1.1.1, you can continue using all of the currently-supported features on those existing clusters. For more information, see Apache Kafka Versions. \n2020-11-24 Consumer-Lag Metrics\n\nAmazon MSK now provides metrics that you can use to monitor consumer lag. For more information, see  Monitoring an Amazon MSK Cluster. 2020-11-23 Support for Cruise Control\n\nAmazon MSK now supports LinkedIn's Cruise Control. For more information, see  Using LinkedIn's Cruise Control for Apache Kafka with Amazon MSK. 2020-11-17 Support for Apache Kafka 2.6.0\n\nAmazon MSK now supports Apache Kafka version 2.6.0. For more information, see  Supported Apache Kafka versions. 2020-10-21 Support for Apache Kafka 2.5.1\n\nAmazon MSK now supports Apache Kafka version 2.5.1. With Apache Kafka version 2.5.1, Amazon MSK supports encryption in transit between clients and ZooKeeper endpoints. For more information, see  Supported Apache Kafka versions. 2020-09-30 Application Auto-Expansion\n\nYou can configure Amazon Managed Streaming for Apache Kafka to automatically expand your cluster's storage in response to increased usage. For more information, see  Automatic scaling. 2020-09-30 Support for Username and Password Security\n\nAmazon MSK now supports logging into clusters using a username and password. Amazon MSK stores credentials in AWS Secrets Manager. For more information, see  SASL/SCRAM Authentication. 2020-09-17 Support for Upgrading the Apache Kafka Version of an Amazon MSK Cluster\n\nYou can now upgrade the Apache Kafka version of an existing MSK cluster.\n\n2020-05-28 Support for T3.small Broker Nodes\n\nAmazon MSK now supports creating clusters with brokers of Amazon EC2 type T3.small.\n\n2020-04-08 Support for Apache Kafka 2.4.1\n\nAmazon MSK now supports Apache Kafka version 2.4.1.\n\n2020-04-02 Support for Streaming Broker Logs\nAmazon MSK can now stream broker logs to CloudWatch Logs, Amazon S3, and Amazon Kinesis Data Firehose. Kinesis Data Firehose can, in turn, deliver these logs to the destinations that it supports, such as OpenSearch Service.\n2020-02-25 Support for Apache Kafka 2.3.1\n\nAmazon MSK now supports Apache Kafka version 2.3.1.\n\n2019-12-19 Open Monitoring\n Amazon MSK now supports open monitoring with Prometheus.\n2019-12-04 Support for Apache Kafka 2.2.1\nAmazon MSK now supports Apache Kafka version 2.2.1.\n2019-07-31 General Availability\nNew features include tagging support, authentication, TLS encryption, configurations, and the ability to update broker storage.\n2019-05-30 Support for Apache Kafka 2.1.0\nAmazon MSK now supports Apache Kafka version 2.1.0.\n2019-02-05",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/doc-history.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/doc-history.html#doc-history",
"main_header": "Document History for Amazon MSK Developer Guide",
"images": [],
"container_type": "div",
"children_tags": [
"table"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#glossary",
"text": "AWS glossary"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/glossary.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/glossary.html#glossary",
"main_header": "AWS glossary",
"images": [],
"container_type": "div",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#what-is-msk",
"text": "Welcome to the Amazon MSK Developer Guide"
},
"links": [],
"text": "Welcome to the Amazon MSK Developer Guide. The following topics can help you get started using this guide, based on what you're trying to do.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/what-is-msk.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/what-is-msk.html#what-is-msk",
"main_header": "Welcome to the Amazon MSK Developer Guide",
"images": [],
"container_type": "p",
"children_tags": [
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#what-is-msk",
"text": "Welcome to the Amazon MSK Developer Guide"
},
"links": [
{
"url": "http://aws.amazon.com/msk",
"title": "Amazon MSK"
}
],
"text": "For highlights, product details, and pricing, see the service page for Amazon MSK.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/what-is-msk.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/what-is-msk.html#what-is-msk",
"main_header": "Welcome to the Amazon MSK Developer Guide",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#what-is-msk",
"text": "Welcome to the Amazon MSK Developer Guide"
},
"h2": {
"urllink": "#what-is-msk-intro",
"text": "What Is Amazon MSK?"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"title": "Supported Apache Kafka versions"
}
],
"text": "Amazon Managed Streaming for Apache Kafka (Amazon MSK) is a fully managed service that enables you to build and run applications that use Apache Kafka to process streaming data. Amazon MSK provides the control-plane operations, such as those for creating, updating, and deleting clusters. It lets you use Apache Kafka data-plane operations, such as those for producing and consuming data. It runs open-source versions of Apache Kafka. This means existing applications, tooling, and plugins from partners and the Apache Kafka community are supported without requiring changes to application code. You can use Amazon MSK to create clusters that use any of the Apache Kafka versions listed under Supported Apache Kafka versions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/what-is-msk.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/what-is-msk.html#what-is-msk-intro",
"main_header": "What Is Amazon MSK?",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#what-is-msk",
"text": "Welcome to the Amazon MSK Developer Guide"
},
"h2": {
"urllink": "#what-is-msk-intro",
"text": "What Is Amazon MSK?"
},
"links": [],
"text": "The following diagram provides an overview of how Amazon MSK works.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/what-is-msk.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/what-is-msk.html#what-is-msk-intro",
"main_header": "What Is Amazon MSK?",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#what-is-msk",
"text": "Welcome to the Amazon MSK Developer Guide"
},
"h2": {
"urllink": "#what-is-msk-intro",
"text": "What Is Amazon MSK?"
},
"links": [],
"text": "The diagram demonstrates the interaction between the following components:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/what-is-msk.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/what-is-msk.html#what-is-msk-intro",
"main_header": "What Is Amazon MSK?",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#what-is-msk",
"text": "Welcome to the Amazon MSK Developer Guide"
},
"h2": {
"urllink": "#what-is-msk-intro",
"text": "What Is Amazon MSK?"
},
"links": [],
"text": "Amazon MSK detects and automatically recovers from the most common failure scenarios for clusters so that your producer and consumer applications can continue their write and read operations with minimal impact. When Amazon MSK detects a broker failure, it mitigates the failure or replaces the unhealthy or unreachable broker with a new one. In addition, where possible, it reuses the storage from the older broker to reduce the data that Apache Kafka needs to replicate. Your availability impact is limited to the time required for Amazon MSK to complete the detection and recovery. After a recovery, your producer and consumer apps can continue to communicate with the same broker IP addresses that they used before the failure.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/what-is-msk.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/what-is-msk.html#what-is-msk-intro",
"main_header": "What Is Amazon MSK?",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#before-you-begin",
"text": "Setting Up Amazon MSK"
},
"links": [],
"text": "Before you use Amazon MSK for the first time, complete the following tasks.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/before-you-begin.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/before-you-begin.html#before-you-begin",
"main_header": "Setting Up Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#before-you-begin",
"text": "Setting Up Amazon MSK"
},
"h2": {
"urllink": "#setting-up-sign-up-for-aws",
"text": "Sign Up for AWS"
},
"links": [],
"text": "When you sign up for AWS, your Amazon Web Services account is automatically signed up for all services in AWS, including Amazon MSK. You are charged only for the services that you use.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/before-you-begin.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/before-you-begin.html#setting-up-sign-up-for-aws",
"main_header": "Sign Up for AWS",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#before-you-begin",
"text": "Setting Up Amazon MSK"
},
"h2": {
"urllink": "#setting-up-sign-up-for-aws",
"text": "Sign Up for AWS"
},
"links": [],
"text": "If you have an AWS account already, skip to the next task. If you don't have an AWS account, use the following procedure to create one.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/before-you-begin.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/before-you-begin.html#setting-up-sign-up-for-aws",
"main_header": "Sign Up for AWS",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#before-you-begin",
"text": "Setting Up Amazon MSK"
},
"h2": {
"urllink": "#setting-up-downloads",
"text": "Download Libraries and Tools"
},
"links": [],
"text": "The following libraries and tools can help you work with Amazon MSK:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/before-you-begin.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/before-you-begin.html#setting-up-downloads",
"main_header": "Download Libraries and Tools",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#getting-started",
"text": "Getting Started Using Amazon MSK"
},
"links": [],
"text": "This tutorial shows you an example of how you can create an MSK cluster, produce and consume data, and monitor the health of your cluster using metrics. This example doesn't represent all the options you can choose when you create an MSK cluster. In different parts of this tutorial, we choose default options for simplicity. This doesn't mean that they're the only options that work for setting up an MSK cluster or client instances.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html#getting-started",
"main_header": "Getting Started Using Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#create-cluster",
"text": "Step 1: Create an Amazon MSK Cluster"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
],
"text": "In this step of Getting Started Using Amazon MSK, you create an Amazon MSK cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-cluster.html#create-cluster",
"main_header": "Step 1: Create an Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#create-cluster",
"text": "Step 1: Create an Amazon MSK Cluster"
},
"links": [],
"text": "Next Step",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-cluster.html#create-cluster",
"main_header": "Step 1: Create an Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#create-cluster",
"text": "Step 1: Create an Amazon MSK Cluster"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-client-machine.html",
"title": "Step 2: Create a Client Machine"
}
],
"text": "Step 2: Create a Client Machine",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-cluster.html#create-cluster",
"main_header": "Step 1: Create an Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#create-client-machine",
"text": "Step 2: Create a Client Machine"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
],
"text": "In this step of Getting Started Using Amazon MSK, you create a client machine. You use this client machine to create a topic that produces and consumes data. For simplicity, we'll put this client machine in the same VPC as the MSK cluster. But a client machine doesn't have to be in the same VPC as the cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-client-machine.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-client-machine.html#create-client-machine",
"main_header": "Step 2: Create a Client Machine",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#create-client-machine",
"text": "Step 2: Create a Client Machine"
},
"links": [],
"text": "Next Step",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-client-machine.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-client-machine.html#create-client-machine",
"main_header": "Step 2: Create a Client Machine",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#create-client-machine",
"text": "Step 2: Create a Client Machine"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-topic.html",
"title": "Step 3: Create a Topic"
}
],
"text": "Step 3: Create a Topic",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-client-machine.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-client-machine.html#create-client-machine",
"main_header": "Step 2: Create a Client Machine",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#create-topic",
"text": "Step 3: Create a Topic"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
],
"text": "In this step of Getting Started Using Amazon MSK, you install Apache Kafka client libraries and tools on the client machine, and then you create a topic.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-topic.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-topic.html#create-topic",
"main_header": "Step 3: Create a Topic",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#create-topic",
"text": "Step 3: Create a Topic"
},
"links": [],
"text": "Next Step",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-topic.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-topic.html#create-topic",
"main_header": "Step 3: Create a Topic",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#create-topic",
"text": "Step 3: Create a Topic"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/produce-consume.html",
"title": "Step 4: Produce and Consume Data"
}
],
"text": "Step 4: Produce and Consume Data",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-topic.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-topic.html#create-topic",
"main_header": "Step 3: Create a Topic",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#produce-consume",
"text": "Step 4: Produce and Consume Data"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
],
"text": "In this step of Getting Started Using Amazon MSK, you produce and consume data.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/produce-consume.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/produce-consume.html#produce-consume",
"main_header": "Step 4: Produce and Consume Data",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#produce-consume",
"text": "Step 4: Produce and Consume Data"
},
"links": [],
"text": "Next Step",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/produce-consume.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/produce-consume.html#produce-consume",
"main_header": "Step 4: Produce and Consume Data",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#produce-consume",
"text": "Step 4: Produce and Consume Data"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/view-metrics.html",
"title": "Step 5: Use Amazon CloudWatch to View Amazon MSK Metrics"
}
],
"text": "Step 5: Use Amazon CloudWatch to View Amazon MSK Metrics",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/produce-consume.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/produce-consume.html#produce-consume",
"main_header": "Step 4: Produce and Consume Data",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#view-metrics",
"text": "Step 5: Use Amazon CloudWatch to View Amazon MSK Metrics"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
],
"text": "In this step of Getting Started Using Amazon MSK, you look at the Amazon MSK metrics in Amazon CloudWatch.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/view-metrics.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/view-metrics.html#view-metrics",
"main_header": "Step 5: Use Amazon CloudWatch to View Amazon MSK Metrics",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#view-metrics",
"text": "Step 5: Use Amazon CloudWatch to View Amazon MSK Metrics"
},
"links": [],
"text": "Next Step",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/view-metrics.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/view-metrics.html#view-metrics",
"main_header": "Step 5: Use Amazon CloudWatch to View Amazon MSK Metrics",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#view-metrics",
"text": "Step 5: Use Amazon CloudWatch to View Amazon MSK Metrics"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-cluster.html",
"title": "Step 6: Delete the AWS Resources Created for This Tutorial"
}
],
"text": "Step 6: Delete the AWS Resources Created for This Tutorial",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/view-metrics.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/view-metrics.html#view-metrics",
"main_header": "Step 5: Use Amazon CloudWatch to View Amazon MSK Metrics",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#delete-cluster",
"text": "Step 6: Delete the AWS Resources Created for This Tutorial"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
],
"text": "In the final step of Getting Started Using Amazon MSK, you delete the MSK cluster and the client machine that you created for this tutorial.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-cluster.html#delete-cluster",
"main_header": "Step 6: Delete the AWS Resources Created for This Tutorial",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
]
},
{
"h1": {
"urllink": "#operations",
"text": "Amazon MSK: How It Works"
},
"links": [],
"text": "An Amazon MSK cluster is the primary Amazon MSK resource that you can create in your account. The topics in this section describe how to perform common Amazon MSK operations. For a list of all the operations that you can perform on an MSK cluster, see the following:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html#operations",
"main_header": "Amazon MSK: How It Works",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-create-cluster",
"text": "Creating an Amazon MSK Cluster"
},
"links": [],
"text": "Before you can create an Amazon MSK cluster you need to have an Amazon Virtual Private Cloud (VPC) and set up subnets within that VPC.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html#msk-create-cluster",
"main_header": "Creating an Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-create-cluster",
"text": "Creating an Amazon MSK Cluster"
},
"links": [],
"text": "You need two subnets in two different Availability Zones in the US West (N. California) Region. In all other Regions where Amazon MSK is available, you can specify either two or three subnets. Your subnets must all be in different Availability Zones. When you create a cluster, Amazon MSK distributes the broker nodes evenly over the subnets that you specify.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html#msk-create-cluster",
"main_header": "Creating an Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-create-cluster",
"text": "Creating an Amazon MSK Cluster"
},
"h2": {
"urllink": "#broker-instance-types",
"text": "Broker types"
},
"links": [],
"text": "When you create an Amazon MSK cluster, you specify the type of brokers that you want it to have. Amazon MSK supports the following broker types:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html#broker-instance-types",
"main_header": "Broker types",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-create-cluster",
"text": "Creating an Amazon MSK Cluster"
},
"h2": {
"urllink": "#broker-instance-types",
"text": "Broker types"
},
"links": [
{
"url": "https://aws.amazon.com/ec2/instance-types/m5/",
"title": "Amazon EC2 M5 Instances"
}
],
"text": "M5 brokers have higher baseline throughput performance than T3 brokers and are recommended for production workloads. M5 brokers can also have more partitions per broker than T3 brokers. Use M5 brokers if you are running larger production-grade workloads or require a greater number of partitions. To learn more about M5 instance types, see Amazon EC2 M5 Instances.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html#broker-instance-types",
"main_header": "Broker types",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-create-cluster",
"text": "Creating an Amazon MSK Cluster"
},
"h2": {
"urllink": "#broker-instance-types",
"text": "Broker types"
},
"links": [
{
"url": "https://aws.amazon.com/ec2/instance-types/t3/",
"title": "Amazon EC2 T3 Instances"
}
],
"text": "T3 brokers have the ability to use CPU credits to temporarily burst performance. Use T3 brokers for low-cost development, if you are testing small to medium streaming workloads, or if you have low-throughput streaming workloads that experience temporary spikes in throughput. We recommend that you run a proof-of-concept test to determine if T3 brokers are sufficient for production or critical workload. To learn more about T3 instance types, see Amazon EC2 T3 Instances.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html#broker-instance-types",
"main_header": "Broker types",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-create-cluster",
"text": "Creating an Amazon MSK Cluster"
},
"h2": {
"urllink": "#broker-instance-types",
"text": "Broker types"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"title": "Best Practices"
}
],
"text": "For more information on how to choose broker types, see Best Practices.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html#broker-instance-types",
"main_header": "Broker types",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-create-cluster",
"text": "Creating an Amazon MSK Cluster"
},
"h2": {
"urllink": "#create-cluster-api",
"text": "Creating a cluster using the API"
},
"links": [
{
"url": "https://docs.aws.amazon.com//msk/1.0/apireference/clusters.html#CreateCluster",
"title": "CreateCluster"
}
],
"text": "To create a cluster using the API, see CreateCluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html#create-cluster-api",
"main_header": "Creating a cluster using the API",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-delete-cluster",
"text": "Deleting an Amazon MSK Cluster"
},
"h2": {
"urllink": "#delete-cluster-cli",
"text": "Deleting a cluster using the AWS CLI"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-list-clusters.html",
"title": "Listing Amazon MSK clusters"
}
],
"text": "Run the following command, replacing ClusterArn with the Amazon Resource Name (ARN) that you obtained when you created your cluster. If you don't have the ARN for your cluster, you can find it by listing all clusters. For more information, see Listing Amazon MSK clusters.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-delete-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-delete-cluster.html#delete-cluster-cli",
"main_header": "Deleting a cluster using the AWS CLI",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-delete-cluster",
"text": "Deleting an Amazon MSK Cluster"
},
"h2": {
"urllink": "#delete-cluster-api",
"text": "Deleting a cluster using the API"
},
"links": [
{
"url": "https://docs.aws.amazon.com//msk/1.0/apireference/clusters-clusterarn.html#DeleteCluster",
"title": "DeleteCluster"
}
],
"text": "To delete a cluster using the API, see DeleteCluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-delete-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-delete-cluster.html#delete-cluster-api",
"main_header": "Deleting a cluster using the API",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-get-connection-string",
"text": "Getting the Apache ZooKeeper connection string for an Amazon MSK Cluster"
},
"h2": {
"urllink": "#get-connection-string-api",
"text": "Getting the Apache ZooKeeper connection string using the API"
},
"links": [
{
"url": "https://docs.aws.amazon.com//msk/1.0/apireference/clusters-clusterarn.html#DescribeCluster",
"title": "DescribeCluster"
}
],
"text": "To get the Apache ZooKeeper connection string using the API, see DescribeCluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-connection-string.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-connection-string.html#get-connection-string-api",
"main_header": "Getting the Apache ZooKeeper connection string using the API",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-get-bootstrap-brokers",
"text": "Getting the bootstrap brokers for an Amazon MSK Cluster"
},
"h2": {
"urllink": "#get-bootstrap-console",
"text": "Getting the bootstrap brokers using the AWS Management Console"
},
"links": [],
"text": "The term bootstrap brokers refers to a list of brokers that an Apache Kafka client can use as a starting point to connect to the cluster. This list doesn't necessarily include all of the brokers in a cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-bootstrap-brokers.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-bootstrap-brokers.html#get-bootstrap-console",
"main_header": "Getting the bootstrap brokers using the AWS Management Console",
"images": [],
"container_type": "p",
"children_tags": [
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-get-bootstrap-brokers",
"text": "Getting the bootstrap brokers for an Amazon MSK Cluster"
},
"h2": {
"urllink": "#get-bootstrap-cli",
"text": "Getting the bootstrap brokers using the AWS CLI"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-list-clusters.html",
"title": "Listing Amazon MSK clusters"
}
],
"text": "Run the following command, replacing ClusterArn with the Amazon Resource Name (ARN) that you obtained when you created your cluster. If you don't have the ARN for your cluster, you can find it by listing all clusters. For more information, see Listing Amazon MSK clusters.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-bootstrap-brokers.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-bootstrap-brokers.html#get-bootstrap-cli",
"main_header": "Getting the bootstrap brokers using the AWS CLI",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-get-bootstrap-brokers",
"text": "Getting the bootstrap brokers for an Amazon MSK Cluster"
},
"h2": {
"urllink": "#get-bootstrap-cli",
"text": "Getting the bootstrap brokers using the AWS CLI"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"title": "IAM access control"
}
],
"text": "For an MSK cluster that uses IAM access control, the output of this command looks like the following JSON example.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-bootstrap-brokers.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-bootstrap-brokers.html#get-bootstrap-cli",
"main_header": "Getting the bootstrap brokers using the AWS CLI",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-get-bootstrap-brokers",
"text": "Getting the bootstrap brokers for an Amazon MSK Cluster"
},
"h2": {
"urllink": "#get-bootstrap-cli",
"text": "Getting the bootstrap brokers using the AWS CLI"
},
"links": [],
"text": "The following example shows the bootstrap brokers for a cluster that has public access turned on. Use the BootstrapBrokerStringPublicSaslIam for public access, and the BootstrapBrokerStringSaslIam string for access from within AWS.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-bootstrap-brokers.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-bootstrap-brokers.html#get-bootstrap-cli",
"main_header": "Getting the bootstrap brokers using the AWS CLI",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-get-bootstrap-brokers",
"text": "Getting the bootstrap brokers for an Amazon MSK Cluster"
},
"h2": {
"urllink": "#get-bootstrap-cli",
"text": "Getting the bootstrap brokers using the AWS CLI"
},
"links": [],
"text": "The bootstrap brokers string should contain three brokers from across the Availability Zones in which your MSK cluster is deployed (unless only two brokers are available).",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-bootstrap-brokers.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-bootstrap-brokers.html#get-bootstrap-cli",
"main_header": "Getting the bootstrap brokers using the AWS CLI",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-get-bootstrap-brokers",
"text": "Getting the bootstrap brokers for an Amazon MSK Cluster"
},
"h2": {
"urllink": "#get-bootstrap-api",
"text": "Getting the bootstrap brokers using the API"
},
"links": [
{
"url": "https://docs.aws.amazon.com//msk/1.0/apireference/clusters-clusterarn-bootstrap-brokers.html#GetBootstrapBrokers",
"title": "GetBootstrapBrokers"
}
],
"text": "To get the bootstrap brokers using the API, see GetBootstrapBrokers.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-bootstrap-brokers.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-bootstrap-brokers.html#get-bootstrap-api",
"main_header": "Getting the bootstrap brokers using the API",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-list-clusters",
"text": "Listing Amazon MSK clusters"
},
"h2": {
"urllink": "#list-clusters-cli",
"text": "Listing clusters using the AWS CLI"
},
"links": [],
"text": "Run the following command.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-list-clusters.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-list-clusters.html#list-clusters-cli",
"main_header": "Listing clusters using the AWS CLI",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-list-clusters",
"text": "Listing Amazon MSK clusters"
},
"h2": {
"urllink": "#list-clusters-api",
"text": "Listing clusters using the API"
},
"links": [
{
"url": "https://docs.aws.amazon.com//msk/1.0/apireference/clusters.html#ListClusters",
"title": "ListClusters"
}
],
"text": "To list clusters using the API, see ListClusters.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-list-clusters.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-list-clusters.html#list-clusters-api",
"main_header": "Listing clusters using the API",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-provision-throughput",
"text": "Provisioning storage throughput"
},
"links": [],
"text": "Amazon MSK brokers persist data on storage volumes. Storage I/O is consumed when producers write to the cluster, when data is replicated between brokers, and when consumers read data that isn't in memory. The volume storage throughput is the rate at which data can be written into and read from a storage volume. Provisioned storage throughput is the ability to specify that rate for the brokers in your cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html#msk-provision-throughput",
"main_header": "Provisioning storage throughput",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-provision-throughput",
"text": "Provisioning storage throughput"
},
"links": [],
"text": "You can specify the provisioned throughput rate in MiB per second for clusters whose brokers are of type kafka.m5.4xlarge or larger and if the storage volume is 10 GiB or greater. It is possible to specify provisioned throughput during cluster creation. You can also enable or disable provisioned throughput for a cluster that is in the ACTIVE state.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html#msk-provision-throughput",
"main_header": "Provisioning storage throughput",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-provision-throughput",
"text": "Provisioning storage throughput"
},
"h2": {
"urllink": "#throughput-bottlenecks",
"text": "Throughput bottlenecks"
},
"links": [],
"text": "There are multiple causes of bottlenecks in broker throughput: volume throughput, EC2-EBS network throughput, and EC2 egress throughput. You can enable provisioned storage throughput to adjust volume throughput. However, broker throughput limitations can be caused by EC2-EBS network throughput and EC2 egress throughput.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html#throughput-bottlenecks",
"main_header": "Throughput bottlenecks",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-provision-throughput",
"text": "Provisioning storage throughput"
},
"h2": {
"urllink": "#throughput-bottlenecks",
"text": "Throughput bottlenecks"
},
"links": [],
"text": "EC2 egress throughput is impacted by the number of consumer groups and consumers per consumer groups. Also, both EC2-EBS network throughput and EC2 egress throughput are higher for larger broker types, as shown in the following table.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html#throughput-bottlenecks",
"main_header": "Throughput bottlenecks",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-provision-throughput",
"text": "Provisioning storage throughput"
},
"h2": {
"urllink": "#throughput-metrics",
"text": "Measuring storage throughput"
},
"links": [],
"text": "You can use the VolumeReadBytes and VolumeWriteBytes metrics to measure the average storage throughput of a cluster. The sum of these two metrics gives the average storage throughput in bytes. To get the average storage throughput for a cluster, set these two metrics to SUM and the period to 1 minute, then use the following formula.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html#throughput-metrics",
"main_header": "Measuring storage throughput",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-provision-throughput",
"text": "Provisioning storage throughput"
},
"h2": {
"urllink": "#throughput-metrics",
"text": "Measuring storage throughput"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html#broker-metrics",
"title": "PER_BROKER Level Monitoring"
}
],
"text": "For information about the VolumeReadBytes and VolumeWriteBytes metrics, see PER_BROKER Level Monitoring.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html#throughput-metrics",
"main_header": "Measuring storage throughput",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-provision-throughput",
"text": "Provisioning storage throughput"
},
"h2": {
"urllink": "#provisioned-throughput-config",
"text": "Configuration update"
},
"links": [],
"text": "When you turn on provisioned throughput for a cluster, you might not see the desired throughput unless you also update the value of the num.replica.fetchers configuration parameter. In the default Amazon MSK configuration, that parameter has a value of 2. To get the benefit of provisioned throughput, update your cluster's configuration by setting num.replica.fetchers to the value that matches the cluster's broker type in the following table. The values in the table are general guidance. We recommend that you adjust these values based on your use case. You can update the configuration either before or after you turn on provisioned throughput. However, you won't see the desired throughput until you perform both actions: update the configuration and turn on provisioned throughput.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html#provisioned-throughput-config",
"main_header": "Configuration update",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-provision-throughput",
"text": "Provisioning storage throughput"
},
"h2": {
"urllink": "#provisioned-throughput-cli",
"text": "Provisioning storage throughput using the AWS CLI"
},
"links": [],
"text": "This section shows an example of how you can use the AWS CLI to create a cluster with provisioned throughput enabled.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html#provisioned-throughput-cli",
"main_header": "Provisioning storage throughput using the AWS CLI",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-provision-throughput",
"text": "Provisioning storage throughput"
},
"h2": {
"urllink": "#provisioned-throughput-api",
"text": "Provisioning storage throughput using the API"
},
"links": [
{
"url": "https://docs.aws.amazon.com/MSK/2.0/APIReference/v2-clusters.html#CreateClusterV2",
"title": "CreateClusterV2"
}
],
"text": "To configure provisioned storage throughput while creating a cluster, use CreateClusterV2.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-provision-throughput.html#provisioned-throughput-api",
"main_header": "Provisioning storage throughput using the API",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-storage",
"text": "Scaling up broker storage"
},
"links": [],
"text": "You can increase the amount of EBS storage per broker. You can't decrease the storage.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html#msk-update-storage",
"main_header": "Scaling up broker storage",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-storage",
"text": "Scaling up broker storage"
},
"links": [],
"text": "Storage volumes remain available during this scaling-up operation.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html#msk-update-storage",
"main_header": "Scaling up broker storage",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-autoexpand",
"text": "Automatic scaling"
},
"links": [],
"text": "You can configure Amazon Managed Streaming for Apache Kafka to automatically expand your cluster's storage in response to increased usage using Application Auto-Scaling policies. Your auto-scaling policy sets the target disk utilization and the maximum scaling capacity.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html#msk-autoexpand",
"main_header": "Automatic scaling",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#msk-autoexpand",
"text": "Automatic scaling"
},
"links": [],
"text": "Before you use automatic scaling for Amazon MSK, you should consider the following:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html#msk-autoexpand",
"main_header": "Automatic scaling",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#msk-autoexpand",
"text": "Automatic scaling"
},
"h2": {
"urllink": "#msk-autoexpand-details",
"text": "MSK Storage auto-expansion details"
},
"links": [],
"text": "Your auto scaling policy defines the following parameters for your cluster:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html#msk-autoexpand-details",
"main_header": "MSK Storage auto-expansion details",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#msk-autoexpand",
"text": "Automatic scaling"
},
"h2": {
"urllink": "#msk-autoexpand-details",
"text": "MSK Storage auto-expansion details"
},
"links": [],
"text": "When the service detects that your Maximum Disk Utilization metric is equal to or greater than the Storage Utilization Target setting, it increases your storage capacity by an amount equal to the larger of two numbers: 10 GiB and 10% of current storage. For example, if you have 1000 GiB, that amount is 100 GiB. The service checks your storage utilization every minute. Further scaling operations continue to increase storage by an amount equal to the larger of two numbers: 10 GiB and 10% of current storage.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html#msk-autoexpand-details",
"main_header": "MSK Storage auto-expansion details",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#msk-autoexpand",
"text": "Automatic scaling"
},
"h2": {
"urllink": "#msk-autoexpand-details",
"text": "MSK Storage auto-expansion details"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/clusters-clusterarn-operations.html#ListClusterOperations",
"title": "ListClusterOperations"
}
],
"text": "You can check to determine if auto scaling operations occurred using the ListClusterOperations operation.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html#msk-autoexpand-details",
"main_header": "MSK Storage auto-expansion details",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#msk-autoexpand",
"text": "Automatic scaling"
},
"h2": {
"urllink": "#msk-autoexpand-setup",
"text": "Setting up auto-expansion for your Amazon MSK cluster"
},
"links": [
{
"url": "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-applicationautoscaling-scalabletarget.html",
"title": "Application Auto Scaling"
}
],
"text": "You can use the Amazon MSK console, the Amazon MSK API, or AWS CloudFormation to implement auto-expanding storage. CloudFormation support is available through Application Auto Scaling.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html#msk-autoexpand-setup",
"main_header": "Setting up auto-expansion for your Amazon MSK cluster",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#msk-autoexpand",
"text": "Automatic scaling"
},
"h2": {
"urllink": "#msk-autoexpand-setup",
"text": "Setting up auto-expansion for your Amazon MSK cluster"
},
"h3": {
"urllink": "#msk-autoexpand-setup-console",
"text": "Setting up auto-expansion using the AWS Management Console"
},
"links": [],
"text": "When you save and enable the new policy, the policy becomes active for the cluster. Amazon MSK then expands the cluster's storage when the storage utilization target is reached.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-autoexpand.html#msk-autoexpand-setup-console",
"main_header": "Setting up auto-expansion using the AWS Management Console",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#manually-expand-storage",
"text": "Manual scaling"
},
"links": [],
"text": "To increase storage, wait for the cluster to be in the ACTIVE state. Storage scaling has a cool-down period of at least six hours between events. Even though the operation makes additional storage available right away, the service performs optimizations on your cluster that can take up to 24 hours or more. The duration of these optimizations is proportional to your storage size.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/manually-expand-storage.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/manually-expand-storage.html#manually-expand-storage",
"main_header": "Manual scaling",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#manually-expand-storage",
"text": "Manual scaling"
},
"h2": {
"urllink": "#update-storage-cli",
"text": "Scaling up broker storage using the AWS CLI"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-list-clusters.html",
"title": "Listing Amazon MSK clusters"
}
],
"text": "Run the following command, replacing ClusterArn with the Amazon Resource Name (ARN) that you obtained when you created your cluster. If you don't have the ARN for your cluster, you can find it by listing all clusters. For more information, see Listing Amazon MSK clusters.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/manually-expand-storage.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/manually-expand-storage.html#update-storage-cli",
"main_header": "Scaling up broker storage using the AWS CLI",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#manually-expand-storage",
"text": "Manual scaling"
},
"h2": {
"urllink": "#update-storage-cli",
"text": "Scaling up broker storage using the AWS CLI"
},
"links": [],
"text": "Replace Current-Cluster-Version with the current version of the cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/manually-expand-storage.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/manually-expand-storage.html#update-storage-cli",
"main_header": "Scaling up broker storage using the AWS CLI",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#manually-expand-storage",
"text": "Manual scaling"
},
"h2": {
"urllink": "#update-storage-cli",
"text": "Scaling up broker storage using the AWS CLI"
},
"links": [],
"text": "The Target-Volume-in-GiB parameter represents the amount of storage that you want each broker to have. It is only possible to update the storage for all the brokers. You can't specify individual brokers for which to update storage. The value you specify for Target-Volume-in-GiB must be a whole number that is greater than 100 GiB. The storage per broker after the update operation can't exceed 16384 GiB.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/manually-expand-storage.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/manually-expand-storage.html#update-storage-cli",
"main_header": "Scaling up broker storage using the AWS CLI",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#manually-expand-storage",
"text": "Manual scaling"
},
"h2": {
"urllink": "#update-storage-api",
"text": "Scaling up broker storage using the API"
},
"links": [
{
"url": "https://docs.aws.amazon.com//msk/1.0/apireference/clusters-clusterarn-nodes-storage.html#UpdateBrokerStorage",
"title": "UpdateBrokerStorage"
}
],
"text": "To update a broker storage using the API, see UpdateBrokerStorage.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/manually-expand-storage.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/manually-expand-storage.html#update-storage-api",
"main_header": "Scaling up broker storage using the API",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-storage.html",
"title": "Scaling up broker storage"
}
]
},
{
"h1": {
"urllink": "#msk-update-broker-type",
"text": "Updating the broker type"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#ensure-high-availability",
"title": "Build highly available clusters"
}
],
"text": "You can scale your MSK cluster on demand by changing the type (the size or family) of your brokers without reassigning Apache Kafka partitions. Changing the type of your brokers gives you the flexibility to adjust your MSK cluster\u00e2\u0080\u0099s compute capacity based on changes in your workloads, without interrupting your cluster I/O. Amazon MSK uses the same broker type for all the brokers in a given cluster. This section describes how to update the broker type for your MSK cluster. The broker-type update happens in a rolling fashion while the cluster is up and running. This means that Amazon MSK takes down one broker at a time to perform the broker-type update. For information about how to make a cluster highly available during a broker-type update, see Build highly available clusters. To further reduce any potential impact on productivity, you can perform the broker-type update during a period of low traffic.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-type.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-type.html#msk-update-broker-type",
"main_header": "Updating the broker type",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-broker-type",
"text": "Updating the broker type"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/operations.html",
"title": "Amazon MSK operations"
}
],
"text": "During a broker-type update, you can continue to produce and consume data. However, you must wait until the update is done before you can reboot brokers or invoke any of the update operations listed under Amazon MSK operations.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-type.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-type.html#msk-update-broker-type",
"main_header": "Updating the broker type",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-broker-type",
"text": "Updating the broker type"
},
"links": [],
"text": "If you want to update your cluster to a smaller broker type, we recommend that you try the update on a test cluster first to see how it affects your scenario.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-type.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-type.html#msk-update-broker-type",
"main_header": "Updating the broker type",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-broker-type",
"text": "Updating the broker type"
},
"h2": {
"urllink": "#update-broker-type-api",
"text": "Updating the broker type using the API"
},
"links": [
{
"url": "https://docs.aws.amazon.com//msk/1.0/apireference/clusters-clusterarn-nodes-type.html#UpdateBrokerType",
"title": "UpdateBrokerType"
}
],
"text": "To update the broker type using the API, see UpdateBrokerType.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-type.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-type.html#update-broker-type-api",
"main_header": "Updating the broker type using the API",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-cluster-config",
"text": "Updating the configuration of an Amazon MSK Cluster"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#partitions-per-broker",
"title": "Right-size your cluster: Number of partitions per broker"
}
],
"text": "To update the configuration of a cluster, make sure that the cluster is in the ACTIVE state. You must also ensure that the number of partitions per broker on your MSK cluster is under the limits described in  Right-size your cluster: Number of partitions per broker. You can't update the configuration of a cluster that exceeds these limits.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-cluster-config.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-cluster-config.html#msk-update-cluster-config",
"main_header": "Updating the configuration of an Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-cluster-config",
"text": "Updating the configuration of an Amazon MSK Cluster"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
],
"text": "For information about MSK configuration, including how to create a custom configuration, which properties you can update, and what happens when you update the configuration of an existing cluster, see Amazon MSK Configuration.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-cluster-config.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-cluster-config.html#msk-update-cluster-config",
"main_header": "Updating the configuration of an Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-cluster-config",
"text": "Updating the configuration of an Amazon MSK Cluster"
},
"h2": {
"urllink": "#update-config-api",
"text": "Updating the configuration of a cluster using the API"
},
"links": [
{
"url": "https://docs.aws.amazon.com//msk/1.0/apireference/clusters-clusterarn-configuration.html#UpdateClusterConfiguration",
"title": "UpdateClusterConfiguration"
}
],
"text": "To use the API to update the configuration of a cluster, see UpdateClusterConfiguration.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-cluster-config.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-cluster-config.html#update-config-api",
"main_header": "Updating the configuration of a cluster using the API",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-broker-count",
"text": "Expanding an Amazon MSK Cluster"
},
"links": [],
"text": "Use this Amazon MSK operation when you want to increase the number of brokers in your MSK cluster. To expand a cluster, make sure that it is in the ACTIVE state.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-count.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-count.html#msk-update-broker-count",
"main_header": "Expanding an Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-broker-count",
"text": "Expanding an Amazon MSK Cluster"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#bestpractices-balance-cluster",
"title": "Reassign partitions"
}
],
"text": "For information about how to rebalance partitions after you add brokers to a cluster, see Reassign partitions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-count.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-count.html#msk-update-broker-count",
"main_header": "Expanding an Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-broker-count",
"text": "Expanding an Amazon MSK Cluster"
},
"h2": {
"urllink": "#expand-cluster-api",
"text": "Expanding a cluster using the API"
},
"links": [
{
"url": "https://docs.aws.amazon.com//msk/1.0/apireference/clusters-clusterarn-nodes-count.html#UpdateBrokerCount",
"title": "UpdateBrokerCount"
}
],
"text": "To increase the number of brokers in a cluster using the API, see UpdateBrokerCount.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-count.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-count.html#expand-cluster-api",
"main_header": "Expanding a cluster using the API",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-security",
"text": "Updating a cluster's security settings"
},
"links": [],
"text": "Use this Amazon MSK operation to update the authentication and client-broker encryption settings of your MSK cluster. You can also update the Private Security Authority used to sign certificates for mutual TLS authentication. You can't change the in-cluster (broker-to-broker) encryption setting.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html#msk-update-security",
"main_header": "Updating a cluster's security settings",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-security",
"text": "Updating a cluster's security settings"
},
"links": [],
"text": "The cluster must be in the ACTIVE state for you to update its security settings.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html#msk-update-security",
"main_header": "Updating a cluster's security settings",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-security",
"text": "Updating a cluster's security settings"
},
"links": [],
"text": "If you turn on authentication using IAM, SASL, or TLS, you must also turn on encryption between clients and brokers. The following table shows the possible combinations.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html#msk-update-security",
"main_header": "Updating a cluster's security settings",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-security",
"text": "Updating a cluster's security settings"
},
"links": [],
"text": "When client-broker encryption is set to TLS_PLAINTEXT and client-authentication is set to mTLS, Amazon MSK creates two types of listeners for clients to connect to: one listener for clients to connect using mTLS authentication with TLS Encryption, and another for clients to connect without authentication or encryption (plaintext).",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html#msk-update-security",
"main_header": "Updating a cluster's security settings",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-security",
"text": "Updating a cluster's security settings"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
],
"text": "For more information about security settings, see Security in Amazon Managed Streaming for Apache Kafka.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html#msk-update-security",
"main_header": "Updating a cluster's security settings",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-update-security",
"text": "Updating a cluster's security settings"
},
"h2": {
"urllink": "#update-security-api",
"text": "Updating a cluster's security settings using the API"
},
"links": [
{
"url": "https://docs.aws.amazon.com//msk/1.0/apireference/clusters-clusterarn-security.html#UpdateSecurity",
"title": "UpdateSecurity"
}
],
"text": "To update the security settings for a cluster using the API, see UpdateSecurity.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html#update-security-api",
"main_header": "Updating a cluster's security settings using the API",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-reboot-broker",
"text": "Rebooting a broker for an Amazon MSK cluster"
},
"links": [],
"text": "Use this Amazon MSK operation when you want to reboot a broker for your MSK cluster. To reboot a broker for a cluster, make sure that the cluster in the ACTIVE state.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-reboot-broker.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-reboot-broker.html#msk-reboot-broker",
"main_header": "Rebooting a broker for an Amazon MSK cluster",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-reboot-broker",
"text": "Rebooting a broker for an Amazon MSK cluster"
},
"links": [],
"text": "The Amazon MSK service may reboot the brokers for your MSK cluster during system maintenance, such as patching or version upgrades. Rebooting a broker manually lets you test resilience of your Kafka clients to determine how they respond to system maintenance.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-reboot-broker.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-reboot-broker.html#msk-reboot-broker",
"main_header": "Rebooting a broker for an Amazon MSK cluster",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-reboot-broker",
"text": "Rebooting a broker for an Amazon MSK cluster"
},
"h2": {
"urllink": "#msk-reboot-broker-cli",
"text": "Rebooting a Broker Using the AWS CLI"
},
"links": [],
"text": "When the reboot operation is complete, the OperationState is REBOOT_COMPLETE.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-reboot-broker.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-reboot-broker.html#msk-reboot-broker-cli",
"main_header": "Rebooting a Broker Using the AWS CLI",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-reboot-broker",
"text": "Rebooting a broker for an Amazon MSK cluster"
},
"h2": {
"urllink": "#msk-reboot-broker",
"text": "Rebooting a Broker Using the API"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/clusters-clusterarn-reboot-broker.html#RebootBroker",
"title": "RebootBroker"
}
],
"text": "To reboot a broker in a cluster using the API, see RebootBroker.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-reboot-broker.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-reboot-broker.html#msk-reboot-broker",
"main_header": "Rebooting a Broker Using the API",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-tagging",
"text": "Tagging an Amazon MSK Cluster"
},
"links": [],
"text": "You can assign your own metadata in the form of tags to an Amazon MSK resource, such as an MSK cluster. A tag is a key-value pair that you define for the resource. Using tags is a simple yet powerful way to manage AWS resources and organize data, including billing data.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html#msk-tagging",
"main_header": "Tagging an Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-tagging",
"text": "Tagging an Amazon MSK Cluster"
},
"h2": {
"urllink": "#msk-tagging-basics",
"text": "Tag Basics"
},
"links": [],
"text": "You can use the Amazon MSK API to complete the following tasks:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html#msk-tagging-basics",
"main_header": "Tag Basics",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-tagging",
"text": "Tagging an Amazon MSK Cluster"
},
"h2": {
"urllink": "#msk-tagging-basics",
"text": "Tag Basics"
},
"links": [],
"text": "You can use tags to categorize your Amazon MSK resources. For example, you can categorize your Amazon MSK clusters by purpose, owner, or environment. Because you define the key and value for each tag, you can create a custom set of categories to meet your specific needs. For example, you might define a set of tags that help you track clusters by owner and associated application.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html#msk-tagging-basics",
"main_header": "Tag Basics",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-tagging",
"text": "Tagging an Amazon MSK Cluster"
},
"h2": {
"urllink": "#msk-tagging-basics",
"text": "Tag Basics"
},
"links": [],
"text": "The following are several examples of tags:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html#msk-tagging-basics",
"main_header": "Tag Basics",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-tagging",
"text": "Tagging an Amazon MSK Cluster"
},
"h2": {
"urllink": "#msk-tagging-billing",
"text": "Tracking Costs Using Tagging"
},
"links": [
{
"url": "https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/cost-alloc-tags.html",
"title": "Use Cost Allocation Tags for Custom Billing\n\t\t\t\tReports"
}
],
"text": "You can use tags to categorize and track your AWS costs. When you apply tags to your AWS resources, including Amazon MSK clusters, your AWS cost allocation report includes usage and costs aggregated by tags. You can organize your costs across multiple services by applying tags that represent business categories (such as cost centers, application names, or owners). For more information, see Use Cost Allocation Tags for Custom Billing Reports in the AWS Billing User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html#msk-tagging-billing",
"main_header": "Tracking Costs Using Tagging",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-tagging",
"text": "Tagging an Amazon MSK Cluster"
},
"h2": {
"urllink": "#msk-tagging-restrictions",
"text": "Tag Restrictions"
},
"links": [],
"text": "The following restrictions apply to tags in Amazon MSK.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html#msk-tagging-restrictions",
"main_header": "Tag Restrictions",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-tagging",
"text": "Tagging an Amazon MSK Cluster"
},
"h2": {
"urllink": "#msk-tagging-howto",
"text": "Tagging Resources Using the Amazon MSK API"
},
"links": [],
"text": "You can use the following operations to tag or untag an Amazon MSK resource or to list the current set of tags for a resource:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html#msk-tagging-howto",
"main_header": "Tagging Resources Using the Amazon MSK API",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
]
},
{
"h1": {
"urllink": "#msk-configuration",
"text": "Amazon MSK Configuration"
},
"links": [],
"text": "Amazon MSK provides a default configuration for brokers, topics, and Apache ZooKeeper nodes. You can also create custom configurations and use them to create new MSK clusters or to update existing clusters. An MSK configuration consists of a set of properties and their corresponding values.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html#msk-configuration",
"main_header": "Amazon MSK Configuration",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-configuration-properties",
"text": "Custom MSK Configurations"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-default-configuration.html",
"title": "The Default Amazon MSK Configuration"
},
{
"url": "https://kafka.apache.org/documentation/#configuration",
"title": "Apache Kafka Configuration"
}
],
"text": "Amazon MSK enables you to create a custom MSK configuration where you set the following properties. Properties that you don't set explicitly get the values they have in The Default Amazon MSK Configuration. For more information about configuration properties, see Apache Kafka Configuration.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html#msk-configuration-properties",
"main_header": "Custom MSK Configurations",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-configuration-properties",
"text": "Custom MSK Configurations"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html",
"title": "Amazon MSK Configuration Operations"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
],
"text": "To learn how you can create a custom MSK configuration, list all configurations, or describe them, see Amazon MSK Configuration Operations. To create an MSK cluster using a custom MSK configuration or to update a cluster with a new custom configuration, see Amazon MSK: How It Works.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html#msk-configuration-properties",
"main_header": "Custom MSK Configurations",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-configuration-properties",
"text": "Custom MSK Configurations"
},
"links": [],
"text": "When you update your existing MSK cluster with a custom MSK configuration, Amazon MSK does rolling restarts when necessary, using best practices to minimize customer downtime. For example, after Amazon MSK restarts each broker, it tries to let the broker catch up on data that the broker might have missed during the configuration update before it moves to the next broker.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html#msk-configuration-properties",
"main_header": "Custom MSK Configurations",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-configuration-properties",
"text": "Custom MSK Configurations"
},
"h2": {
"urllink": "#msk-dynamic-confinguration",
"text": "Dynamic Configuration"
},
"links": [
{
"url": "https://kafka.apache.org/documentation/#brokerconfigs",
"title": "Broker Configs"
},
{
"url": "https://kafka.apache.org/documentation/#dynamicbrokerconfigs",
"title": "Updating Broker Configs"
}
],
"text": "In addition to the configuration properties that Amazon MSK provides, you can dynamically set cluster- and broker-level configuration properties that don\u00e2\u0080\u0099t require a broker restart. You can dynamically set configuration properties that aren't marked as read-only in the table under Broker Configs in the Apache Kafka documentation. For information about dynamic configuration and example commands, see Updating Broker Configs in the Apache Kafka documentation.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html#msk-dynamic-confinguration",
"main_header": "Dynamic Configuration",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-configuration-properties",
"text": "Custom MSK Configurations"
},
"h2": {
"urllink": "#msk-topic-confinguration",
"text": "Topic-Level Configuration"
},
"links": [
{
"url": "https://kafka.apache.org/documentation/#topicconfigs",
"title": "Topic-Level Configs"
}
],
"text": "You can  use Apache Kafka commands to set or modify topic-level configuration properties for new and existing topics. For more information about topic-level configuration properties and examples on how to set them, see Topic-Level Configs in the Apache Kafka documentation.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html#msk-topic-confinguration",
"main_header": "Topic-Level Configuration",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-configuration-properties",
"text": "Custom MSK Configurations"
},
"h2": {
"urllink": "#msk-configuration-states",
"text": "Configuration States"
},
"links": [],
"text": "Amazon MSK configurations can be in the following states. To perform an operation on a configuration, the configuration must be in the ACTIVE or DELETE_FAILED state:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html#msk-configuration-states",
"main_header": "Configuration States",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-default-configuration",
"text": "The Default Amazon MSK Configuration"
},
"links": [
{
"url": "https://kafka.apache.org/documentation/#configuration",
"title": "Apache Kafka Configuration"
}
],
"text": "When you create an MSK cluster without specifying a custom MSK configuration, Amazon MSK creates and uses a default configuration with the values shown in the following table. For properties that aren't in this table, Amazon MSK uses the defaults associated with your version of Apache Kafka. For a list of these default values, see Apache Kafka Configuration.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-default-configuration.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-default-configuration.html#msk-default-configuration",
"main_header": "The Default Amazon MSK Configuration",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-default-configuration",
"text": "The Default Amazon MSK Configuration"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html",
"title": "Custom MSK Configurations"
}
],
"text": "For information about how to specify custom configuration values, see Custom MSK Configurations.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-default-configuration.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-default-configuration.html#msk-default-configuration",
"main_header": "The Default Amazon MSK Configuration",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-configuration-operations",
"text": "Amazon MSK Configuration Operations"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
],
"text": "This topic describes how to create custom MSK configurations and how to perform operations on them. For information about how to use MSK configurations to create or update clusters, see Amazon MSK: How It Works.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html#msk-configuration-operations",
"main_header": "Amazon MSK Configuration Operations",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#msk-configuration-operations",
"text": "Amazon MSK Configuration Operations"
},
"h2": {
"urllink": "#msk-configuration-operations-delete",
"text": "To delete an MSK configuration"
},
"links": [],
"text": "The following procedure shows how to delete a configuration that isn't attached to a cluster. You can't delete a configuration that's attached to a cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-operations.html#msk-configuration-operations-delete",
"main_header": "To delete an MSK configuration",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
]
},
{
"h1": {
"urllink": "#serverless",
"text": "MSK Serverless"
},
"links": [],
"text": "MSK Serverless is a cluster type for Amazon MSK that makes it possible for you to run Apache Kafka without having to manage and scale cluster capacity. It automatically provisions and scales capacity while managing the partitions in your topic, so you can stream data without thinking about right-sizing or scaling clusters. MSK Serverless offers a throughput-based pricing model, so you pay only for what you use. Consider using a serverless cluster if your applications need on-demand streaming capacity that scales up and down automatically.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html#serverless",
"main_header": "MSK Serverless",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#serverless",
"text": "MSK Serverless"
},
"links": [],
"text": "MSK Serverless is fully compatible with Apache Kafka, so you can use any compatible client applications to produce and consume data. It also integrates with the following services:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html#serverless",
"main_header": "MSK Serverless",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#serverless",
"text": "MSK Serverless"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"title": "IAM access control"
}
],
"text": "MSK Serverless requires IAM access control for all clusters. For more information, see IAM access control.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html#serverless",
"main_header": "MSK Serverless",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#serverless",
"text": "MSK Serverless"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/limits.html#serverless-quota",
"title": "MSK Serverless quota"
}
],
"text": "For information about the service quota that apply to MSK Serverless, see MSK Serverless quota.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html#serverless",
"main_header": "MSK Serverless",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#serverless",
"text": "MSK Serverless"
},
"links": [],
"text": "To help you get started with serverless clusters, and to learn more about configuration and monitoring options for serverless clusters, see the following.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html#serverless",
"main_header": "MSK Serverless",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#serverless-getting-started",
"text": "Getting started using MSK Serverless clusters"
},
"links": [
{
"url": "https://docs.aws.amazon.com/MSK/2.0/APIReference/what-is-msk.html",
"title": "Amazon MSK API Reference 2.0"
}
],
"text": "This tutorial shows you an example of how you can create an MSK Serverless cluster, create a client machine that can access it, and use the client to create topics on the cluster and to write data to those topics. This exercise doesn't represent all the options that you can choose when you create a serverless cluster. In different parts of this exercise, we choose default options for simplicity. This doesn't mean that they're the only options that work for setting up a serverless cluster. You can also use the AWS CLI or the Amazon MSK API. For more information, see the Amazon MSK API Reference 2.0.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html#serverless-getting-started",
"main_header": "Getting started using MSK Serverless clusters",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
}
]
},
{
"h1": {
"urllink": "#create-serverless-cluster",
"text": "Step 1: Create an MSK Serverless cluster"
},
"links": [],
"text": "In this step, you perform two tasks. First, you create an MSK Serverless cluster with default settings. Second, you gather information about the cluster. This is information that you need in later steps when you create a client that can send data to the cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster.html#create-serverless-cluster",
"main_header": "Step 1: Create an MSK Serverless cluster",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#create-serverless-cluster",
"text": "Step 1: Create an MSK Serverless cluster"
},
"links": [],
"text": "Next Step",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster.html#create-serverless-cluster",
"main_header": "Step 1: Create an MSK Serverless cluster",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#create-serverless-cluster",
"text": "Step 1: Create an MSK Serverless cluster"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-iam-role.html",
"title": "Step 2: Create an IAM role"
}
],
"text": "Step 2: Create an IAM role",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster.html#create-serverless-cluster",
"main_header": "Step 1: Create an MSK Serverless cluster",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#create-iam-role",
"text": "Step 2: Create an IAM role"
},
"links": [],
"text": "In this step, you perform two tasks. The first task is to create an IAM policy that grants access to create topics on the cluster and to send data to those topics. The second task is to create an IAM role and associate this policy with it. In a later step, we create a client machine that assumes this role and uses it to create a topic on the cluster and to send data to that topic.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-iam-role.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-iam-role.html#create-iam-role",
"main_header": "Step 2: Create an IAM role",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#create-iam-role",
"text": "Step 2: Create an IAM role"
},
"links": [],
"text": "Next Step",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-iam-role.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-iam-role.html#create-iam-role",
"main_header": "Step 2: Create an IAM role",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#create-iam-role",
"text": "Step 2: Create an IAM role"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster-client.html",
"title": "Step 3: Create a client machine"
}
],
"text": "Step 3: Create a client machine",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-iam-role.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-iam-role.html#create-iam-role",
"main_header": "Step 2: Create an IAM role",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#create-serverless-cluster-client",
"text": "Step 3: Create a client machine"
},
"links": [],
"text": "In the step, you perform two tasks. The first task is to create an Amazon EC2 instance to use as an Apache Kafka client machine. The second task is to install Java and Apache Kafka tools on the machine.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster-client.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster-client.html#create-serverless-cluster-client",
"main_header": "Step 3: Create a client machine",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#create-serverless-cluster-client",
"text": "Step 3: Create a client machine"
},
"links": [],
"text": "Next Step",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster-client.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster-client.html#create-serverless-cluster-client",
"main_header": "Step 3: Create a client machine",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#create-serverless-cluster-client",
"text": "Step 3: Create a client machine"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-create-topic.html",
"title": "Step 4: Create an Apache Kafka topic"
}
],
"text": "Step 4: Create an Apache Kafka topic",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster-client.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/create-serverless-cluster-client.html#create-serverless-cluster-client",
"main_header": "Step 3: Create a client machine",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#msk-serverless-create-topic",
"text": "Step 4: Create an Apache Kafka topic"
},
"links": [],
"text": "In this step, you use the previously created client machine to create a topic on the serverless cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-create-topic.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-create-topic.html#msk-serverless-create-topic",
"main_header": "Step 4: Create an Apache Kafka topic",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#msk-serverless-create-topic",
"text": "Step 4: Create an Apache Kafka topic"
},
"links": [],
"text": "Next Step",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-create-topic.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-create-topic.html#msk-serverless-create-topic",
"main_header": "Step 4: Create an Apache Kafka topic",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#msk-serverless-create-topic",
"text": "Step 4: Create an Apache Kafka topic"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-produce-consume.html",
"title": "Step 5: Produce and consume data"
}
],
"text": "Step 5: Produce and consume data",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-create-topic.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-create-topic.html#msk-serverless-create-topic",
"main_header": "Step 4: Create an Apache Kafka topic",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#msk-serverless-produce-consume",
"text": "Step 5: Produce and consume data"
},
"links": [],
"text": "In this step, you produce and consume data using the topic that you created in the previous step.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-produce-consume.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-produce-consume.html#msk-serverless-produce-consume",
"main_header": "Step 5: Produce and consume data",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#msk-serverless-produce-consume",
"text": "Step 5: Produce and consume data"
},
"links": [],
"text": "Next Step",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-produce-consume.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-produce-consume.html#msk-serverless-produce-consume",
"main_header": "Step 5: Produce and consume data",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#msk-serverless-produce-consume",
"text": "Step 5: Produce and consume data"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-resources.html",
"title": "Step 6: Delete resources"
}
],
"text": "Step 6: Delete resources",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-produce-consume.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-serverless-produce-consume.html#msk-serverless-produce-consume",
"main_header": "Step 5: Produce and consume data",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#delete-resources",
"text": "Step 6: Delete resources"
},
"links": [],
"text": "In this step, you delete the resources that you created in this tutorial.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-resources.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/delete-resources.html#delete-resources",
"main_header": "Step 6: Delete resources",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-getting-started.html",
"title": "Getting started using MSK Serverless clusters"
}
]
},
{
"h1": {
"urllink": "#serverless-config",
"text": "Configuration for Serverless Clusters"
},
"links": [],
"text": "Amazon MSK sets broker configuration properties for serverless clusters. You can't change these broker configuration property settings. However, you can set the following topic configuration properties.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-config.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-config.html#serverless-config",
"main_header": "Configuration for Serverless Clusters",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
}
]
},
{
"h1": {
"urllink": "#serverless-config",
"text": "Configuration for Serverless Clusters"
},
"links": [
{
"url": "https://kafka.apache.org/documentation/#topicconfigs",
"title": "Topic-Level Configs"
}
],
"text": "You can also use Apache Kafka commands to set or modify topic-level configuration properties for new or existing topics. For more information about topic-level configuration properties and examples of how to set them, see Topic-Level Configs in the official Apache Kafka documentation.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-config.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-config.html#serverless-config",
"main_header": "Configuration for Serverless Clusters",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
}
]
},
{
"h1": {
"urllink": "#serverless-monitoring",
"text": "Monitoring for Serverless Clusters"
},
"links": [],
"text": "Amazon MSK integrates with Amazon CloudWatch so that you can collect, view, and analyze metrics for your MSK serverless cluster. The metrics shown in the following table are available for all serverless clusters. As these metrics are published as individual data points for each partition in the topic, we recommend viewing them as a 'SUM' statistic to get the topic-level view.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless-monitoring.html#serverless-monitoring",
"main_header": "Monitoring for Serverless Clusters",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/serverless.html",
"title": "MSK Serverless"
}
]
},
{
"h1": {
"urllink": "#msk-connect",
"text": "MSK Connect"
},
"h2": {
"urllink": "#what-is-mkc",
"text": "What is MSK Connect?"
},
"links": [],
"text": "MSK Connect is a feature of Amazon MSK that makes it easy for developers to stream data to and from their Apache Kafka clusters. MSK Connect uses Kafka Connect 2.7.1, an open-source framework for connecting Apache Kafka clusters with external systems such as databases, search indexes, and file systems. With MSK Connect, you can deploy fully managed connectors built for Kafka Connect that move data into or pull data from popular data stores like Amazon S3 and Amazon OpenSearch Service. You can deploy connectors developed by 3rd parties like Debezium for streaming change logs from databases into an Apache Kafka cluster, or deploy an existing connector with no code changes. Connectors automatically scale to adjust for changes in load and you pay only for the resources that you use.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect.html#what-is-mkc",
"main_header": "What is MSK Connect?",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect",
"text": "MSK Connect"
},
"h2": {
"urllink": "#what-is-mkc",
"text": "What is MSK Connect?"
},
"links": [],
"text": "Use source connectors to import data from external systems into your topics. With sink connectors, you can export data from your topics to external systems.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect.html#what-is-mkc",
"main_header": "What is MSK Connect?",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect",
"text": "MSK Connect"
},
"h2": {
"urllink": "#what-is-mkc",
"text": "What is MSK Connect?"
},
"links": [],
"text": "MSK Connect supports connectors for any Apache Kafka cluster with connectivity to an Amazon VPC, whether it is an MSK cluster or an independently hosted Apache Kafka cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect.html#what-is-mkc",
"main_header": "What is MSK Connect?",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect",
"text": "MSK Connect"
},
"h2": {
"urllink": "#what-is-mkc",
"text": "What is MSK Connect?"
},
"links": [],
"text": "MSK Connect continuously monitors connector health and delivery state, patches and manages the underlying hardware, and autoscales the connectors to match changes in throughput.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect.html#what-is-mkc",
"main_header": "What is MSK Connect?",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect",
"text": "MSK Connect"
},
"h2": {
"urllink": "#what-is-mkc",
"text": "What is MSK Connect?"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
],
"text": "To get started using MSK Connect, see Getting Started Using MSK Connect.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect.html#what-is-mkc",
"main_header": "What is MSK Connect?",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect",
"text": "MSK Connect"
},
"h2": {
"urllink": "#what-is-mkc",
"text": "What is MSK Connect?"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html",
"title": "Connectors"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-plugins.html",
"title": "Plugins"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-workers.html",
"title": "Workers"
}
],
"text": "To learn about the AWS resources that you can create with MSK Connect, see Connectors, Plugins, and Workers.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect.html#what-is-mkc",
"main_header": "What is MSK Connect?",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect",
"text": "MSK Connect"
},
"h2": {
"urllink": "#what-is-mkc",
"text": "What is MSK Connect?"
},
"links": [
{
"url": "https://docs.aws.amazon.com/MSKC/latest/mskc/Welcome.html",
"title": "Amazon MSK API Reference"
}
],
"text": "For information about the MSK Connect API, see the Amazon MSK API Reference.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect.html#what-is-mkc",
"main_header": "What is MSK Connect?",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-getting-started",
"text": "Getting Started Using MSK Connect"
},
"links": [],
"text": "This is a step-by-step tutorial that uses the AWS Management Console to create an MSK cluster and a sink connector that sends data from the cluster to an S3 bucket.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html#msk-connect-getting-started",
"main_header": "Getting Started Using MSK Connect",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#mkc-tutorial-setup",
"text": "Step 1: Set up required resources"
},
"links": [],
"text": "In this step you create the following resources that you need for this getting-started scenario:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html#mkc-tutorial-setup",
"main_header": "Step 1: Set up required resources",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-tutorial-setup",
"text": "Step 1: Set up required resources"
},
"links": [],
"text": "Next Step",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html#mkc-tutorial-setup",
"main_header": "Step 1: Set up required resources",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-tutorial-setup",
"text": "Step 1: Set up required resources"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-plugin.html",
"title": "Step 2: Create custom plugin"
}
],
"text": "Step 2: Create custom plugin",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-tutorial-setup.html#mkc-tutorial-setup",
"main_header": "Step 1: Set up required resources",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-create-plugin",
"text": "Step 2: Create custom plugin"
},
"links": [],
"text": "A plugin contains the code that defines the logic of the connector. In this step you create a custom plugin that has the code for the Lenses Amazon S3 Sink Connector. In a later step, when you create the MSK connector, you specify that its code is in this custom plugin. You can use the same plugin to create multiple MSK connectors with different configurations.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-plugin.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-plugin.html#mkc-create-plugin",
"main_header": "Step 2: Create custom plugin",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-create-plugin",
"text": "Step 2: Create custom plugin"
},
"links": [],
"text": "It might take AWS a few minutes to finish creating the custom plugin. When the creation process is complete, you see the following message in a banner at the top of the browser window.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-plugin.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-plugin.html#mkc-create-plugin",
"main_header": "Step 2: Create custom plugin",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-create-plugin",
"text": "Step 2: Create custom plugin"
},
"links": [],
"text": "Next Step",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-plugin.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-plugin.html#mkc-create-plugin",
"main_header": "Step 2: Create custom plugin",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-create-plugin",
"text": "Step 2: Create custom plugin"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-topic.html",
"title": "Step 3: Create client machine and Apache Kafka topic"
}
],
"text": "Step 3: Create client machine and Apache Kafka topic",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-plugin.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-plugin.html#mkc-create-plugin",
"main_header": "Step 2: Create custom plugin",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-create-topic",
"text": "Step 3: Create client machine and Apache Kafka topic"
},
"links": [],
"text": "In this step you create an Amazon EC2 instance to use as an Apache Kafka client instance. You then use this instance to create a topic on the cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-topic.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-topic.html#mkc-create-topic",
"main_header": "Step 3: Create client machine and Apache Kafka topic",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-create-topic",
"text": "Step 3: Create client machine and Apache Kafka topic"
},
"links": [],
"text": "Next Step",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-topic.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-topic.html#mkc-create-topic",
"main_header": "Step 3: Create client machine and Apache Kafka topic",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-create-topic",
"text": "Step 3: Create client machine and Apache Kafka topic"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-connector.html",
"title": "Step 4: Create connector"
}
],
"text": "Step 4: Create connector",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-topic.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-topic.html#mkc-create-topic",
"main_header": "Step 3: Create client machine and Apache Kafka topic",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-create-connector",
"text": "Step 4: Create connector"
},
"links": [],
"text": "Next Step",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-connector.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-connector.html#mkc-create-connector",
"main_header": "Step 4: Create connector",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-create-connector",
"text": "Step 4: Create connector"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-send-data.html",
"title": "Step 5: Send data"
}
],
"text": "Step 5: Send data",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-connector.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-create-connector.html#mkc-create-connector",
"main_header": "Step 4: Create connector",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-send-data",
"text": "Step 5: Send data"
},
"links": [],
"text": "In this step you send data to the Apache Kafka topic that you created earlier, and then look for that same data in the destination S3 bucket.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-send-data.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-send-data.html#mkc-send-data",
"main_header": "Step 5: Send data",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-getting-started.html",
"title": "Getting Started Using MSK Connect"
}
]
},
{
"h1": {
"urllink": "#msk-connect-connectors",
"text": "Connectors"
},
"links": [],
"text": "A connector integrates external systems and Amazon services with Apache Kafka by continuously copying streaming data from a data source into your Apache Kafka cluster, or continuously copying data from your cluster into a data sink. A connector can also perform lightweight logic such as transformation, format conversion, or filtering data before delivering the data to a destination. Source connectors pull data from a data source and push this data into the cluster, while sink connectors pull data from the cluster and push this data into a data sink.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html#msk-connect-connectors",
"main_header": "Connectors",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-connectors",
"text": "Connectors"
},
"links": [],
"text": "The following diagram shows the architecture of a connector. A worker is a Java virtual machine (JVM) process that runs the connector logic. Each worker creates a set of tasks that run in parallel threads and do the work of copying the data. Tasks don't store state, and can therefore be started, stopped, or restarted at any time in order to provide a resilient and scalable data pipeline.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html#msk-connect-connectors",
"main_header": "Connectors",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-connectors",
"text": "Connectors"
},
"h2": {
"urllink": "#msk-connect-capacity",
"text": "Connector capacity"
},
"links": [],
"text": "The total capacity of a connector depends on the number of workers that the connector has, as well as on the number of MSK Connect Units (MCUs) per worker. Each MCU represents 1 vCPU of compute and 4 GiB of memory. To create a connector, you must choose between one of the following two capacity modes.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html#msk-connect-capacity",
"main_header": "Connector capacity",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-connectors",
"text": "Connectors"
},
"h2": {
"urllink": "#msk-connect-capacity",
"text": "Connector capacity"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-workers.html",
"title": "Workers"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-monitoring-overview.html",
"title": "Monitoring MSK Connect"
}
],
"text": "For more information about workers, see Workers. To learn about MSK Connect metrics, see Monitoring MSK Connect.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html#msk-connect-capacity",
"main_header": "Connector capacity",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-connectors",
"text": "Connectors"
},
"h2": {
"urllink": "#mkc-create-connector-intro",
"text": "Creating a connector"
},
"links": [
{
"url": "https://docs.aws.amazon.com/MSKC/latest/mskc/API_CreateConnector.html",
"title": "CreateConnector"
}
],
"text": "To use the MSK Connect API to create a connector, see CreateConnector.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html#mkc-create-connector-intro",
"main_header": "Creating a connector",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-plugins",
"text": "Plugins"
},
"links": [],
"text": "A plugin is an AWS resource that contains the code that defines your connector logic. You upload a JAR file (or a ZIP file that contains one or more JAR files) to an S3 bucket, and specify the location of the bucket when you create the plugin. When you create a connector, you specify the plugin that you want MSK Connect to use for it. The relationship of plugins to connectors is one-to-many: You can create one or more connectors from the same plugin.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-plugins.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-plugins.html#msk-connect-plugins",
"main_header": "Plugins",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-plugins",
"text": "Plugins"
},
"links": [
{
"url": "https://kafka.apache.org/documentation/#connect_development",
"title": "Connector Development Guide"
}
],
"text": "For information on how to develop the code for a connector, see the Connector Development Guidein the Apache Kafka documentation.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-plugins.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-plugins.html#msk-connect-plugins",
"main_header": "Plugins",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-plugins",
"text": "Plugins"
},
"links": [
{
"url": "https://docs.aws.amazon.com/MSKC/latest/mskc/API_CreateCustomPlugin.html",
"title": "CreateCustomPlugin"
}
],
"text": "To use the MSK Connect API to create a custom plugin, see CreateCustomPlugin.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-plugins.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-plugins.html#msk-connect-plugins",
"main_header": "Plugins",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-workers",
"text": "Workers"
},
"links": [],
"text": "A worker is a Java virtual machine (JVM) process that runs the connector logic. Each worker creates a set of tasks that run in parallel threads and do the work of copying the data. Tasks don't store state, and can therefore be started, stopped, or restarted at any time in order to provide a resilient and scalable data pipeline. Changes to the number of workers, whether due to a scaling event or due to unexpected failures, are automatically detected by the remaining workers. They coordinate to rebalance tasks across the set of remaining workers. Connect workers use Apache Kafka's consumer groups to coordinate and rebalance.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-workers.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-workers.html#msk-connect-workers",
"main_header": "Workers",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-workers",
"text": "Workers"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-connectors.html#msk-connect-capacity",
"title": "Connector capacity"
}
],
"text": "If your connector's capacity requirements are variable or difficult to estimate, you can let MSK Connect scale the number of workers as needed between a lower limit and an upper limit that you specify. Alternatively, you can specify the exact number of workers that you want to run your connector logic. For more information, see Connector capacity.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-workers.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-workers.html#msk-connect-workers",
"main_header": "Workers",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-workers",
"text": "Workers"
},
"h2": {
"urllink": "#msk-connect-default-worker-config",
"text": "Default worker configuration"
},
"links": [],
"text": "MSK Connect provides the following default worker configuration:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-workers.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-workers.html#msk-connect-default-worker-config",
"main_header": "Default worker configuration",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-workers",
"text": "Workers"
},
"h2": {
"urllink": "#msk-connect-supported-worker-config-properties",
"text": "Supported worker configuration properties"
},
"links": [],
"text": "MSK Connect provides a default worker configuration. You also have the option to create a custom worker configuration to use with your connectors. The following list includes information about the worker configuration properties that Amazon MSK Connect does or does not support.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-workers.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-workers.html#msk-connect-supported-worker-config-properties",
"main_header": "Supported worker configuration properties",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-workers",
"text": "Workers"
},
"h2": {
"urllink": "#msk-connect-supported-worker-config-properties",
"text": "Supported worker configuration properties"
},
"links": [
{
"url": "https://kafka.apache.org/documentation/#connectconfigs",
"title": "Kafka Connect Configs"
}
],
"text": "For more information about worker configuration properties and what they represent, see Kafka Connect Configs in the Apache Kafka documentation.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-workers.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-workers.html#msk-connect-supported-worker-config-properties",
"main_header": "Supported worker configuration properties",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-workers",
"text": "Workers"
},
"h2": {
"urllink": "#msk-connect-supported-worker-config-properties",
"text": "Supported worker configuration properties"
},
"h3": {
"urllink": "#msk-connect-create-custom-worker-config",
"text": "Creating a custom worker configuration"
},
"links": [
{
"url": "https://docs.aws.amazon.com/MSKC/latest/mskc/API_CreateWorkerConfiguration.html",
"title": "CreateWorkerConfiguration"
}
],
"text": "To use the MSK Connect API to create a worker configuration, see CreateWorkerConfiguration.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-workers.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-workers.html#msk-connect-create-custom-worker-config",
"main_header": "Creating a custom worker configuration",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-config-provider",
"text": "Using a configuration provider to externalize secrets"
},
"links": [
{
"url": "https://kafka.apache.org/27/javadoc/org/apache/kafka/common/config/provider/ConfigProvider.html",
"title": "ConfigProvider"
}
],
"text": "To externalize sensitive configuration values with a service like AWS Secrets Manager, you can set up a configuration provider that implements the ConfigProvider class interface. A configuration provider lets you specify variables instead of plaintext in a connector or worker configuration, and workers running in your connector resolve these variables at runtime. This prevents credentials and other secrets from appearing as plaintext in a connector configuration.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-config-provider.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-config-provider.html#msk-connect-config-provider",
"main_header": "Using a configuration provider to externalize secrets",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-config-provider",
"text": "Using a configuration provider to externalize secrets"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html",
"title": "Amazon Redshift sink connector with configuration provider"
}
],
"text": "You can develop your own configuration provider plugin or use a third-party plugin. For an example of setting up a third-party configuration provider that integrates with AWS Secrets Manager, see the instructions for configuring an Amazon Redshift sink connector with configuration provider.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-config-provider.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-config-provider.html#msk-connect-config-provider",
"main_header": "Using a configuration provider to externalize secrets",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-config-provider",
"text": "Using a configuration provider to externalize secrets"
},
"links": [],
"text": "To develop your own configuration provider plugin, use the following guidelines:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-config-provider.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-config-provider.html#msk-connect-config-provider",
"main_header": "Using a configuration provider to externalize secrets",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-service-execution-role",
"text": "Service execution role"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/cross-service-confused-deputy-prevention.html",
"title": "Cross-service confused deputy prevention"
}
],
"text": "When you create a connector with MSK Connect, you are required to specify an AWS Identity and Access Management (IAM) role to use with it. Your service execution role must have the following trust policy so that MSK Connect can assume it. For information about the condition context keys in this policy, see Cross-service confused deputy prevention.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-service-execution-role.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-service-execution-role.html#msk-connect-service-execution-role",
"main_header": "Service execution role",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#msk-connect-service-execution-role",
"text": "Service execution role"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#msk-iam-resources",
"title": "Resources"
}
],
"text": "If the Amazon MSK cluster that you want to use with your connector is a cluster that uses IAM authentication, then you must add the following permissions policy to the connector's service execution role. For information on how to find your cluster's UUID and how to construct topic ARNs, see Resources.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-service-execution-role.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-service-execution-role.html#msk-connect-service-execution-role",
"main_header": "Service execution role",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#msk-connect-service-execution-role",
"text": "Service execution role"
},
"links": [],
"text": "Depending on the kind of connector, you might also need to attach to the service execution role a permissions policy that allows it to access AWS resources. For example, if your connector needs to send data to an S3 bucket, then the service execution role must have a permissions policy that grants permission to write to that bucket. For testing purposes, you can use one of the pre-built IAM policies that give full access, like arn:aws:iam::aws:policy/AmazonS3FullAccess. However, for security purposes, we recommend that you use the most restrictive policy that allows your connector to read from the AWS source or write to the AWS sink.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-service-execution-role.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-service-execution-role.html#msk-connect-service-execution-role",
"main_header": "Service execution role",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-iam-policy-examples",
"text": "Examples of IAM policies for MSK Connect"
},
"links": [],
"text": "To give a non-admin user full access to all MSK Connect functionality, attach a policy like the following one to the user's IAM role.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-iam-policy-examples.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-iam-policy-examples.html#mkc-iam-policy-examples",
"main_header": "Examples of IAM policies for MSK Connect",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#cross-service-confused-deputy-prevention",
"text": "Cross-service confused deputy prevention"
},
"links": [],
"text": "The confused deputy problem is a security issue where an entity that doesn't have permission to perform an action can coerce a more-privileged entity to perform the action. In AWS, cross-service impersonation can result in the confused deputy problem. Cross-service impersonation can occur when one service (the calling service) calls another service (the called service). The calling service can be manipulated to use its permissions to act on another customer's resources in a way it should not otherwise have permission to access. To prevent this, AWS provides tools that help you protect your data for all services with service principals that have been given access to resources in your account.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cross-service-confused-deputy-prevention.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cross-service-confused-deputy-prevention.html#cross-service-confused-deputy-prevention",
"main_header": "Cross-service confused deputy prevention",
"images": [],
"container_type": "p",
"children_tags": [
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#cross-service-confused-deputy-prevention",
"text": "Cross-service confused deputy prevention"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html#condition-keys-sourcearn",
"title": "aws:SourceArn"
},
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html#condition-keys-sourceaccount",
"title": "aws:SourceAccount"
}
],
"text": "We recommend using the aws:SourceArn and aws:SourceAccount global condition context keys in resource policies to limit the permissions that MSK Connect gives another service to the resource. If the aws:SourceArn value does not contain the account ID (for example, an Amazon S3 bucket ARN doesn't contain the account ID), you must use both global condition context keys to limit permissions. If you use both global condition context keys and the aws:SourceArn value contains the account ID, the aws:SourceAccount value and the account in the aws:SourceArn value must use the same account ID when used in the same policy statement. Use aws:SourceArn if you want only one resource to be associated with the cross-service access. Use aws:SourceAccount if you want to allow any resource in that account to be associated with the cross-service use.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cross-service-confused-deputy-prevention.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cross-service-confused-deputy-prevention.html#cross-service-confused-deputy-prevention",
"main_header": "Cross-service confused deputy prevention",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#cross-service-confused-deputy-prevention",
"text": "Cross-service confused deputy prevention"
},
"links": [],
"text": "In the case of MSK Connect, the value of aws:SourceArn must be an MSK connector.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cross-service-confused-deputy-prevention.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cross-service-confused-deputy-prevention.html#cross-service-confused-deputy-prevention",
"main_header": "Cross-service confused deputy prevention",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#cross-service-confused-deputy-prevention",
"text": "Cross-service confused deputy prevention"
},
"links": [],
"text": "The most effective way to protect against the confused deputy problem is to use the aws:SourceArn global condition context key with the full ARN of the resource. If you don't know the full ARN of the resource or if you are specifying multiple resources, use the aws:SourceArn global context condition key with wildcards (*) for the unknown portions of the ARN. For example, arn:aws:kafkaconnect:us-east-1:123456789012:connector/* represents all connectors that belong to the account with ID 123456789012 in the\nUS East (N. Virginia) Region.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cross-service-confused-deputy-prevention.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cross-service-confused-deputy-prevention.html#cross-service-confused-deputy-prevention",
"main_header": "Cross-service confused deputy prevention",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#cross-service-confused-deputy-prevention",
"text": "Cross-service confused deputy prevention"
},
"links": [],
"text": "The following example shows how you can use the aws:SourceArn and aws:SourceAccount global condition context keys in MSK Connect to prevent the confused deputy problem. Replace Account-ID and MSK-Connector-ARN with your information.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cross-service-confused-deputy-prevention.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cross-service-confused-deputy-prevention.html#cross-service-confused-deputy-prevention",
"main_header": "Cross-service confused deputy prevention",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-security-iam-awsmanpol",
"text": "AWS managed policies for MSK Connect"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_create-console.html",
"title": "create IAM customer managed policies"
},
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_managed-vs-inline.html#aws-managed-policies",
"title": "AWS managed policies"
}
],
"text": "To add permissions to users, groups, and roles, it is easier to use AWS managed policies than to write policies yourself. It takes time and expertise to  create IAM customer managed policies that provide your team with only the permissions they need. To get started quickly, you can use our AWS managed policies. These policies cover common use cases and are available in your AWS account. For more information about AWS managed policies, see AWS managed policies in the IAM User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-security-iam-awsmanpol.html#mkc-security-iam-awsmanpol",
"main_header": "AWS managed policies for MSK Connect",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-security-iam-awsmanpol",
"text": "AWS managed policies for MSK Connect"
},
"links": [],
"text": "AWS services maintain and update AWS managed policies. You can't change the permissions in AWS managed policies. Services occasionally add additional permissions to an AWS managed policy to support new features. This type of update affects all identities (users, groups, and roles) where the policy is attached. Services are most likely to update an AWS managed policy when a new feature is launched or when new operations become available. Services do not remove permissions from an AWS managed policy, so policy updates won't break your existing permissions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-security-iam-awsmanpol.html#mkc-security-iam-awsmanpol",
"main_header": "AWS managed policies for MSK Connect",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-security-iam-awsmanpol",
"text": "AWS managed policies for MSK Connect"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_job-functions.html",
"title": "AWS managed policies for job functions"
}
],
"text": "Additionally, AWS supports managed policies for job functions that span multiple services. For example, the ViewOnlyAccess AWS managed policy provides read-only access to many AWS services and resources. When a service launches a new feature, AWS adds read-only permissions for new operations and resources. For a list and descriptions of job function policies, see AWS managed policies for job functions in the IAM User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-security-iam-awsmanpol.html#mkc-security-iam-awsmanpol",
"main_header": "AWS managed policies for MSK Connect",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-security-iam-awsmanpol",
"text": "AWS managed policies for MSK Connect"
},
"h2": {
"urllink": "#security-iam-awsmanpol-AmazonMSKConnectReadOnlyAccess",
"text": "AWS managed policy: AmazonMSKConnectReadOnlyAccess"
},
"links": [],
"text": "This policy grants the user the permissions that are needed to list and describe MSK Connect resources.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-security-iam-awsmanpol.html#security-iam-awsmanpol-AmazonMSKConnectReadOnlyAccess",
"main_header": "AWS managed policy: AmazonMSKConnectReadOnlyAccess",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-security-iam-awsmanpol",
"text": "AWS managed policies for MSK Connect"
},
"h2": {
"urllink": "#security-iam-awsmanpol-AmazonMSKConnectReadOnlyAccess",
"text": "AWS managed policy: AmazonMSKConnectReadOnlyAccess"
},
"links": [],
"text": "You can attach the AmazonMSKConnectReadOnlyAccess policy to your IAM identities.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-security-iam-awsmanpol.html#security-iam-awsmanpol-AmazonMSKConnectReadOnlyAccess",
"main_header": "AWS managed policy: AmazonMSKConnectReadOnlyAccess",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-security-iam-awsmanpol",
"text": "AWS managed policies for MSK Connect"
},
"h2": {
"urllink": "#security-iam-awsmanpol-KafkaConnectServiceRolePolicy",
"text": "AWS managed policy: KafkaConnectServiceRolePolicy"
},
"links": [],
"text": "This policy grants the MSK Connect service the permissions that are needed to create and manage network interfaces that have the tag AmazonMSKConnectManaged:true. These network interfaces give MSK Connect network access to resources in your Amazon VPC, such as an Apache Kafka cluster or a source or a sink.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-security-iam-awsmanpol.html#security-iam-awsmanpol-KafkaConnectServiceRolePolicy",
"main_header": "AWS managed policy: KafkaConnectServiceRolePolicy",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-security-iam-awsmanpol",
"text": "AWS managed policies for MSK Connect"
},
"h2": {
"urllink": "#security-iam-awsmanpol-KafkaConnectServiceRolePolicy",
"text": "AWS managed policy: KafkaConnectServiceRolePolicy"
},
"links": [],
"text": "You can't attach KafkaConnectServiceRolePolicy to your IAM entities. This policy is attached to a service-linked role that allows MSK Connect to perform actions on your behalf.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-security-iam-awsmanpol.html#security-iam-awsmanpol-KafkaConnectServiceRolePolicy",
"main_header": "AWS managed policy: KafkaConnectServiceRolePolicy",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-security-iam-awsmanpol",
"text": "AWS managed policies for MSK Connect"
},
"h2": {
"urllink": "#security-iam-awsmanpol-updates",
"text": "MSK Connect updates to AWS managed\n\t\t\t\t\tpolicies"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/doc-history.html",
"title": "Document History for Amazon MSK Developer Guide"
}
],
"text": "View details about updates to AWS managed policies for MSK Connect since this service began tracking these changes. For automatic alerts about changes to this page, subscribe to the RSS feed on the Document History for Amazon MSK Developer Guide page.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-security-iam-awsmanpol.html#security-iam-awsmanpol-updates",
"main_header": "MSK Connect updates to AWS managed\n\t\t\t\t\tpolicies",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-using-service-linked-roles",
"text": "Using Service-Linked Roles for\n\t\t\t\tMSK Connect"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role",
"title": "service-linked roles"
}
],
"text": "Amazon MSK Connect uses AWS Identity and Access Management (IAM) service-linked roles. A service-linked role is a unique type of IAM role that is linked directly to MSK Connect. Service-linked roles are predefined by MSK Connect and include all the permissions that the service requires to call other AWS services on your behalf.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html#mkc-using-service-linked-roles",
"main_header": "Using Service-Linked Roles for\n\t\t\t\tMSK Connect",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-using-service-linked-roles",
"text": "Using Service-Linked Roles for\n\t\t\t\tMSK Connect"
},
"links": [],
"text": "A service-linked role makes setting up MSK Connect easier because you don\u00e2\u0080\u0099t have to manually add the necessary permissions. MSK Connect defines the permissions of its service-linked roles, and unless defined otherwise, only MSK Connect can assume its roles. The defined permissions include the trust policy and the permissions policy, and that permissions policy cannot be attached to any other IAM entity.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html#mkc-using-service-linked-roles",
"main_header": "Using Service-Linked Roles for\n\t\t\t\tMSK Connect",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-using-service-linked-roles",
"text": "Using Service-Linked Roles for\n\t\t\t\tMSK Connect"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_aws-services-that-work-with-iam.html",
"title": "AWS Services That Work with\n\t\t\tIAM"
}
],
"text": "For information about other services that support service-linked roles, see AWS Services That Work with IAM and look for the services that have Yes in the Service-Linked Role column. Choose a Yes with a link to view the service-linked role documentation for that service.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html#mkc-using-service-linked-roles",
"main_header": "Using Service-Linked Roles for\n\t\t\t\tMSK Connect",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-using-service-linked-roles",
"text": "Using Service-Linked Roles for\n\t\t\t\tMSK Connect"
},
"h2": {
"urllink": "#slr-permissions",
"text": "Service-Linked Role Permissions for\n\t\t\t\t\tMSK Connect"
},
"links": [],
"text": "MSK Connect uses the service-linked role named AWSServiceRoleForKafkaConnect \u00e2\u0080\u0093 Allows Amazon MSK Connect to access Amazon resources on your behalf.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html#slr-permissions",
"main_header": "Service-Linked Role Permissions for\n\t\t\t\t\tMSK Connect",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-using-service-linked-roles",
"text": "Using Service-Linked Roles for\n\t\t\t\tMSK Connect"
},
"h2": {
"urllink": "#slr-permissions",
"text": "Service-Linked Role Permissions for\n\t\t\t\t\tMSK Connect"
},
"links": [],
"text": "The AWSServiceRoleForKafkaConnect service-linked role trusts the kafkaconnect.amazonaws.com service to assume the role.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html#slr-permissions",
"main_header": "Service-Linked Role Permissions for\n\t\t\t\t\tMSK Connect",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-using-service-linked-roles",
"text": "Using Service-Linked Roles for\n\t\t\t\tMSK Connect"
},
"h2": {
"urllink": "#slr-permissions",
"text": "Service-Linked Role Permissions for\n\t\t\t\t\tMSK Connect"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-security-iam-awsmanpol.html#security-iam-awsmanpol-KafkaConnectServiceRolePolicy",
"title": "AWS managed policy: KafkaConnectServiceRolePolicy"
}
],
"text": "For information about the permissions policy that the role uses, see AWS managed policy: KafkaConnectServiceRolePolicy.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html#slr-permissions",
"main_header": "Service-Linked Role Permissions for\n\t\t\t\t\tMSK Connect",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-using-service-linked-roles",
"text": "Using Service-Linked Roles for\n\t\t\t\tMSK Connect"
},
"h2": {
"urllink": "#slr-permissions",
"text": "Service-Linked Role Permissions for\n\t\t\t\t\tMSK Connect"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#service-linked-role-permissions",
"title": "Service-Linked Role Permissions"
}
],
"text": "You must configure permissions to allow an IAM entity (such as a user, group, or role) to create, edit, or delete a service-linked role. For more information, see Service-Linked Role Permissions in the IAM User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html#slr-permissions",
"main_header": "Service-Linked Role Permissions for\n\t\t\t\t\tMSK Connect",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-using-service-linked-roles",
"text": "Using Service-Linked Roles for\n\t\t\t\tMSK Connect"
},
"h2": {
"urllink": "#create-slr",
"text": "Creating a Service-Linked Role for\n\t\t\t\t\tMSK Connect"
},
"links": [],
"text": "You don't need to manually create a service-linked role. When you create a connector in the AWS Management Console, the AWS CLI, or the AWS API, MSK Connect creates the service-linked role for you.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html#create-slr",
"main_header": "Creating a Service-Linked Role for\n\t\t\t\t\tMSK Connect",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-using-service-linked-roles",
"text": "Using Service-Linked Roles for\n\t\t\t\tMSK Connect"
},
"h2": {
"urllink": "#create-slr",
"text": "Creating a Service-Linked Role for\n\t\t\t\t\tMSK Connect"
},
"links": [],
"text": "If you delete this service-linked role, and then need to create it again, you can use the same process to recreate the role in your account. When you create a connector, MSK Connect creates the service-linked role for you again.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html#create-slr",
"main_header": "Creating a Service-Linked Role for\n\t\t\t\t\tMSK Connect",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-using-service-linked-roles",
"text": "Using Service-Linked Roles for\n\t\t\t\tMSK Connect"
},
"h2": {
"urllink": "#edit-slr",
"text": "Editing a Service-Linked Role for\n\t\t\t\t\tMSK Connect"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#edit-service-linked-role",
"title": "Editing a\n\t\t\t\t\tService-Linked Role"
}
],
"text": "MSK Connect does not allow you to edit the AWSServiceRoleForKafkaConnect service-linked role. After you create a service-linked role, you can't change the name of the role because various entities might reference the role. However, you can edit the description of the role using IAM. For more information, see Editing a Service-Linked Role in the IAM User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html#edit-slr",
"main_header": "Editing a Service-Linked Role for\n\t\t\t\t\tMSK Connect",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-using-service-linked-roles",
"text": "Using Service-Linked Roles for\n\t\t\t\tMSK Connect"
},
"h2": {
"urllink": "#delete-slr",
"text": "Deleting a Service-Linked Role for\n\t\t\t\t\tMSK Connect"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#delete-service-linked-role",
"title": "Deleting a Service-Linked Role"
}
],
"text": "You can use the IAM console, the AWS CLI or the AWS API to manually delete the service-linked role. To do this, you must first manually delete all of your MSK Connect connectors, and then you can manually delete the role. For more information, see Deleting a Service-Linked Role in the IAM User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html#delete-slr",
"main_header": "Deleting a Service-Linked Role for\n\t\t\t\t\tMSK Connect",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#mkc-using-service-linked-roles",
"text": "Using Service-Linked Roles for\n\t\t\t\tMSK Connect"
},
"h2": {
"urllink": "#slr-regions",
"text": "Supported Regions for\n\t\t\t\t\tMSK Connect Service-Linked Roles"
},
"links": [
{
"url": "https://docs.aws.amazon.com/general/latest/gr/rande.html",
"title": "AWS Regions and Endpoints"
}
],
"text": "MSK Connect supports using service-linked roles in all of the regions where the service is available. For more information, see AWS Regions and Endpoints.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-using-service-linked-roles.html#slr-regions",
"main_header": "Supported Regions for\n\t\t\t\t\tMSK Connect Service-Linked Roles",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-iam.html",
"title": "IAM roles and policies for MSK Connect"
}
]
},
{
"h1": {
"urllink": "#msk-connect-internet-access",
"text": "Enabling internet access for Amazon MSK Connect"
},
"links": [],
"text": "If your connector for Amazon MSK Connect needs access to the internet, we recommend that you use the following Amazon Virtual Private Cloud (VPC) settings to enable that access.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-internet-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-internet-access.html#msk-connect-internet-access",
"main_header": "Enabling internet access for Amazon MSK Connect",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-internet-access",
"text": "Enabling internet access for Amazon MSK Connect"
},
"links": [],
"text": "Workaround for public subnets",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-internet-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-internet-access.html#msk-connect-internet-access",
"main_header": "Enabling internet access for Amazon MSK Connect",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-internet-access",
"text": "Enabling internet access for Amazon MSK Connect"
},
"links": [
{
"url": "https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html",
"title": "Elastic IP address (EIP)"
}
],
"text": "If you configure your cluster to use public subnets, you can attach an Elastic IP address (EIP) to the elastic network interface (ENI) that Amazon MSK Connect creates in your VPC. We don't recommend this method, because ENI attachments are not permanent, and the service may create or remove ENIs during maintenance or scaling operations.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-internet-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-internet-access.html#msk-connect-internet-access",
"main_header": "Enabling internet access for Amazon MSK Connect",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-internet-access",
"text": "Enabling internet access for Amazon MSK Connect"
},
"h2": {
"urllink": "#msk-connect-internet-access-private-subnets-example",
"text": "Setting up a NAT gateway for Amazon MSK Connect"
},
"links": [],
"text": "The following steps show you how to set up a NAT gateway to enable internet access for a connector. You must complete these steps before you create a connector in a private subnet.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-internet-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-internet-access.html#msk-connect-internet-access-private-subnets-example",
"main_header": "Setting up a NAT gateway for Amazon MSK Connect",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-internet-access",
"text": "Enabling internet access for Amazon MSK Connect"
},
"h2": {
"urllink": "#msk-connect-internet-access-private-subnets-example",
"text": "Setting up a NAT gateway for Amazon MSK Connect"
},
"links": [],
"text": "Prerequisites",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-internet-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-internet-access.html#msk-connect-internet-access-private-subnets-example",
"main_header": "Setting up a NAT gateway for Amazon MSK Connect",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-internet-access",
"text": "Enabling internet access for Amazon MSK Connect"
},
"h2": {
"urllink": "#msk-connect-internet-access-private-subnets-example",
"text": "Setting up a NAT gateway for Amazon MSK Connect"
},
"links": [],
"text": "Make sure you have the following items.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-internet-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-internet-access.html#msk-connect-internet-access-private-subnets-example",
"main_header": "Setting up a NAT gateway for Amazon MSK Connect",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-logging",
"text": "Logging for MSK Connect"
},
"links": [],
"text": "MSK Connect can write log events that you can use to debug your connector. When you create a connector, you can specify zero or more of the following log destinations:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html#msk-connect-logging",
"main_header": "Logging for MSK Connect",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-logging",
"text": "Logging for MSK Connect"
},
"links": [
{
"url": "https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/AWS-logs-and-resource-policy.html",
"title": "Enabling logging from certain AWS services"
}
],
"text": "To learn more about setting up logging, see Enabling logging from certain AWS services in the Amazon CloudWatch Logs User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html#msk-connect-logging",
"main_header": "Logging for MSK Connect",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-logging",
"text": "Logging for MSK Connect"
},
"links": [],
"text": "MSK Connect emits the following types of log events:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html#msk-connect-logging",
"main_header": "Logging for MSK Connect",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-logging",
"text": "Logging for MSK Connect"
},
"links": [],
"text": "The following is an example of a log event sent to CloudWatch Logs:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html#msk-connect-logging",
"main_header": "Logging for MSK Connect",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-logging",
"text": "Logging for MSK Connect"
},
"h2": {
"urllink": "#msk-connect-logging-secrets",
"text": "Preventing secrets from appearing in connector logs"
},
"links": [],
"text": "If your plugin defines a property as secret, Kafka Connect redacts the property's value from connector logs. For example, the following connector logs demonstrate that if a plugin defines aws.secret.key as a PASSWORD type, then its value is replaced with [hidden].",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html#msk-connect-logging-secrets",
"main_header": "Preventing secrets from appearing in connector logs",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-logging",
"text": "Logging for MSK Connect"
},
"h2": {
"urllink": "#msk-connect-logging-secrets",
"text": "Preventing secrets from appearing in connector logs"
},
"links": [
{
"url": "https://kafka.apache.org/27/javadoc/org/apache/kafka/common/config/ConfigDef.Type.html#PASSWORD",
"title": "ConfigDef.Type.PASSWORD"
}
],
"text": "To prevent secrets from appearing in connector log files, a plugin developer must use the Kafka Connect enum constant ConfigDef.Type.PASSWORD to define sensitive properties. When a property is type ConfigDef.Type.PASSWORD, Kafka Connect excludes its value from connector logs even if the value is sent as plaintext.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-logging.html#msk-connect-logging-secrets",
"main_header": "Preventing secrets from appearing in connector logs",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#mkc-monitoring-overview",
"text": "Monitoring MSK Connect"
},
"links": [
{
"url": "https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/",
"title": "Amazon CloudWatch User Guide"
}
],
"text": "Monitoring is an important part of maintaining the reliability, availability, and performance of MSK Connect and your other AWS solutions. Amazon CloudWatch monitors your AWS resources and the applications that you run on AWS in real time. You can collect and track metrics, create customized dashboards, and set alarms that notify you or take actions when a specified metric reaches a threshold that you specify. For example, you can have CloudWatch track CPU usage or other metrics of your connector, so that you can increase its capacity if needed. For more information, see the Amazon CloudWatch User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-monitoring-overview.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-monitoring-overview.html#mkc-monitoring-overview",
"main_header": "Monitoring MSK Connect",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#mkc-monitoring-overview",
"text": "Monitoring MSK Connect"
},
"links": [
{
"url": "https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/",
"title": "Amazon CloudWatch User Guide"
}
],
"text": "The following table shows the metrics that MSK Connect sends to CloudWatch under the ConnectorName dimension. MSK Connect delivers these metrics by default and at no additional cost. CloudWatch keeps these metrics for 15 months, so that you can access historical information and gain a better perspective on how your connectors are performing. You can also set alarms that watch for certain thresholds, and send notifications or take actions when those thresholds are met. For more information, see the Amazon CloudWatch User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-monitoring-overview.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-monitoring-overview.html#mkc-monitoring-overview",
"main_header": "Monitoring MSK Connect",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#msk-connect-examples",
"text": "Examples"
},
"links": [],
"text": "This section includes examples to help you set up Amazon MSK Connect resources such as common third-party connectors and configuration providers.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html#msk-connect-examples",
"main_header": "Examples",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#mkc-S3sink-connector-example",
"text": "Amazon S3 sink connector"
},
"links": [],
"text": "This example shows how to use the Confluent Amazon S3 sink connector and the AWS CLI to create an Amazon S3 sink connector in MSK Connect.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-S3sink-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-S3sink-connector-example.html#mkc-S3sink-connector-example",
"main_header": "Amazon S3 sink connector",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-redshiftsink-connector-example",
"text": "Amazon Redshift sink connector with configuration provider"
},
"links": [
{
"url": "https://www.confluent.io/hub/confluentinc/kafka-connect-aws-redshift",
"title": "Amazon Redshift Sink Connector"
},
{
"url": "https://www.confluent.io/hub/jcustenborder/kafka-config-provider-aws",
"title": "AWS Secrets Manager Config Provider"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-config-provider.html",
"title": "Using a configuration provider to externalize secrets"
}
],
"text": "This example shows how to use the Confluent Amazon Redshift Sink Connector plugin and the open-source AWS Secrets Manager Config Provider plugin to create a connector for MSK Connect. Using a configuration provider lets you externalize secrets such as database credentials. To learn more about configuration providers, see Using a configuration provider to externalize secrets.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html#mkc-redshiftsink-connector-example",
"main_header": "Amazon Redshift sink connector with configuration provider",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-redshiftsink-connector-example",
"text": "Amazon Redshift sink connector with configuration provider"
},
"h2": {
"urllink": "#mkc-redshiftsink-connector-example-prereqs",
"text": "Before you begin"
},
"links": [],
"text": "Your connector must be able to access the internet so that it can interact with services such as AWS Secrets Manager that are \noutside of your Amazon Virtual Private Cloud. The steps in this section help you complete the following tasks to enable internet access.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html#mkc-redshiftsink-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-redshiftsink-connector-example",
"text": "Amazon Redshift sink connector with configuration provider"
},
"h2": {
"urllink": "#mkc-redshiftsink-connector-example-prereqs",
"text": "Before you begin"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-internet-access.html",
"title": "Enabling internet access for Amazon MSK Connect"
}
],
"text": "For more information, see Enabling internet access for Amazon MSK Connect.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html#mkc-redshiftsink-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-redshiftsink-connector-example",
"text": "Amazon Redshift sink connector with configuration provider"
},
"h2": {
"urllink": "#mkc-redshiftsink-connector-example-prereqs",
"text": "Before you begin"
},
"links": [],
"text": "Prerequisites",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html#mkc-redshiftsink-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-redshiftsink-connector-example",
"text": "Amazon Redshift sink connector with configuration provider"
},
"h2": {
"urllink": "#mkc-redshiftsink-connector-example-prereqs",
"text": "Before you begin"
},
"links": [],
"text": "Before you can enable internet access, you need the following items:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html#mkc-redshiftsink-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-redshiftsink-connector-example",
"text": "Amazon Redshift sink connector with configuration provider"
},
"h2": {
"urllink": "#mkc-redshiftsink-connector-example-prereqs",
"text": "Before you begin"
},
"links": [],
"text": "Now that you have enabled internet access for Amazon MSK Connect you are ready to create a connector.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-redshiftsink-connector-example.html#mkc-redshiftsink-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-debeziumsource-connector-example",
"text": "Debezium source connector with configuration provider"
},
"links": [
{
"url": "https://aws.amazon.com/rds/aurora/",
"title": "Amazon Aurora"
},
{
"url": "https://github.com/jcustenborder/kafka-config-provider-aws",
"title": "AWS Secrets Manager Config Provider"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-config-provider.html",
"title": "Using a configuration provider to externalize secrets"
}
],
"text": "This example shows how to use the Debezium MySQL connector plugin with a MySQL-compatible Amazon Aurora database as the source. In this example, we also set up the open-source AWS Secrets Manager Config Provider to externalize database credentials in AWS Secrets Manager. To learn more about configuration providers, see Using a configuration provider to externalize secrets.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html#mkc-debeziumsource-connector-example",
"main_header": "Debezium source connector with configuration provider",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-debeziumsource-connector-example",
"text": "Debezium source connector with configuration provider"
},
"h2": {
"urllink": "#mkc-debeziumsource-connector-example-prereqs",
"text": "Before you begin"
},
"links": [],
"text": "Your connector must be able to access the internet so that it can interact with services such as AWS Secrets Manager that are \noutside of your Amazon Virtual Private Cloud. The steps in this section help you complete the following tasks to enable internet access.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html#mkc-debeziumsource-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-debeziumsource-connector-example",
"text": "Debezium source connector with configuration provider"
},
"h2": {
"urllink": "#mkc-debeziumsource-connector-example-prereqs",
"text": "Before you begin"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-internet-access.html",
"title": "Enabling internet access for Amazon MSK Connect"
}
],
"text": "For more information, see Enabling internet access for Amazon MSK Connect.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html#mkc-debeziumsource-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-debeziumsource-connector-example",
"text": "Debezium source connector with configuration provider"
},
"h2": {
"urllink": "#mkc-debeziumsource-connector-example-prereqs",
"text": "Before you begin"
},
"links": [],
"text": "Prerequisites",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html#mkc-debeziumsource-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-debeziumsource-connector-example",
"text": "Debezium source connector with configuration provider"
},
"h2": {
"urllink": "#mkc-debeziumsource-connector-example-prereqs",
"text": "Before you begin"
},
"links": [],
"text": "Before you can enable internet access, you need the following items:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html#mkc-debeziumsource-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-debeziumsource-connector-example",
"text": "Debezium source connector with configuration provider"
},
"h2": {
"urllink": "#mkc-debeziumsource-connector-example-prereqs",
"text": "Before you begin"
},
"links": [],
"text": "Now that you have enabled internet access for Amazon MSK Connect you are ready to create a connector.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html#mkc-debeziumsource-connector-example-prereqs",
"main_header": "Before you begin",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#mkc-debeziumsource-connector-example",
"text": "Debezium source connector with configuration provider"
},
"h2": {
"urllink": "#msk-connect-debeziumsource-connector-example-steps",
"text": "Creating a Debezium source connector"
},
"links": [
{
"url": "https://aws.amazon.com/blogs/aws/introducing-amazon-msk-connect-stream-data-to-and-from-your-apache-kafka-clusters-using-managed-connectors/",
"title": "Introducing Amazon MSK Connect \u00e2\u0080\u0093 Stream Data to and from Your Apache Kafka Clusters Using Managed Connectors"
}
],
"text": "For a Debezium connector example with detailed steps, see Introducing Amazon MSK Connect \u00e2\u0080\u0093 Stream Data to and from Your Apache Kafka Clusters Using Managed Connectors.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/mkc-debeziumsource-connector-example.html#msk-connect-debeziumsource-connector-example-steps",
"main_header": "Creating a Debezium source connector",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-connect-examples.html",
"title": "Examples"
}
]
},
{
"h1": {
"urllink": "#msk-cluster-states",
"text": "Cluster states"
},
"links": [
{
"url": "https://awscli.amazonaws.com/v2/documentation/api/latest/reference/kafka/describe-cluster-v2.html",
"title": "describe-cluster-v2"
},
{
"url": "https://docs.aws.amazon.com/MSK/2.0/APIReference/v2-clusters-clusterarn.html#DescribeClusterV2",
"title": "DescribeClusterV2"
}
],
"text": "The following table shows the possible states of a cluster and describes what they mean. It also describes what actions you can and cannot perform when a cluster is in one of these states. To find out the state of a cluster, you can visit the AWS Management Console. You can also use the describe-cluster-v2 command or the DescribeClusterV2 operation to describe the cluster. The description of a cluster includes its state.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-cluster-states.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-cluster-states.html#msk-cluster-states",
"main_header": "Cluster states",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#security",
"text": "Security in Amazon Managed Streaming for Apache Kafka"
},
"links": [],
"text": "Cloud security at AWS is the highest priority. As an AWS customer, you benefit from a data center and network architecture that is built to meet the requirements of the most security-sensitive organizations.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html#security",
"main_header": "Security in Amazon Managed Streaming for Apache Kafka",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#security",
"text": "Security in Amazon Managed Streaming for Apache Kafka"
},
"links": [
{
"url": "http://aws.amazon.com/compliance/shared-responsibility-model/",
"title": "shared responsibility model"
}
],
"text": "Security is a shared responsibility between AWS and you. The shared responsibility model describes this as security of the cloud and security in the cloud:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html#security",
"main_header": "Security in Amazon Managed Streaming for Apache Kafka",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#security",
"text": "Security in Amazon Managed Streaming for Apache Kafka"
},
"links": [],
"text": "This documentation helps you understand how to apply the shared responsibility model when using Amazon MSK. The following topics show you how to configure Amazon MSK to meet your security and compliance objectives. You also learn how to use other Amazon Web Services that help you to monitor and secure your Amazon MSK resources.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html#security",
"main_header": "Security in Amazon Managed Streaming for Apache Kafka",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#data-protection",
"text": "Data Protection in Amazon Managed Streaming for Apache Kafka"
},
"links": [
{
"url": "http://aws.amazon.com/compliance/shared-responsibility-model/",
"title": "shared responsibility model"
},
{
"url": "http://aws.amazon.com/compliance/data-privacy-faq",
"title": "Data Privacy FAQ"
},
{
"url": "http://aws.amazon.com/blogs/security/the-aws-shared-responsibility-model-and-gdpr/",
"title": "AWS Shared Responsibility Model and GDPR"
}
],
"text": "The AWS shared responsibility model applies to data protection in Amazon Managed Streaming for Apache Kafka. As described in this model, AWS is responsible for protecting the global infrastructure that runs all of the AWS Cloud. You are responsible for maintaining control over your content that is hosted on this infrastructure. This content includes the security configuration and management tasks for the AWS services that you use. For more information about data privacy, see the Data Privacy FAQ. For information about data protection in Europe, see the AWS Shared Responsibility Model and GDPR blog post on the AWS Security Blog.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html#data-protection",
"main_header": "Data Protection in Amazon Managed Streaming for Apache Kafka",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"span"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#data-protection",
"text": "Data Protection in Amazon Managed Streaming for Apache Kafka"
},
"links": [],
"text": "For data protection purposes, we recommend that you protect AWS account credentials and set up individual user accounts with AWS Identity and Access Management (IAM). That way each user is given only the permissions necessary to fulfill their job duties. We also recommend that you secure your data in the following ways:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html#data-protection",
"main_header": "Data Protection in Amazon Managed Streaming for Apache Kafka",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#data-protection",
"text": "Data Protection in Amazon Managed Streaming for Apache Kafka"
},
"links": [],
"text": "We strongly recommend that you never put confidential or sensitive information, such as your customers' email addresses, into tags or free-form fields such as a Name field. This includes when you work with Amazon MSK or other AWS services using the console, API, AWS CLI, or AWS SDKs. Any data that you enter into tags or free-form fields used for names may be used for billing or diagnostic logs. If you provide a URL to an external server, we strongly recommend that you do not include credentials information in the URL to validate your request to that server.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html#data-protection",
"main_header": "Data Protection in Amazon Managed Streaming for Apache Kafka",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-encryption",
"text": "Amazon MSK Encryption"
},
"links": [],
"text": "Amazon MSK provides data encryption options that you can use to meet strict data management requirements. The certificates that Amazon MSK uses for encryption must be renewed every 13 months. Amazon MSK automatically renews these certificates for all clusters. It sets the state of the cluster to MAINTENANCE when it starts the certificate-update operation. It sets it back to ACTIVE when the update is done. While a cluster is in the MAINTENANCE state, you can continue to produce and consume data, but you can't perform any update operations on it.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-encryption.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-encryption.html#msk-encryption",
"main_header": "Amazon MSK Encryption",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html",
"title": "Data Protection in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-encryption",
"text": "Amazon MSK Encryption"
},
"h2": {
"urllink": "#msk-encryption-at-rest",
"text": "Encryption at Rest"
},
"links": [
{
"url": "https://docs.aws.amazon.com/kms/latest/developerguide/",
"title": "AWS Key Management Service"
},
{
"url": "https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#aws-managed-cmk",
"title": "AWS managed key"
},
{
"url": "https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#kms_keys",
"title": "AWS KMS keys"
}
],
"text": "Amazon MSK integrates with AWS Key Management Service (KMS) to offer transparent server-side encryption. Amazon MSK always encrypts your data at rest. When you create an MSK cluster, you can specify the AWS KMS key that you want Amazon MSK to use to encrypt your data at rest. If you don't specify a KMS key, Amazon MSK creates an AWS managed key for you and uses it on your behalf. For more information about KMS keys, see AWS KMS keys in the AWS Key Management Service Developer Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-encryption.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-encryption.html#msk-encryption-at-rest",
"main_header": "Encryption at Rest",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html",
"title": "Data Protection in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-encryption",
"text": "Amazon MSK Encryption"
},
"h2": {
"urllink": "#msk-encryption-in-transit",
"text": "Encryption in Transit"
},
"links": [],
"text": "Amazon MSK uses TLS 1.2. By default, it encrypts data in transit between the brokers of your MSK cluster. You can override this default at the time you create the cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-encryption.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-encryption.html#msk-encryption-in-transit",
"main_header": "Encryption in Transit",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html",
"title": "Data Protection in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-encryption",
"text": "Amazon MSK Encryption"
},
"h2": {
"urllink": "#msk-encryption-in-transit",
"text": "Encryption in Transit"
},
"links": [],
"text": "For communication between clients and brokers, you must specify one of the following three settings:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-encryption.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-encryption.html#msk-encryption-in-transit",
"main_header": "Encryption in Transit",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html",
"title": "Data Protection in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-encryption",
"text": "Amazon MSK Encryption"
},
"h2": {
"urllink": "#msk-encryption-in-transit",
"text": "Encryption in Transit"
},
"links": [],
"text": "Amazon MSK brokers use public AWS Certificate Manager certificates. Therefore, any truststore that trusts Amazon Trust Services also trusts the certificates of Amazon MSK brokers.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-encryption.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-encryption.html#msk-encryption-in-transit",
"main_header": "Encryption in Transit",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html",
"title": "Data Protection in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-encryption",
"text": "Amazon MSK Encryption"
},
"h2": {
"urllink": "#msk-encryption-in-transit",
"text": "Encryption in Transit"
},
"links": [],
"text": "While we highly recommend enabling in-transit encryption, it can add additional CPU overhead and a few milliseconds of latency. Most use cases aren't sensitive to these differences, however, and the magnitude of impact depends on the configuration of your cluster, clients, and usage profile.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-encryption.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-encryption.html#msk-encryption-in-transit",
"main_header": "Encryption in Transit",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html",
"title": "Data Protection in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-working-with-encryption",
"text": "How Do I Get Started with Encryption?"
},
"links": [],
"text": "When creating an MSK cluster, you can specify encryption settings in JSON format. The following is an example.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-working-with-encryption.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-working-with-encryption.html#msk-working-with-encryption",
"main_header": "How Do I Get Started with Encryption?",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html",
"title": "Data Protection in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-working-with-encryption",
"text": "How Do I Get Started with Encryption?"
},
"links": [
{
"url": "https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#customer-cmk",
"title": "customer managed key"
}
],
"text": "For DataVolumeKMSKeyId, you can specify a customer managed key or the AWS managed key for MSK in your account (alias/aws/kafka). If you don't specify EncryptionAtRest, Amazon MSK still encrypts your data at rest under the AWS managed key. To determine which key your cluster is using, send a GET request or invoke the DescribeCluster API operation.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-working-with-encryption.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-working-with-encryption.html#msk-working-with-encryption",
"main_header": "How Do I Get Started with Encryption?",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html",
"title": "Data Protection in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-working-with-encryption",
"text": "How Do I Get Started with Encryption?"
},
"links": [],
"text": "For EncryptionInTransit, the default value of InCluster is true, but you can set it to false if you don't want Amazon MSK  to encrypt your data as it passes between brokers.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-working-with-encryption.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-working-with-encryption.html#msk-working-with-encryption",
"main_header": "How Do I Get Started with Encryption?",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html",
"title": "Data Protection in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-working-with-encryption",
"text": "How Do I Get Started with Encryption?"
},
"links": [],
"text": "To specify the encryption mode for data in transit between clients and brokers, set ClientBroker to one of three values: TLS, TLS_PLAINTEXT, or PLAINTEXT.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-working-with-encryption.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-working-with-encryption.html#msk-working-with-encryption",
"main_header": "How Do I Get Started with Encryption?",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html",
"title": "Data Protection in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-working-with-encryption",
"text": "How Do I Get Started with Encryption?"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-working-with-encryption.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-working-with-encryption.html#msk-working-with-encryption",
"main_header": "How Do I Get Started with Encryption?",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html",
"title": "Data Protection in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-working-with-encryption",
"text": "How Do I Get Started with Encryption?"
},
"links": [
{
"url": "https://kafka.apache.org/documentation/#security_configclients",
"title": "Configuring Kafka Clients"
}
],
"text": "For more information about configuring Apache Kafka clients to work with encrypted data, see Configuring Kafka Clients.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-working-with-encryption.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-working-with-encryption.html#msk-working-with-encryption",
"main_header": "How Do I Get Started with Encryption?",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/data-protection.html",
"title": "Data Protection in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#security-iam",
"text": "Authentication and Authorization for Amazon MSK APIs"
},
"links": [],
"text": "AWS Identity and Access Management (IAM) is an AWS service that helps an administrator securely control access to AWS resources. IAM administrators control who can be authenticated (signed in) and authorized (have permissions) to use Amazon MSK resources. IAM is an AWS service that you can use with no additional charge.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html#security-iam",
"main_header": "Authentication and Authorization for Amazon MSK APIs",
"images": [],
"container_type": "p",
"children_tags": [
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#security-iam",
"text": "Authentication and Authorization for Amazon MSK APIs"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/operations.html",
"title": "Amazon MSK operations"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
],
"text": "This page describes how you can use IAM to control who can perform Amazon MSK operations on your cluster. For information on how to control who can perform Apache Kafka operations on your cluster, see Authentication and Authorization for Apache Kafka APIs.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html#security-iam",
"main_header": "Authentication and Authorization for Amazon MSK APIs",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_aws-services-that-work-with-iam.html",
"title": "AWS Services That Work with IAM"
}
],
"text": "Before you use IAM to manage access to Amazon MSK, you should understand what IAM features are available to use with Amazon MSK. To get a high-level view of how Amazon MSK and other AWS services work with IAM, see AWS Services That Work with IAM in the IAM User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam",
"main_header": "How Amazon MSK Works with IAM",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements.html",
"title": "IAM JSON Policy Elements Reference"
}
],
"text": "With IAM identity-based policies, you can specify allowed or denied actions and resources as well as the conditions under which actions are allowed or denied. Amazon MSK supports specific actions, resources, and condition keys. To learn about all of the elements that you use in a JSON policy, see IAM JSON Policy Elements Reference in the IAM User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies",
"main_header": "Amazon MSK Identity-Based Policies",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-actions",
"text": "Actions"
},
"links": [],
"text": "Administrators can use AWS JSON policies to specify who has access to what. That is, which principal can perform actions on what resources, and under what conditions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-actions",
"main_header": "Actions",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-actions",
"text": "Actions"
},
"links": [],
"text": "The Action element of a JSON policy describes the actions that you can use to allow or deny access in a policy. Policy actions usually have the same name as the associated AWS API operation. There are some exceptions, such as permission-only actions that don't have a matching API operation. There are also some operations that require multiple actions in a policy. These additional actions are called dependent actions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-actions",
"main_header": "Actions",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-actions",
"text": "Actions"
},
"links": [],
"text": "Include actions in a policy to grant permissions to perform the associated operation.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-actions",
"main_header": "Actions",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-actions",
"text": "Actions"
},
"links": [],
"text": "Policy actions in Amazon MSK use the following prefix before the action: kafka:. For example, to grant someone permission to describe an MSK cluster with the Amazon MSK DescribeCluster API operation, you include the kafka:DescribeCluster action in their policy. Policy statements must include either an Action or NotAction element. Amazon MSK defines its own set of actions that describe tasks that you can perform with this service.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-actions",
"main_header": "Actions",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-actions",
"text": "Actions"
},
"links": [],
"text": "To specify multiple actions in a single statement, separate them with commas as follows:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-actions",
"main_header": "Actions",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-actions",
"text": "Actions"
},
"links": [],
"text": "You can specify multiple actions using wildcards (*). For example, to specify all actions that begin with the word Describe, include the following action:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-actions",
"main_header": "Actions",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-actions",
"text": "Actions"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-actions",
"main_header": "Actions",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-actions",
"text": "Actions"
},
"links": [
{
"url": "https://docs.aws.amazon.com/service-authorization/latest/reference/list_amazonmanagedstreamingforapachekafka.html",
"title": "Actions, resources, and condition keys for Amazon Managed Streaming for Apache Kafka"
}
],
"text": "To see a list of Amazon MSK actions, see Actions, resources, and condition keys for Amazon Managed Streaming for Apache Kafka in the IAM User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-actions",
"main_header": "Actions",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-resources",
"text": "Resources"
},
"links": [],
"text": "Administrators can use AWS JSON policies to specify who has access to what. That is, which principal can perform actions on what resources, and under what conditions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-resources",
"main_header": "Resources",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-resources",
"text": "Resources"
},
"links": [
{
"url": "https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html",
"title": "Amazon Resource Name (ARN)"
}
],
"text": "The Resource JSON policy element specifies the object or objects to which the action applies. Statements must include either a Resource or a NotResource element. As a best practice, specify a resource using its Amazon Resource Name (ARN). You can do this for actions that support a specific resource type, known as resource-level permissions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-resources",
"main_header": "Resources",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-resources",
"text": "Resources"
},
"links": [],
"text": "For actions that don't support resource-level permissions, such as listing operations, use a wildcard (*) to indicate that the statement applies to all resources.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-resources",
"main_header": "Resources",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-resources",
"text": "Resources"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-resources",
"main_header": "Resources",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-resources",
"text": "Resources"
},
"links": [],
"text": "The Amazon MSK instance resource has the following ARN:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-resources",
"main_header": "Resources",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-resources",
"text": "Resources"
},
"links": [
{
"url": "https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html",
"title": "Amazon Resource Names (ARNs) and AWS Service Namespaces"
}
],
"text": "For more information about the format of ARNs, see Amazon Resource Names (ARNs) and AWS Service Namespaces.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-resources",
"main_header": "Resources",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-resources",
"text": "Resources"
},
"links": [],
"text": "For example, to specify the CustomerMessages instance in your statement, use the following ARN:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-resources",
"main_header": "Resources",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-resources",
"text": "Resources"
},
"links": [],
"text": "To specify all instances that belong to a specific account, use the wildcard (*):",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-resources",
"main_header": "Resources",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-resources",
"text": "Resources"
},
"links": [],
"text": "Some Amazon MSK actions, such as those for creating resources, cannot be performed on a specific resource. In those cases, you must use the wildcard (*).",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-resources",
"main_header": "Resources",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-resources",
"text": "Resources"
},
"links": [],
"text": "To specify multiple resources in a single statement, separate the ARNs with commas.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-resources",
"main_header": "Resources",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-resources",
"text": "Resources"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/list_amazonmanagedstreamingforkafka.html#amazonmanagedstreamingforkafka-resources-for-iam-policies",
"title": "Resources Defined by Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/list_amazonmanagedstreamingforkafka.html#amazonmanagedstreamingforkafka-actions-as-permissions",
"title": "Actions Defined by Amazon Managed Streaming for Apache Kafka"
}
],
"text": "To see a list of Amazon MSK resource types and their ARNs, see Resources Defined by Amazon Managed Streaming for Apache Kafka in the IAM User Guide. To learn with which actions you can specify the ARN of each resource, see Actions Defined by Amazon Managed Streaming for Apache Kafka.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-resources",
"main_header": "Resources",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-conditionkeys",
"text": "Condition Keys"
},
"links": [],
"text": "Administrators can use AWS JSON policies to specify who has access to what. That is, which principal can perform actions on what resources, and under what conditions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-conditionkeys",
"main_header": "Condition Keys",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-conditionkeys",
"text": "Condition Keys"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html",
"title": "condition operators"
}
],
"text": "The Condition element (or Condition\nblock) lets you specify conditions in which a statement is in effect. The Condition element is optional. You can create conditional expressions that use condition operators, such as equals or less than, to match the condition in the policy with values in the request.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-conditionkeys",
"main_header": "Condition Keys",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"em",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-conditionkeys",
"text": "Condition Keys"
},
"links": [],
"text": "If you specify multiple Condition elements in a statement, or multiple keys in a single Condition element, AWS evaluates them using a logical AND operation. If you specify multiple values for a single condition key, AWS evaluates the condition using a logical OR operation. All of the conditions must be met before the statement's permissions are granted.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-conditionkeys",
"main_header": "Condition Keys",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-conditionkeys",
"text": "Condition Keys"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_variables.html",
"title": "IAM policy elements: variables and tags"
}
],
"text": "You can also use placeholder variables when you specify conditions. For example, you can grant an IAM user permission to access a resource only if it is tagged with their IAM user name. For more information, see IAM policy elements: variables and tags in the IAM User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-conditionkeys",
"main_header": "Condition Keys",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-conditionkeys",
"text": "Condition Keys"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html",
"title": "AWS global condition context keys"
}
],
"text": "AWS supports global condition keys and service-specific condition keys. To see all AWS global condition keys, see AWS global condition context keys in the IAM User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-conditionkeys",
"main_header": "Condition Keys",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-conditionkeys",
"text": "Condition Keys"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html",
"title": "AWS Global Condition Context Keys"
}
],
"text": "Amazon MSK defines its own set of condition keys and also supports using some global condition keys. To see all AWS global condition keys, see AWS Global Condition Context Keys in the IAM User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-conditionkeys",
"main_header": "Condition Keys",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-conditionkeys",
"text": "Condition Keys"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-conditionkeys",
"main_header": "Condition Keys",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-conditionkeys",
"text": "Condition Keys"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/list_amazonmanagedstreamingforkafka.html#amazonmanagedstreamingforkafka-policy-keys",
"title": "Condition Keys for Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/list_amazonmanagedstreamingforkafka.html#amazonmanagedstreamingforkafka-actions-as-permissions",
"title": "Actions Defined by Amazon Managed Streaming for Apache Kafka"
}
],
"text": "To see a list of Amazon MSK condition keys, see Condition Keys for Amazon Managed Streaming for Apache Kafka in the IAM User Guide. To learn with which actions and resources you can use a condition key, see Actions Defined by Amazon Managed Streaming for Apache Kafka.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-conditionkeys",
"main_header": "Condition Keys",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-examples",
"text": "Examples"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-examples",
"main_header": "Examples",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-id-based-policies",
"text": "Amazon MSK Identity-Based Policies"
},
"h3": {
"urllink": "#security_iam_service-with-iam-id-based-policies-examples",
"text": "Examples"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html",
"title": "Amazon MSK Identity-Based Policy Examples"
}
],
"text": "To view examples of Amazon MSK identity-based policies, see Amazon MSK Identity-Based Policy Examples.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies-examples",
"main_header": "Examples",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-resource-based-policies",
"text": "Amazon MSK Resource-Based Policies"
},
"links": [],
"text": "Amazon MSK does not support resource-based policies.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-resource-based-policies",
"main_header": "Amazon MSK Resource-Based Policies",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-managed-policies",
"text": "AWS Managed Policies"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-managed-policies",
"main_header": "AWS Managed Policies",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-tags",
"text": "Authorization Based on Amazon MSK Tags"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_condition.html",
"title": "condition element"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-tagging.html",
"title": "Tagging an Amazon MSK Cluster"
}
],
"text": "You can attach tags to Amazon MSK clusters. To control access based on tags, you provide tag information in the condition element of a policy using the kafka:ResourceTag/key-name, aws:RequestTag/key-name, or aws:TagKeys condition keys. For more information about tagging Amazon MSK resources, see Tagging an Amazon MSK Cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-tags",
"main_header": "Authorization Based on Amazon MSK Tags",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-tags",
"text": "Authorization Based on Amazon MSK Tags"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html#security_iam_id-based-policy-examples-view-widget-tags",
"title": "Accessing Amazon MSK Clusters Based on Tags"
}
],
"text": "To view an example identity-based policy for limiting access to a cluster based on the tags on that cluster, see Accessing Amazon MSK Clusters Based on Tags.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-tags",
"main_header": "Authorization Based on Amazon MSK Tags",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-roles",
"text": "Amazon MSK IAM Roles"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html",
"title": "IAM role"
}
],
"text": "An IAM role is an entity within your Amazon Web Services account that has specific permissions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-roles",
"main_header": "Amazon MSK IAM Roles",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-roles",
"text": "Amazon MSK IAM Roles"
},
"h3": {
"urllink": "#security_iam_service-with-iam-roles-tempcreds",
"text": "Using Temporary Credentials with Amazon MSK"
},
"links": [
{
"url": "https://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRole.html",
"title": "AssumeRole"
},
{
"url": "https://docs.aws.amazon.com/STS/latest/APIReference/API_GetFederationToken.html",
"title": "GetFederationToken"
}
],
"text": "You can use temporary credentials to sign in with federation, assume an IAM role, or to assume a cross-account role. You obtain temporary security credentials by calling AWS STS API operations such as AssumeRole or GetFederationToken.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-roles-tempcreds",
"main_header": "Using Temporary Credentials with Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-roles",
"text": "Amazon MSK IAM Roles"
},
"h3": {
"urllink": "#security_iam_service-with-iam-roles-tempcreds",
"text": "Using Temporary Credentials with Amazon MSK"
},
"links": [],
"text": "Amazon MSK supports using temporary credentials.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-roles-tempcreds",
"main_header": "Using Temporary Credentials with Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-roles",
"text": "Amazon MSK IAM Roles"
},
"h3": {
"urllink": "#security_iam_service-with-iam-roles-service-linked",
"text": "Service-Linked Roles"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role",
"title": "Service-linked roles"
}
],
"text": "Service-linked roles allow Amazon Web Services to access resources in other services to complete an action on your behalf. Service-linked roles appear in your IAM account and are owned by the service. An IAM administrator can view but not edit the permissions for service-linked roles.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-roles-service-linked",
"main_header": "Service-Linked Roles",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_service-with-iam",
"text": "How Amazon MSK Works with IAM"
},
"h2": {
"urllink": "#security_iam_service-with-iam-roles",
"text": "Amazon MSK IAM Roles"
},
"h3": {
"urllink": "#security_iam_service-with-iam-roles-service-linked",
"text": "Service-Linked Roles"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html",
"title": "Using Service-Linked Roles for Amazon MSK"
}
],
"text": "Amazon MSK supports service-linked roles. For details about creating or managing Amazon MSK service-linked roles, Using Service-Linked Roles for Amazon MSK.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_service-with-iam.html#security_iam_service-with-iam-roles-service-linked",
"main_header": "Service-Linked Roles",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_id-based-policy-examples",
"text": "Amazon MSK Identity-Based Policy Examples"
},
"links": [],
"text": "By default, IAM users and roles don't have permission to execute Amazon MSK API actions.  An IAM administrator must create IAM policies that grant users and roles permission to perform specific API operations on the specified resources they need. The administrator must then attach those policies to the IAM users or groups that require those permissions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html#security_iam_id-based-policy-examples",
"main_header": "Amazon MSK Identity-Based Policy Examples",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_id-based-policy-examples",
"text": "Amazon MSK Identity-Based Policy Examples"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_create.html#access_policies_create-json-editor",
"title": "Creating Policies on the JSON Tab"
}
],
"text": "To learn how to create an IAM identity-based policy using these example JSON policy documents, see Creating Policies on the JSON Tab in the IAM User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html#security_iam_id-based-policy-examples",
"main_header": "Amazon MSK Identity-Based Policy Examples",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_id-based-policy-examples",
"text": "Amazon MSK Identity-Based Policy Examples"
},
"h2": {
"urllink": "#security_iam_service-with-iam-policy-best-practices",
"text": "Policy Best Practices"
},
"links": [],
"text": "Identity-based policies are very powerful. They determine whether someone can create, access, or delete Amazon MSK resources in your account. These actions can incur costs for your AWS account. When you create or edit identity-based policies, follow these guidelines and recommendations:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html#security_iam_service-with-iam-policy-best-practices",
"main_header": "Policy Best Practices",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_id-based-policy-examples",
"text": "Amazon MSK Identity-Based Policy Examples"
},
"h2": {
"urllink": "#security_iam_id-based-policy-examples-view-own-permissions",
"text": "Allow Users to View Their Own Permissions"
},
"links": [],
"text": "This example shows how you might create a policy that allows IAM users to view the inline and managed policies that are attached to their user identity. This policy includes permissions to complete this action on the console or programmatically using the AWS CLI or AWS API.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html#security_iam_id-based-policy-examples-view-own-permissions",
"main_header": "Allow Users to View Their Own Permissions",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_id-based-policy-examples",
"text": "Amazon MSK Identity-Based Policy Examples"
},
"h2": {
"urllink": "#security_iam_id-based-policy-examples-access-one-cluster",
"text": "Accessing One Amazon MSK Cluster"
},
"links": [],
"text": "In this example, you want to grant an IAM user in your Amazon Web Services account access to one of your clusters, purchaseQueriesCluster. This policy allows the user to describe the cluster, get its bootstrap brokers, list its broker nodes, and update it.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html#security_iam_id-based-policy-examples-access-one-cluster",
"main_header": "Accessing One Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_id-based-policy-examples",
"text": "Amazon MSK Identity-Based Policy Examples"
},
"h2": {
"urllink": "#security_iam_id-based-policy-examples-view-widget-tags",
"text": "Accessing Amazon MSK Clusters Based on Tags"
},
"links": [],
"text": "You can use conditions in your identity-based policy to control access to Amazon MSK resources based on tags. This example shows how you might create a policy that allows the user to describe the cluster, get its bootstrap brokers, list its broker nodes, update it, and delete it. However, permission is granted only if the cluster tag Owner has the value of that user's user name.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html#security_iam_id-based-policy-examples-view-widget-tags",
"main_header": "Accessing Amazon MSK Clusters Based on Tags",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_id-based-policy-examples",
"text": "Amazon MSK Identity-Based Policy Examples"
},
"h2": {
"urllink": "#security_iam_id-based-policy-examples-view-widget-tags",
"text": "Accessing Amazon MSK Clusters Based on Tags"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_condition.html",
"title": "IAM JSON Policy Elements: Condition"
}
],
"text": "You can attach this policy to the IAM users in your account. If a user named richard-roe attempts to update an MSK cluster, the cluster must be tagged Owner=richard-roe or owner=richard-roe. Otherwise, he is denied access. The condition tag key Owner matches both Owner and owner because condition key names are not case-sensitive. For more information, see IAM JSON Policy Elements: Condition in the IAM User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_id-based-policy-examples.html#security_iam_id-based-policy-examples-view-widget-tags",
"main_header": "Accessing Amazon MSK Clusters Based on Tags",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#using-service-linked-roles",
"text": "Using Service-Linked Roles for Amazon MSK"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role",
"title": "service-linked roles"
}
],
"text": "Amazon MSK uses AWS Identity and Access Management (IAM) service-linked roles. A service-linked role is a unique type of IAM role that is linked directly to Amazon MSK. Service-linked roles are predefined by Amazon MSK and include all the permissions that the service requires to call other AWS services on your behalf.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html#using-service-linked-roles",
"main_header": "Using Service-Linked Roles for Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#using-service-linked-roles",
"text": "Using Service-Linked Roles for Amazon MSK"
},
"links": [],
"text": "A service-linked role makes setting up Amazon MSK easier because you do not have to manually add the necessary permissions. Amazon MSK defines the permissions of its service-linked roles. Unless defined otherwise, only Amazon MSK can assume its roles. The defined permissions include the trust policy and the permissions policy, and that permissions policy cannot be attached to any other IAM entity.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html#using-service-linked-roles",
"main_header": "Using Service-Linked Roles for Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#using-service-linked-roles",
"text": "Using Service-Linked Roles for Amazon MSK"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_aws-services-that-work-with-iam.html",
"title": "Amazon Web Services That Work with IAM"
}
],
"text": "For information about other services that support service-linked roles, see Amazon Web Services That Work with IAM, and look for the services that have Yes in the Service-Linked Role column. Choose a Yes with a link to view the service-linked role documentation for that service.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html#using-service-linked-roles",
"main_header": "Using Service-Linked Roles for Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#using-service-linked-roles",
"text": "Using Service-Linked Roles for Amazon MSK"
},
"h2": {
"urllink": "#slr-permissions",
"text": "Service-Linked Role Permissions for Amazon MSK"
},
"links": [],
"text": "Amazon MSK uses the service-linked role named AWSServiceRoleForKafka \u00e2\u0080\u0093 Allows Amazon MSK to access AWS resources on your behalf.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html#slr-permissions",
"main_header": "Service-Linked Role Permissions for Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#using-service-linked-roles",
"text": "Using Service-Linked Roles for Amazon MSK"
},
"h2": {
"urllink": "#slr-permissions",
"text": "Service-Linked Role Permissions for Amazon MSK"
},
"links": [],
"text": "The AWSServiceRoleForKafka service-linked role trusts the following services to assume the role:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html#slr-permissions",
"main_header": "Service-Linked Role Permissions for Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#using-service-linked-roles",
"text": "Using Service-Linked Roles for Amazon MSK"
},
"h2": {
"urllink": "#slr-permissions",
"text": "Service-Linked Role Permissions for Amazon MSK"
},
"links": [],
"text": "The role permissions policy allows Amazon MSK to complete the following actions on the specified resources:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html#slr-permissions",
"main_header": "Service-Linked Role Permissions for Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#using-service-linked-roles",
"text": "Using Service-Linked Roles for Amazon MSK"
},
"h2": {
"urllink": "#slr-permissions",
"text": "Service-Linked Role Permissions for Amazon MSK"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#service-linked-role-permissions",
"title": "Service-Linked Role Permissions"
}
],
"text": "You must configure permissions to allow an IAM entity (such as a user, group, or role) to create, edit, or delete a service-linked role. For more information, see Service-Linked Role Permissions in the IAM User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html#slr-permissions",
"main_header": "Service-Linked Role Permissions for Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#using-service-linked-roles",
"text": "Using Service-Linked Roles for Amazon MSK"
},
"h2": {
"urllink": "#create-slr",
"text": "Creating a Service-Linked Role for Amazon MSK"
},
"links": [],
"text": "You don't need to create a service-linked role manually. When you create an Amazon MSK cluster in the AWS Management Console, the AWS CLI, or the AWS API, Amazon MSK creates the service-linked role for you.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html#create-slr",
"main_header": "Creating a Service-Linked Role for Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#using-service-linked-roles",
"text": "Using Service-Linked Roles for Amazon MSK"
},
"h2": {
"urllink": "#create-slr",
"text": "Creating a Service-Linked Role for Amazon MSK"
},
"links": [],
"text": "If you delete this service-linked role, and then need to create it again, you can use the same process to recreate the role in your account. When you create an Amazon MSK cluster, Amazon MSK creates the service-linked role for you again.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html#create-slr",
"main_header": "Creating a Service-Linked Role for Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#using-service-linked-roles",
"text": "Using Service-Linked Roles for Amazon MSK"
},
"h2": {
"urllink": "#edit-slr",
"text": "Editing a Service-Linked Role for Amazon MSK"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#edit-service-linked-role",
"title": "Editing a Service-Linked Role"
}
],
"text": "Amazon MSK does not allow you to edit the AWSServiceRoleForKafka service-linked role. After you create a service-linked role, you cannot change the name of the role because various entities might reference the role. However, you can edit the description of the role using IAM. For more information, see Editing a Service-Linked Role in the IAM User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html#edit-slr",
"main_header": "Editing a Service-Linked Role for Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#using-service-linked-roles",
"text": "Using Service-Linked Roles for Amazon MSK"
},
"h2": {
"urllink": "#slr-regions",
"text": "Supported Regions for Amazon MSK Service-Linked Roles"
},
"links": [
{
"url": "https://docs.aws.amazon.com/general/latest/gr/rande.html",
"title": "AWS Regions and Endpoints"
}
],
"text": "Amazon MSK supports using service-linked roles in all of the Regions where the service is available. For more information, see AWS Regions and Endpoints.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html#slr-regions",
"main_header": "Supported Regions for Amazon MSK Service-Linked Roles",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security-iam-awsmanpol",
"text": "AWS managed policies for Amazon MSK"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_create-console.html",
"title": "create IAM customer managed policies"
},
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_managed-vs-inline.html#aws-managed-policies",
"title": "AWS managed policies"
}
],
"text": "To add permissions to users, groups, and roles, it is easier to use AWS managed policies than to write policies yourself. It takes time and expertise to  create IAM customer managed policies that provide your team with only the permissions they need. To get started quickly, you can use our AWS managed policies. These policies cover common use cases and are available in your AWS account. For more information about AWS managed policies, see AWS managed policies in the IAM User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html#security-iam-awsmanpol",
"main_header": "AWS managed policies for Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security-iam-awsmanpol",
"text": "AWS managed policies for Amazon MSK"
},
"links": [],
"text": "AWS services maintain and update AWS managed policies. You can't change the permissions in AWS managed policies. Services occasionally add additional permissions to an AWS managed policy to support new features. This type of update affects all identities (users, groups, and roles) where the policy is attached. Services are most likely to update an AWS managed policy when a new feature is launched or when new operations become available. Services do not remove permissions from an AWS managed policy, so policy updates won't break your existing permissions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html#security-iam-awsmanpol",
"main_header": "AWS managed policies for Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security-iam-awsmanpol",
"text": "AWS managed policies for Amazon MSK"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_job-functions.html",
"title": "AWS managed policies for job functions"
}
],
"text": "Additionally, AWS supports managed policies for job functions that span multiple services. For example, the ViewOnlyAccess AWS managed policy provides read-only access to many AWS services and resources. When a service launches a new feature, AWS adds read-only permissions for new operations and resources. For a list and descriptions of job function policies, see AWS managed policies for job functions in the IAM User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html#security-iam-awsmanpol",
"main_header": "AWS managed policies for Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security-iam-awsmanpol",
"text": "AWS managed policies for Amazon MSK"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_create-console.html",
"title": "create IAM customer managed policies"
},
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_managed-vs-inline.html#aws-managed-policies",
"title": "AWS managed policies"
}
],
"text": "To add permissions to users, groups, and roles, it is easier to use AWS managed policies than to write policies yourself. It takes time and expertise to create IAM customer managed policies that provide your team with only the permissions they need. To get started quickly, you can use our AWS managed policies. These policies cover common use cases and are available in your AWS account. For more information about AWS managed policies, see AWS managed policies in the IAM User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html#security-iam-awsmanpol",
"main_header": "AWS managed policies for Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security-iam-awsmanpol",
"text": "AWS managed policies for Amazon MSK"
},
"links": [],
"text": "AWS services maintain and update AWS managed policies. You can't change the permissions in AWS managed policies. Services occasionally add additional permissions to an AWS managed policy to support new features. This type of update affects all identities (users, groups, and roles) where the policy is attached. Services are most likely to update an AWS managed policy when a new feature is launched or when new operations become available. Services do not remove permissions from an AWS managed policy, so policy updates won't break your existing permissions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html#security-iam-awsmanpol",
"main_header": "AWS managed policies for Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security-iam-awsmanpol",
"text": "AWS managed policies for Amazon MSK"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_job-functions.html",
"title": "AWS managed policies for job functions"
}
],
"text": "Additionally, AWS supports managed policies for job functions that span multiple services. For example, the AmazonMSKReadOnlyAccess AWS managed policy provides read-only access to AWS resources. When a service launches a new feature, AWS adds read-only permissions for new operations and resources. For a list and descriptions of job function policies, see AWS managed policies for job functions in the IAM User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html#security-iam-awsmanpol",
"main_header": "AWS managed policies for Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"em",
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security-iam-awsmanpol",
"text": "AWS managed policies for Amazon MSK"
},
"h2": {
"urllink": "#security-iam-awsmanpol-AmazonMSKFullAccess",
"text": "AWS managed policy: AmazonMSKFullAccess"
},
"links": [],
"text": "This policy grants administrative permissions that allow a principal full access to all Amazon MSK actions. The permissions in this policy are grouped as follows:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html#security-iam-awsmanpol-AmazonMSKFullAccess",
"main_header": "AWS managed policy: AmazonMSKFullAccess",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security-iam-awsmanpol",
"text": "AWS managed policies for Amazon MSK"
},
"h2": {
"urllink": "#security-iam-awsmanpol-AmazonMSKReadOnlyAccess",
"text": "AWS managed policy: AmazonMSKReadOnlyAccess"
},
"links": [],
"text": "This policy grants read-only permissions that allow users to view information in Amazon MSK. Principals with this policy attached can't make any updates or delete exiting resources, nor can they create new Amazon MSK resources. For example, principals with these permissions can view the list of clusters and configurations associated with their account, but cannot change the configuration or settings of any clusters. The permissions in this policy are grouped as follows:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html#security-iam-awsmanpol-AmazonMSKReadOnlyAccess",
"main_header": "AWS managed policy: AmazonMSKReadOnlyAccess",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security-iam-awsmanpol",
"text": "AWS managed policies for Amazon MSK"
},
"h2": {
"urllink": "#security-iam-awsmanpol-KafkaServiceRolePolicy",
"text": "AWS managed policy: KafkaServiceRolePolicy"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/using-service-linked-roles.html",
"title": "Using Service-Linked Roles for Amazon MSK"
}
],
"text": "You can't attach KafkaServiceRolePolicy to your IAM entities. This policy is attached to a service-linked role that allows Amazon MSK to perform actions on your behalf. For more information, see Using Service-Linked Roles for Amazon MSK.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html#security-iam-awsmanpol-KafkaServiceRolePolicy",
"main_header": "AWS managed policy: KafkaServiceRolePolicy",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security-iam-awsmanpol",
"text": "AWS managed policies for Amazon MSK"
},
"h2": {
"urllink": "#security-iam-awsmanpol-updates",
"text": "Amazon MSK updates to AWS managed policies"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/doc-history.html",
"title": "Document History for Amazon MSK Developer Guide"
}
],
"text": "View details about updates to AWS managed policies for Amazon MSK since this service began tracking these changes. For automatic alerts about changes to this page, subscribe to the RSS feed on the Amazon MSK Document History for Amazon MSK Developer Guide page.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam-awsmanpol.html#security-iam-awsmanpol-updates",
"main_header": "Amazon MSK updates to AWS managed policies",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_troubleshoot",
"text": "Troubleshooting Amazon MSK Identity and Access"
},
"links": [],
"text": "Use the following information to help you diagnose and fix common issues that you might encounter when working with Amazon MSK and IAM.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_troubleshoot.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_troubleshoot.html#security_iam_troubleshoot",
"main_header": "Troubleshooting Amazon MSK Identity and Access",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_troubleshoot",
"text": "Troubleshooting Amazon MSK Identity and Access"
},
"h2": {
"urllink": "#security_iam_troubleshoot-no-permissions",
"text": "I Am Not Authorized to Perform an Action in Amazon MSK"
},
"links": [],
"text": "If the AWS Management Console tells you that you're not authorized to perform an action, then you must contact your administrator for assistance. Your administrator is the person that provided you with your user name and password.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_troubleshoot.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_troubleshoot.html#security_iam_troubleshoot-no-permissions",
"main_header": "I Am Not Authorized to Perform an Action in Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_troubleshoot",
"text": "Troubleshooting Amazon MSK Identity and Access"
},
"h2": {
"urllink": "#security_iam_troubleshoot-no-permissions",
"text": "I Am Not Authorized to Perform an Action in Amazon MSK"
},
"links": [],
"text": "The following example error occurs when the mateojackson IAM user tries to use the console to delete a cluster but does not have kafka:DeleteCluster permissions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_troubleshoot.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_troubleshoot.html#security_iam_troubleshoot-no-permissions",
"main_header": "I Am Not Authorized to Perform an Action in Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#security_iam_troubleshoot",
"text": "Troubleshooting Amazon MSK Identity and Access"
},
"h2": {
"urllink": "#security_iam_troubleshoot-no-permissions",
"text": "I Am Not Authorized to Perform an Action in Amazon MSK"
},
"links": [],
"text": "In this case, Mateo asks his administrator to update his policies to allow him to access the purchaseQueriesCluster resource using the kafka:DeleteCluster action.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_troubleshoot.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/security_iam_troubleshoot.html#security_iam_troubleshoot-no-permissions",
"main_header": "I Am Not Authorized to Perform an Action in Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
]
},
{
"h1": {
"urllink": "#kafka_apis_iam",
"text": "Authentication and Authorization for Apache Kafka APIs"
},
"links": [],
"text": "You can use IAM to authenticate clients and to allow or deny Apache Kafka actions. Alternatively, you can use TLS or SASL/SCRAM to authenticate clients, and Apache Kafka ACLs to allow or deny actions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html#kafka_apis_iam",
"main_header": "Authentication and Authorization for Apache Kafka APIs",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#kafka_apis_iam",
"text": "Authentication and Authorization for Apache Kafka APIs"
},
"links": [
{
"url": "https://alpha-docs-aws.amazon.com/msk/1.0/apireference/operations.html",
"title": "Amazon MSK operations"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security-iam.html",
"title": "Authentication and Authorization for Amazon MSK APIs"
}
],
"text": "For information on how to control who can perform Amazon MSK operations on your cluster, see Authentication and Authorization for Amazon MSK APIs.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html#kafka_apis_iam",
"main_header": "Authentication and Authorization for Apache Kafka APIs",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"links": [],
"text": "IAM access control for Amazon MSK enables you to handle both authentication and authorization for your MSK cluster. This eliminates the need to use one mechanism for authentication and another for authorization. For example, when a client tries to write to your cluster, Amazon MSK uses IAM to check whether that client is an authenticated identity and also whether it is authorized to produce to your cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#iam-access-control",
"main_header": "IAM access control",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#logging-using-cloudtrail",
"title": "Logging API calls with AWS CloudTrail"
}
],
"text": "Amazon MSK logs access events so you can audit them. For more information, see Logging API calls with AWS CloudTrail.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#iam-access-control",
"main_header": "IAM access control",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"links": [],
"text": "To make IAM access control possible, Amazon MSK makes minor modifications to Apache Kafka source code. These modifications won't cause a noticeable difference in your Apache Kafka experience.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#iam-access-control",
"main_header": "IAM access control",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#how-to-use-iam-access-control",
"text": "How IAM access control for Amazon MSK works"
},
"links": [],
"text": "To use IAM access control for Amazon MSK, perform the following steps, which are described in detail in the rest of this section.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#how-to-use-iam-access-control",
"main_header": "How IAM access control for Amazon MSK works",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#how-to-use-iam-access-control",
"text": "How IAM access control for Amazon MSK works"
},
"h3": {
"urllink": "#create-iam-access-control-cluster-in-console",
"text": "Create a cluster that uses IAM access control"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-security.html",
"title": "Updating a cluster's security settings"
}
],
"text": "This section explains how you can use the AWS Management Console, the API, or the AWS CLI to create a cluster that uses IAM access control. For information about how to turn on IAM access control for an existing cluster, see Updating a cluster's security settings.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#create-iam-access-control-cluster-in-console",
"main_header": "Create a cluster that uses IAM access control",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#how-to-use-iam-access-control",
"text": "How IAM access control for Amazon MSK works"
},
"h3": {
"urllink": "#configure-clients-for-iam-access-control",
"text": "Configure clients for IAM access control"
},
"links": [],
"text": "To enable clients to communicate with an MSK cluster that uses IAM access control, configure them as described in the following steps.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#configure-clients-for-iam-access-control",
"main_header": "Configure clients for IAM access control",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#how-to-use-iam-access-control",
"text": "How IAM access control for Amazon MSK works"
},
"h3": {
"urllink": "#configure-clients-for-iam-access-control",
"text": "Configure clients for IAM access control"
},
"links": [],
"text": "The Amazon MSK client plugin is open-sourced under the Apache 2.0 license.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#configure-clients-for-iam-access-control",
"main_header": "Configure clients for IAM access control",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#how-to-use-iam-access-control",
"text": "How IAM access control for Amazon MSK works"
},
"h3": {
"urllink": "#create-iam-access-control-policies",
"text": "Create authorization policies"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#configure-clients-for-iam-access-control",
"title": "Configure clients for IAM access control"
}
],
"text": "Attach an authorization policy to the IAM role that corresponds to the client. In an authorization policy, you specify which actions to allow or deny for the role. If your client is on an Amazon EC2 instance, associate the authorization policy with the IAM role for that Amazon EC2 instance. Alternatively, you can configure your client to use a named profile, and then you associate the authorization policy with the role for that named profile. Configure clients for IAM access control describes how to configure a client to use a named profile.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#create-iam-access-control-policies",
"main_header": "Create authorization policies",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#how-to-use-iam-access-control",
"text": "How IAM access control for Amazon MSK works"
},
"h3": {
"urllink": "#create-iam-access-control-policies",
"text": "Create authorization policies"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_create.html",
"title": "Creating IAM policies"
}
],
"text": "For information about how to create an IAM policy, see Creating IAM policies.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#create-iam-access-control-policies",
"main_header": "Create authorization policies",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#how-to-use-iam-access-control",
"text": "How IAM access control for Amazon MSK works"
},
"h3": {
"urllink": "#create-iam-access-control-policies",
"text": "Create authorization policies"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#kafka-actions",
"title": "Semantics of actions and resources"
}
],
"text": "The following is an example authorization policy for a cluster named MyTestCluster. To understand the semantics of the Action and Resource elements, see Semantics of actions and resources.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#create-iam-access-control-policies",
"main_header": "Create authorization policies",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#how-to-use-iam-access-control",
"text": "How IAM access control for Amazon MSK works"
},
"h3": {
"urllink": "#create-iam-access-control-policies",
"text": "Create authorization policies"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#iam-access-control-use-cases",
"title": "Common use cases"
}
],
"text": "To learn how to create a policy with action elements that correspond to common Apache Kafka use cases, like producing and consuming data, see Common use cases.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#create-iam-access-control-policies",
"main_header": "Create authorization policies",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#how-to-use-iam-access-control",
"text": "How IAM access control for Amazon MSK works"
},
"h3": {
"urllink": "#get-bootstrap-brokers-for-iam",
"text": "Get the bootstrap brokers for IAM access control"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-bootstrap-brokers.html",
"title": "Getting the bootstrap brokers for an Amazon MSK Cluster"
}
],
"text": "See Getting the bootstrap brokers for an Amazon MSK Cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#get-bootstrap-brokers-for-iam",
"main_header": "Get the bootstrap brokers for IAM access control",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#kafka-actions",
"text": "Semantics of actions and resources"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#create-iam-access-control-policies",
"title": "Create authorization policies"
}
],
"text": "This section explains the semantics of the action and resource elements that you can use in an IAM authorization policy. For an example policy, see Create authorization policies.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#kafka-actions",
"main_header": "Semantics of actions and resources",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#kafka-actions",
"text": "Semantics of actions and resources"
},
"h3": {
"urllink": "#actions",
"text": "Actions"
},
"links": [],
"text": "The following table lists the actions that you can include in an authorization policy when you use IAM access control for Amazon MSK. When you include in your authorization policy an action from the Action column of the table, you must also include the corresponding actions from the Required actions column.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#actions",
"main_header": "Actions",
"images": [],
"container_type": "p",
"children_tags": [
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#kafka-actions",
"text": "Semantics of actions and resources"
},
"h3": {
"urllink": "#actions",
"text": "Actions"
},
"links": [],
"text": "You can use the asterisk (*) wildcard any number of times in an action after the colon. The following are examples.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#actions",
"main_header": "Actions",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#kafka-actions",
"text": "Semantics of actions and resources"
},
"h3": {
"urllink": "#msk-iam-resources",
"text": "Resources"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/clusters-clusterarn.html#DescribeCluster",
"title": "DescribeCluster"
},
{
"url": "https://awscli.amazonaws.com/v2/documentation/api/latest/reference/kafka/describe-cluster.html",
"title": "describe-cluster"
}
],
"text": "The following table shows the four types of resources that you can use in an authorization policy when you use IAM access control for Amazon MSK. You can get the cluster Amazon Resource Name (ARN) from the AWS Management Console or by using the DescribeCluster API or the describe-cluster AWS CLI command. You can then use the cluster ARN to construct topic, group, and transaction ID ARNs. To specify a resource in an authorization policy, use that resource's ARN.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#msk-iam-resources",
"main_header": "Resources",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#kafka-actions",
"text": "Semantics of actions and resources"
},
"h3": {
"urllink": "#msk-iam-resources",
"text": "Resources"
},
"links": [],
"text": "You can use the asterisk (*) wildcard any number of times anywhere in the part of the ARN that comes after :cluster/, :topic/, :group/, and :transaction-id/. The following are some examples of how you can use the asterisk (*) wildcard to refer to multiple resources:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#msk-iam-resources",
"main_header": "Resources",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#iam-access-control-use-cases",
"text": "Common use cases"
},
"links": [],
"text": "The first column in the following table shows some common use cases. To authorize a client to carry out a given use case, include the required actions for that use case in the client's authorization policy, and set Effect to Allow.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#iam-access-control-use-cases",
"main_header": "Common use cases",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#iam-access-control",
"text": "IAM access control"
},
"h2": {
"urllink": "#iam-access-control-use-cases",
"text": "Common use cases"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#kafka-actions",
"title": "Semantics of actions and resources"
}
],
"text": "For information about all the actions that are part of IAM access control for Amazon MSK, see Semantics of actions and resources.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#iam-access-control-use-cases",
"main_header": "Common use cases",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-authentication",
"text": "Mutual TLS Authentication"
},
"links": [
{
"url": "https://docs.aws.amazon.com/acm-pca/latest/userguide/PcaCreatingManagingCA.html",
"title": "Creating and Managing a Private CA"
}
],
"text": "You can enable client authentication with TLS for connections from your applications to your Amazon MSK brokers and ZooKeeper nodes. To use client authentication, you need an ACM Private CA. For information about private CAs, see Creating and Managing a Private CA.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html#msk-authentication",
"main_header": "Mutual TLS Authentication",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-authentication",
"text": "Mutual TLS Authentication"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-acls.html",
"title": "Apache Kafka ACLs"
}
],
"text": "Amazon MSK doesn't support certificate revocation lists (CRLs). To control access to your cluster topics or block compromised certificates, use Apache Kafka ACLs and AWS security groups. For information about using Apache Kafka ACLs, see Apache Kafka ACLs.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-authentication.html#msk-authentication",
"main_header": "Mutual TLS Authentication",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"links": [],
"text": "You can control access to your Amazon MSK clusters using usernames and passwords that are stored and secured using AWS Secrets Manager. Storing your users' credentials in Secrets Manager reduces the overhead of cluster authentication, including auditing, updating, and rotating credentials. Using Secrets Manager also lets you share user credentials across clusters.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password",
"main_header": "Username and password authentication with AWS Secrets Manager",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"h2": {
"urllink": "#msk-password-howitworks",
"text": "How it Works"
},
"links": [
{
"url": "https://docs.aws.amazon.com/secretsmanager/?id=docs_gateway",
"title": "AWS Secrets Manager"
}
],
"text": "Username and password authentication for Amazon MSK uses SASL/SCRAM (Simple Authentication and Security Layer/ Salted Challenge Response Mechanism) authentication. To set up username and password authentication for a cluster, you create a Secret resource in AWS Secrets Manager, and associate user names and passwords with the secret.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-howitworks",
"main_header": "How it Works",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"h2": {
"urllink": "#msk-password-howitworks",
"text": "How it Works"
},
"links": [
{
"url": "https://tools.ietf.org/html/rfc5802",
"title": "RFC 5802"
}
],
"text": "SASL/SCRAM is defined in RFC 5802. SCRAM uses secured hashing algorithms, and does not transmit plaintext passwords between client and server.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-howitworks",
"main_header": "How it Works",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"h2": {
"urllink": "#msk-password-tutorial",
"text": "Setting up SASL/SCRAM authentication for an Amazon MSK Cluster"
},
"links": [
{
"url": "https://docs.aws.amazon.com/secretsmanager/latest/userguide/tutorials_basic.html",
"title": "Creating and Retrieving a Secret"
},
{
"url": "https://docs.aws.amazon.com/secretsmanager/latest/userguide/intro.html",
"title": "AWS Secrets Manager User Guide"
}
],
"text": "To set up a secret in AWS Secrets Manager, follow the Creating and Retrieving a Secret tutorial in the AWS Secrets Manager User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-tutorial",
"main_header": "Setting up SASL/SCRAM authentication for an Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"h2": {
"urllink": "#msk-password-tutorial",
"text": "Setting up SASL/SCRAM authentication for an Amazon MSK Cluster"
},
"links": [],
"text": "Note the following requirements when creating a secret for an Amazon MSK cluster:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-tutorial",
"main_header": "Setting up SASL/SCRAM authentication for an Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"h2": {
"urllink": "#msk-password-tutorial",
"text": "Setting up SASL/SCRAM authentication for an Amazon MSK Cluster"
},
"links": [],
"text": "If you use the AWS CLI to create the secret, specify a key ID or ARN for the kms-key-id parameter. Don't specify an alias.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-tutorial",
"main_header": "Setting up SASL/SCRAM authentication for an Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"h2": {
"urllink": "#msk-password-tutorial",
"text": "Setting up SASL/SCRAM authentication for an Amazon MSK Cluster"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/clusters-clusterarn-scram-secrets.html#BatchAssociateScramSecret",
"title": "BatchAssociateScramSecret"
}
],
"text": "To associate the secret with your cluster, use either the Amazon MSK console, or the BatchAssociateScramSecret operation.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-tutorial",
"main_header": "Setting up SASL/SCRAM authentication for an Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"h2": {
"urllink": "#msk-password-tutorial",
"text": "Setting up SASL/SCRAM authentication for an Amazon MSK Cluster"
},
"links": [],
"text": "The following example JSON input for the BatchAssociateScramSecret operation associates a secret with a cluster:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-tutorial",
"main_header": "Setting up SASL/SCRAM authentication for an Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"h2": {
"urllink": "#msk-password-tutorial",
"text": "Setting up SASL/SCRAM authentication for an Amazon MSK Cluster"
},
"h3": {
"urllink": "#msk-password-tutorial-connect",
"text": "Connecting to your cluster with a username and password"
},
"links": [],
"text": "After you create your secret and associate it with your cluster, do the following to connect your client to the cluster:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-tutorial-connect",
"main_header": "Connecting to your cluster with a username and password",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"h2": {
"urllink": "#msk-password-users",
"text": "Working with Users"
},
"links": [],
"text": "Creating users: You create users in your secret as key-value pairs.  When you use the Plaintext option in the Secrets Manager console, you should specify username and password data in the following format.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-users",
"main_header": "Working with Users",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"h2": {
"urllink": "#msk-password-users",
"text": "Working with Users"
},
"links": [],
"text": "Revoking user access: To revoke a user's credentials to access a cluster, we recommend that you first remove or enforce an ACL on the cluster, and then disassociate the secret. This is because of the following:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-users",
"main_header": "Working with Users",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"h2": {
"urllink": "#msk-password-users",
"text": "Working with Users"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-acls.html",
"title": "Apache Kafka ACLs"
}
],
"text": "For information about using an ACL with Amazon MSK, see Apache Kafka ACLs.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-users",
"main_header": "Working with Users",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"h2": {
"urllink": "#msk-password-users",
"text": "Working with Users"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html",
"title": "Controlling Access to Apache ZooKeeper"
}
],
"text": "We recommend that you restrict access to your zookeeper nodes to prevent users from modifying ACLs. For more information, see Controlling Access to Apache ZooKeeper.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-users",
"main_header": "Working with Users",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-password",
"text": "Username and password authentication with AWS Secrets Manager"
},
"h2": {
"urllink": "#msk-password-limitations",
"text": "Limitations"
},
"links": [],
"text": "Note the following limitations when using SCRAM secrets:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-password.html#msk-password-limitations",
"main_header": "Limitations",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-acls",
"text": "Apache Kafka ACLs"
},
"links": [],
"text": "Apache Kafka has a pluggable authorizer and ships with an out-of-box authorizer implementation that uses Apache ZooKeeper to store all ACLs. Amazon MSK enables this authorizer in the server.properties file on the brokers. For Apache Kafka version 2.4.1, the authorizer is AclAuthorizer. For earlier versions of Apache Kafka, it is SimpleAclAuthorizer.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-acls.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-acls.html#msk-acls",
"main_header": "Apache Kafka ACLs",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-acls",
"text": "Apache Kafka ACLs"
},
"links": [
{
"url": "https://cwiki.apache.org/confluence/display/KAFKA/Kafka+Authorization+Command+Line+Interface",
"title": "Kafka Authorization Command Line Interface"
}
],
"text": "Apache Kafka ACLs have the format \"Principal P is [Allowed/Denied] Operation O From Host H on any Resource R matching ResourcePattern RP\". If RP doesn't match a specific resource R, then R has no associated ACLs, and therefore no one other than super users is allowed to access R. To change this Apache Kafka behavior, you set the property allow.everyone.if.no.acl.found to true. Amazon MSK sets it to true by default. This means that with Amazon MSK clusters, if you don't explicitly set ACLs on a resource, all principals can access this resource. If you enable ACLs on a resource, only the authorized principals can access it. If you want to restrict access to a topic and authorize a client using TLS mutual authentication, add ACLs using the Apache Kafka authorizer CLI. For more information about adding, removing, and listing ACLs, see Kafka Authorization Command Line Interface.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-acls.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-acls.html#msk-acls",
"main_header": "Apache Kafka ACLs",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#msk-acls",
"text": "Apache Kafka ACLs"
},
"links": [],
"text": "In addition to the client, you also need to grant all your brokers access to your topics so that the brokers can replicate messages from the primary partition. If the brokers don't have access to a topic, replication for the topic fails.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-acls.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-acls.html#msk-acls",
"main_header": "Apache Kafka ACLs",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka_apis_iam.html",
"title": "Authentication and Authorization for Apache Kafka APIs"
}
]
},
{
"h1": {
"urllink": "#change-security-group",
"text": "Changing an Amazon MSK cluster's security group"
},
"links": [
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html",
"title": "Security groups for your VPC"
}
],
"text": "This page explains how to change the security group of an existing MSK cluster. You might need to change a cluster's security group in order to provide access to a certain set of users or to limit access to the cluster. For information about security groups, see Security groups for your VPC in the Amazon VPC user guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/change-security-group.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/change-security-group.html#change-security-group",
"main_header": "Changing an Amazon MSK cluster's security group",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#zookeeper-security",
"text": "Controlling Access to Apache ZooKeeper"
},
"links": [],
"text": "For security reasons you can limit access to the Apache ZooKeeper nodes that are part of your Amazon MSK cluster. To limit access to the nodes, you can assign a separate security group to them. You can then decide who gets access to that security group.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html#zookeeper-security",
"main_header": "Controlling Access to Apache ZooKeeper",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#zookeeper-security",
"text": "Controlling Access to Apache ZooKeeper"
},
"h2": {
"urllink": "#zookeeper-security-tls",
"text": "Using TLS security with Apache ZooKeeper"
},
"links": [],
"text": "You can use TLS security for encryption in transit between your clients and your Apache ZooKeeper nodes. To implement TLS security with your Apache ZooKeeper nodes, do the following:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html#zookeeper-security-tls",
"main_header": "Using TLS security with Apache ZooKeeper",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#zookeeper-security",
"text": "Controlling Access to Apache ZooKeeper"
},
"h2": {
"urllink": "#zookeeper-security-tls",
"text": "Using TLS security with Apache ZooKeeper"
},
"links": [
{
"url": "https://cwiki.apache.org/confluence/display/KAFKA/KIP-515%3A+Enable+ZK+client+to+use+the+new+TLS+supported+authentication",
"title": "KIP-515: Enable ZK client to use the new TLS supported authentication"
}
],
"text": "For more information about accessing your Apache ZooKeeper nodes with TLS, see  KIP-515: Enable ZK client to use the new TLS supported authentication.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html#zookeeper-security-tls",
"main_header": "Using TLS security with Apache ZooKeeper",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"links": [],
"text": "You can deliver Apache Kafka broker logs to one or more of the following destination types: Amazon CloudWatch Logs, Amazon S3, Amazon Kinesis Data Firehose. You can also log Amazon MSK API calls with AWS CloudTrail.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#msk-logging",
"main_header": "Logging",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#broker-logs",
"text": "Broker logs"
},
"links": [],
"text": "Broker logs enable you to troubleshoot your Apache Kafka applications and to analyze their communications with your MSK cluster. You can configure your new or existing MSK cluster to deliver INFO-level broker logs to one or more of the following types of destination resources: a CloudWatch log group, an S3 bucket, a Kinesis Data Firehose delivery stream. Through Kinesis Data Firehose you can then deliver the log data from your delivery stream to OpenSearch Service. You must create a destination resource before you configure your cluster to deliver broker logs to it. Amazon MSK doesn't create these destination resources for you if they don't already exist. For information about these three types of destination resources and how to create them, see the following documentation:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#broker-logs",
"main_header": "Broker logs",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#broker-logs",
"text": "Broker logs"
},
"h3": {
"urllink": "#broker-logs-perms",
"text": "Required permissions"
},
"links": [
{
"url": "https://docs.aws.amazon.com/AmazonS3/latest/user-guide/add-bucket-policy.html",
"title": "How Do I Add an S3 Bucket Policy?"
},
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/access.html",
"title": "Access Management"
}
],
"text": "For Amazon MSK to deliver broker logs to the destinations that you configure, ensure that the AmazonMSKFullAccess policy is attached to your IAM role. To stream broker logs to an S3 bucket, you also need the s3:PutBucketPolicy permission attached to your IAM role. For information about S3 bucket policies, see How Do I Add an S3 Bucket Policy? in the Amazon S3 Console User Guide. For information about IAM policies in general, see Access Management in the IAM User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#broker-logs-perms",
"main_header": "Required permissions",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#broker-logs",
"text": "Broker logs"
},
"h3": {
"urllink": "#sse-kms-buckets",
"text": "Required KMS key policy for use with SSE-KMS buckets"
},
"links": [],
"text": "If you enabled server-side encryption for your S3 bucket using AWS KMS-managed keys (SSE-KMS) with a customer managed key, add the following to the key policy for your KMS key so that Amazon MSK can write broker files to the bucket.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#sse-kms-buckets",
"main_header": "Required KMS key policy for use with SSE-KMS buckets",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#broker-logs",
"text": "Broker logs"
},
"h3": {
"urllink": "#broker-logs-console",
"text": "Configuring broker logs using the AWS Management Console"
},
"links": [],
"text": "If you are creating a new cluster, look for the Broker log delivery heading in the Monitoring section. You can specify the destinations to which you want Amazon MSK to deliver your broker logs.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#broker-logs-console",
"main_header": "Configuring broker logs using the AWS Management Console",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#broker-logs",
"text": "Broker logs"
},
"h3": {
"urllink": "#broker-logs-console",
"text": "Configuring broker logs using the AWS Management Console"
},
"links": [],
"text": "For an existing cluster, choose the cluster from your list of clusters, then choose the Details tab. Scroll down to the Monitoring section and then choose its Edit button. You can specify the destinations to which you want Amazon MSK to deliver your broker logs.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#broker-logs-console",
"main_header": "Configuring broker logs using the AWS Management Console",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#broker-logs",
"text": "Broker logs"
},
"h3": {
"urllink": "#broker-logs-cli",
"text": "Configuring broker logs using the AWS CLI"
},
"links": [],
"text": "When you use the create-cluster or the update-monitoring commands, you can optionally specify the logging-info parameter and pass to it a JSON structure like the following example. In this JSON, all three destination types are optional.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#broker-logs-cli",
"main_header": "Configuring broker logs using the AWS CLI",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#broker-logs",
"text": "Broker logs"
},
"h3": {
"urllink": "#broker-logs-api",
"text": "Configuring broker logs using the API"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/clusters.html#CreateCluster",
"title": "CreateCluster"
},
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/clusters-clusterarn-monitoring.html#UpdateMonitoring",
"title": "UpdateMonitoring"
}
],
"text": "You can specify the optional loggingInfo structure in the JSON that you pass to the CreateCluster or UpdateMonitoring operations.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#broker-logs-api",
"main_header": "Configuring broker logs using the API",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#logging-using-cloudtrail",
"text": "Logging API calls with AWS CloudTrail"
},
"links": [],
"text": "",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#logging-using-cloudtrail",
"main_header": "Logging API calls with AWS CloudTrail",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#logging-using-cloudtrail",
"text": "Logging API calls with AWS CloudTrail"
},
"links": [],
"text": "Amazon MSK is integrated with AWS CloudTrail, a service that provides a record of actions taken by a user, role, or an AWS service in Amazon MSK. CloudTrail captures API calls for as events. The calls captured include calls from the Amazon MSK console and code calls to the Amazon MSK API operations. It also captures Apache Kafka actions such as creating and altering topics and groups.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#logging-using-cloudtrail",
"main_header": "Logging API calls with AWS CloudTrail",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#logging-using-cloudtrail",
"text": "Logging API calls with AWS CloudTrail"
},
"links": [],
"text": "If you create a trail, you can enable continuous delivery of CloudTrail events to an Amazon S3 bucket, including events for Amazon MSK. If you don't configure a trail, you can still view the most recent events in the CloudTrail console in Event history. Using the information collected by CloudTrail, you can determine the request that was made to Amazon MSK or the Apache Kafka action, the IP address from which the request was made, who made the request, when it was made, and additional details.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#logging-using-cloudtrail",
"main_header": "Logging API calls with AWS CloudTrail",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#logging-using-cloudtrail",
"text": "Logging API calls with AWS CloudTrail"
},
"links": [
{
"url": "https://docs.aws.amazon.com/awscloudtrail/latest/userguide/",
"title": "AWS CloudTrail User Guide"
}
],
"text": "To learn more about CloudTrail, including how to configure and enable it, see the AWS CloudTrail User Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#logging-using-cloudtrail",
"main_header": "Logging API calls with AWS CloudTrail",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#logging-using-cloudtrail",
"text": "Logging API calls with AWS CloudTrail"
},
"h3": {
"urllink": "#msk-info-in-cloudtrail",
"text": "Amazon MSK information in CloudTrail"
},
"links": [
{
"url": "https://docs.aws.amazon.com/awscloudtrail/latest/userguide/view-cloudtrail-events.html",
"title": "Viewing Events with CloudTrail Event History"
}
],
"text": "CloudTrail is enabled on your Amazon Web Services account when you create the account. When supported event activity occurs in an MSK cluster, that activity is recorded in a CloudTrail event along with other AWS service events in Event history. You can view, search, and download recent events in your Amazon Web Services account. For more information, see Viewing Events with CloudTrail Event History.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#msk-info-in-cloudtrail",
"main_header": "Amazon MSK information in CloudTrail",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#logging-using-cloudtrail",
"text": "Logging API calls with AWS CloudTrail"
},
"h3": {
"urllink": "#msk-info-in-cloudtrail",
"text": "Amazon MSK information in CloudTrail"
},
"links": [],
"text": "For an ongoing record of events in your Amazon Web Services account, including events for Amazon MSK, create a trail. A trail enables CloudTrail to deliver log files to an Amazon S3 bucket. By default, when you create a trail in the console, the trail applies to all Regions. The trail logs events from all Regions in the AWS partition and delivers the log files to the Amazon S3 bucket that you specify. Additionally, you can configure other Amazon services to further analyze and act upon the event data collected in CloudTrail logs. For more information, see the following:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#msk-info-in-cloudtrail",
"main_header": "Amazon MSK information in CloudTrail",
"images": [],
"container_type": "p",
"children_tags": [
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#logging-using-cloudtrail",
"text": "Logging API calls with AWS CloudTrail"
},
"h3": {
"urllink": "#msk-info-in-cloudtrail",
"text": "Amazon MSK information in CloudTrail"
},
"links": [
{
"url": "https://docs.aws.amazon.com//msk/1.0/apireference/operations.html",
"title": "Amazon MSK operations"
}
],
"text": "Amazon MSK logs all Amazon MSK operations as events in CloudTrail log files. In addition, it logs the following Apache Kafka actions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#msk-info-in-cloudtrail",
"main_header": "Amazon MSK information in CloudTrail",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#logging-using-cloudtrail",
"text": "Logging API calls with AWS CloudTrail"
},
"h3": {
"urllink": "#msk-info-in-cloudtrail",
"text": "Amazon MSK information in CloudTrail"
},
"links": [],
"text": "Every event or log entry contains information about who generated the request. The identity information helps you determine the following:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#msk-info-in-cloudtrail",
"main_header": "Amazon MSK information in CloudTrail",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#logging-using-cloudtrail",
"text": "Logging API calls with AWS CloudTrail"
},
"h3": {
"urllink": "#msk-info-in-cloudtrail",
"text": "Amazon MSK information in CloudTrail"
},
"links": [
{
"url": "https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-event-reference-user-identity.html",
"title": "CloudTrail userIdentity Element"
}
],
"text": "For more information, see the CloudTrail userIdentity Element.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#msk-info-in-cloudtrail",
"main_header": "Amazon MSK information in CloudTrail",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#logging-using-cloudtrail",
"text": "Logging API calls with AWS CloudTrail"
},
"h3": {
"urllink": "#understanding-msk-entries",
"text": "Example: Amazon MSK log file entries"
},
"links": [],
"text": "A trail is a configuration that enables delivery of events as log files to an Amazon S3 bucket that you specify. CloudTrail log files contain one or more log entries. An event represents a single request from any source and includes information about the requested action, the date and time of the action, request parameters, and so on. CloudTrail log files aren't an ordered stack trace of the public API calls and Apache Kafka actions, so they don't appear in any specific order.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#understanding-msk-entries",
"main_header": "Example: Amazon MSK log file entries",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#logging-using-cloudtrail",
"text": "Logging API calls with AWS CloudTrail"
},
"h3": {
"urllink": "#understanding-msk-entries",
"text": "Example: Amazon MSK log file entries"
},
"links": [],
"text": "The following example shows CloudTrail log entries that demonstrate the DescribeCluster and DeleteCluster Amazon MSK actions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#understanding-msk-entries",
"main_header": "Example: Amazon MSK log file entries",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#msk-logging",
"text": "Logging"
},
"h2": {
"urllink": "#logging-using-cloudtrail",
"text": "Logging API calls with AWS CloudTrail"
},
"h3": {
"urllink": "#understanding-msk-entries",
"text": "Example: Amazon MSK log file entries"
},
"links": [],
"text": "The following example shows a CloudTrail log entry that demonstrates the kafka-cluster:CreateTopic action.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-logging.html#understanding-msk-entries",
"main_header": "Example: Amazon MSK log file entries",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#MSK-compliance",
"text": "Compliance Validation for Amazon Managed Streaming for Apache Kafka"
},
"links": [],
"text": "Third-party auditors assess the security and compliance of Amazon Managed Streaming for Apache Kafka as part of AWS compliance programs. These include PCI and HIPAA BAA.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/MSK-compliance.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/MSK-compliance.html#MSK-compliance",
"main_header": "Compliance Validation for Amazon Managed Streaming for Apache Kafka",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#MSK-compliance",
"text": "Compliance Validation for Amazon Managed Streaming for Apache Kafka"
},
"links": [
{
"url": "http://aws.amazon.com/compliance/services-in-scope/",
"title": "Amazon Services in Scope by Compliance Program"
},
{
"url": "http://aws.amazon.com/compliance/programs/",
"title": "AWS Compliance Programs"
}
],
"text": "For a list of AWS services in scope of specific compliance programs, see Amazon Services in Scope by Compliance Program. For general information, see AWS Compliance Programs.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/MSK-compliance.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/MSK-compliance.html#MSK-compliance",
"main_header": "Compliance Validation for Amazon Managed Streaming for Apache Kafka",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#MSK-compliance",
"text": "Compliance Validation for Amazon Managed Streaming for Apache Kafka"
},
"links": [
{
"url": "https://docs.aws.amazon.com/artifact/latest/ug/downloading-documents.html",
"title": "Downloading Reports in AWS Artifact"
}
],
"text": "You can download third-party audit reports using AWS Artifact. For more information, see Downloading Reports in AWS Artifact.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/MSK-compliance.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/MSK-compliance.html#MSK-compliance",
"main_header": "Compliance Validation for Amazon Managed Streaming for Apache Kafka",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#MSK-compliance",
"text": "Compliance Validation for Amazon Managed Streaming for Apache Kafka"
},
"links": [],
"text": "Your compliance responsibility when using Amazon MSK is determined by the sensitivity of your data, your company's compliance objectives, and applicable laws and regulations. AWS provides the following resources to help with compliance:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/MSK-compliance.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/MSK-compliance.html#MSK-compliance",
"main_header": "Compliance Validation for Amazon Managed Streaming for Apache Kafka",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#disaster-recovery-resiliency",
"text": "Resilience in Amazon Managed Streaming for Apache Kafka"
},
"links": [],
"text": "The AWS global infrastructure is built around AWS Regions and Availability Zones. AWS Regions provide multiple physically separated and isolated Availability Zones, which are connected with low-latency, high-throughput, and highly redundant networking. With Availability Zones, you can design and operate applications and databases that automatically fail over between zones without interruption. Availability Zones are more highly available, fault tolerant, and scalable than traditional single or multiple data center infrastructures.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/disaster-recovery-resiliency.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/disaster-recovery-resiliency.html#disaster-recovery-resiliency",
"main_header": "Resilience in Amazon Managed Streaming for Apache Kafka",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#disaster-recovery-resiliency",
"text": "Resilience in Amazon Managed Streaming for Apache Kafka"
},
"links": [
{
"url": "http://aws.amazon.com/about-aws/global-infrastructure/",
"title": "AWS Global Infrastructure"
}
],
"text": "For more information about AWS Regions and Availability Zones, see AWS Global Infrastructure.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/disaster-recovery-resiliency.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/disaster-recovery-resiliency.html#disaster-recovery-resiliency",
"main_header": "Resilience in Amazon Managed Streaming for Apache Kafka",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#disaster-recovery-resiliency",
"text": "Resilience in Amazon Managed Streaming for Apache Kafka"
},
"links": [],
"text": "In addition to the AWS global infrastructure, Amazon MSK offers several features to help support your data resiliency and backup needs.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/disaster-recovery-resiliency.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/disaster-recovery-resiliency.html#disaster-recovery-resiliency",
"main_header": "Resilience in Amazon Managed Streaming for Apache Kafka",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#infrastructure-security",
"text": "Infrastructure Security in Amazon Managed Streaming for Apache Kafka"
},
"links": [
{
"url": "https://d0.awsstatic.com/whitepapers/Security/AWS_Security_Whitepaper.pdf",
"title": "Amazon Web Services: Overview of Security Processes"
}
],
"text": "As a managed service, Amazon Managed Streaming for Apache Kafka is protected by the AWS global network security procedures that are described in the Amazon Web Services: Overview of Security Processes whitepaper.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/infrastructure-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/infrastructure-security.html#infrastructure-security",
"main_header": "Infrastructure Security in Amazon Managed Streaming for Apache Kafka",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#infrastructure-security",
"text": "Infrastructure Security in Amazon Managed Streaming for Apache Kafka"
},
"links": [],
"text": "You use AWS published API calls to access Amazon MSK through the network. Clients must support Transport Layer Security (TLS) 1.0 or later. We recommend TLS 1.2 or later. Clients must also support cipher suites with perfect forward secrecy (PFS) such as Ephemeral Diffie-Hellman (DHE) or Elliptic Curve Ephemeral Diffie-Hellman (ECDHE). Most modern systems such as Java 7 and later support these modes.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/infrastructure-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/infrastructure-security.html#infrastructure-security",
"main_header": "Infrastructure Security in Amazon Managed Streaming for Apache Kafka",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#infrastructure-security",
"text": "Infrastructure Security in Amazon Managed Streaming for Apache Kafka"
},
"links": [
{
"url": "https://docs.aws.amazon.com/STS/latest/APIReference/Welcome.html",
"title": "AWS Security Token Service"
}
],
"text": "Additionally, requests must be signed by using an access key ID and a secret access key that is associated with an IAM principal. Or you can use the AWS Security Token Service (AWS STS) to generate temporary security credentials to sign requests.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/infrastructure-security.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/infrastructure-security.html#infrastructure-security",
"main_header": "Infrastructure Security in Amazon Managed Streaming for Apache Kafka",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/security.html",
"title": "Security in Amazon Managed Streaming for Apache Kafka"
}
]
},
{
"h1": {
"urllink": "#client-access",
"text": "Connecting to an Amazon MSK Cluster"
},
"links": [
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html#SecurityGroupRules",
"title": "Security Group Rules"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
],
"text": "By default, clients can access an MSK cluster only if they're in the same VPC as the cluster. To connect to your MSK cluster from a client that's in the same VPC as the cluster, make sure the cluster's security group has an inbound rule that accepts traffic from the client's security group. For information about setting up these rules, see Security Group Rules. For an example of how to access a cluster from an Amazon EC2 instance that's in the same VPC as the cluster, see Getting Started Using Amazon MSK.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html#client-access",
"main_header": "Connecting to an Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#client-access",
"text": "Connecting to an Amazon MSK Cluster"
},
"links": [],
"text": "To connect to your MSK cluster from a client that's outside the cluster's VPC, see the following topics:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html#client-access",
"main_header": "Connecting to an Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#public-access",
"text": "Public access"
},
"links": [],
"text": "Amazon MSK gives you the option to turn on public access to the brokers of MSK clusters running Apache Kafka 2.6.0 or later versions. For security reasons, you can't turn on public access while creating an MSK cluster. However, you can update an existing cluster to make it publicly accessible. You can also create a new cluster and then update it to make it publicly accessible.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html#public-access",
"main_header": "Public access",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#public-access",
"text": "Public access"
},
"links": [
{
"url": "https://aws.amazon.com/ec2/pricing/on-demand/",
"title": "Amazon EC2 On-Demand Pricing"
}
],
"text": "You can turn on public access to an MSK cluster at no additional cost, but standard AWS data transfer costs apply for data transfer in and out of the cluster. For information about pricing, see Amazon EC2 On-Demand Pricing.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html#public-access",
"main_header": "Public access",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#public-access",
"text": "Public access"
},
"links": [],
"text": "To turn on public access to a cluster, first ensure that the cluster meets all of the following conditions:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html#public-access",
"main_header": "Public access",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#public-access",
"text": "Public access"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-bootstrap-brokers.html",
"title": "Getting the bootstrap brokers for an Amazon MSK Cluster"
}
],
"text": "After you ensure that an MSK cluster meets the conditions listed above, you can use the AWS Management Console, the AWS CLI, or the Amazon MSK API to turn on public access. After you turn on public access to a cluster, you can get a public bootstrap-brokers string for it. For information about getting the bootstrap brokers for a cluster, see Getting the bootstrap brokers for an Amazon MSK Cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/public-access.html#public-access",
"main_header": "Public access",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#aws-access",
"text": "Access from within AWS but outside cluster's VPC"
},
"links": [],
"text": "To connect to an MSK cluster from inside AWS but outside the cluster's Amazon VPC, the following options exist.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/aws-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/aws-access.html#aws-access",
"main_header": "Access from within AWS but outside cluster's VPC",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#aws-access",
"text": "Access from within AWS but outside cluster's VPC"
},
"h2": {
"urllink": "#vpc-peering",
"text": "Amazon VPC Peering"
},
"links": [
{
"url": "https://docs.aws.amazon.com/vpc/latest/peering/what-is-vpc-peering.html",
"title": "Amazon VPC Peering Guide"
}
],
"text": "To connect to your MSK cluster from a VPC that's different from the cluster's VPC, you can create a peering connection between the two VPCs. For information about VPC peering, see the Amazon VPC Peering Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/aws-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/aws-access.html#vpc-peering",
"main_header": "Amazon VPC Peering",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#aws-access",
"text": "Access from within AWS but outside cluster's VPC"
},
"h2": {
"urllink": "#direct-connect",
"text": "AWS Direct Connect"
},
"links": [
{
"url": "https://docs.aws.amazon.com/directconnect/latest/UserGuide/Welcome.html",
"title": "AWS Direct Connect"
}
],
"text": "AWS Direct Connect links your on-premise network to AWS over a standard 1 gigabit or 10 gigabit Ethernet fiber-optic cable. One end of the cable is connected to your router, the other to an AWS Direct Connect router. With this connection in place, you can create virtual interfaces directly to the AWS cloud and Amazon VPC, bypassing Internet service providers in your network path. For more information, see AWS Direct Connect.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/aws-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/aws-access.html#direct-connect",
"main_header": "AWS Direct Connect",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#aws-access",
"text": "Access from within AWS but outside cluster's VPC"
},
"h2": {
"urllink": "#transit-gateway",
"text": "AWS Transit Gateway"
},
"links": [
{
"url": "https://docs.aws.amazon.com/vpc/latest/tgw/what-is-transit-gateway.html",
"title": "AWS Transit Gateway"
}
],
"text": "AWS Transit Gateway is a service that enables you to connect your VPCs and your on-premises networks to a single gateway. For information about how to use AWS Transit Gateway, see AWS Transit Gateway.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/aws-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/aws-access.html#transit-gateway",
"main_header": "AWS Transit Gateway",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#aws-access",
"text": "Access from within AWS but outside cluster's VPC"
},
"h2": {
"urllink": "#vpn-connections",
"text": "VPN Connections"
},
"links": [
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/vpn-connections.html",
"title": "VPN Connections"
}
],
"text": "You can connect your MSK cluster's VPC to remote networks and users using the VPN connectivity options described in the following topic: VPN Connections.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/aws-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/aws-access.html#vpn-connections",
"main_header": "VPN Connections",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#aws-access",
"text": "Access from within AWS but outside cluster's VPC"
},
"h2": {
"urllink": "#rest-proxies",
"text": "REST Proxies"
},
"links": [],
"text": "You can install a REST proxy on an instance running within your cluster's Amazon VPC. REST proxies enable your producers and consumers to communicate with the cluster through HTTP API requests.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/aws-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/aws-access.html#rest-proxies",
"main_header": "REST Proxies",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#aws-access",
"text": "Access from within AWS but outside cluster's VPC"
},
"h2": {
"urllink": "#multi-vpc-multi-region",
"text": "Multiple Region Multi-VPC Connectivity"
},
"links": [
{
"url": "https://aws.amazon.com/answers/networking/aws-multiple-region-multi-vpc-connectivity/",
"title": "Multiple Region Multi-VPC Connectivity"
}
],
"text": "The following document describes connectivity options for multiple VPCs that reside in different Regions: Multiple Region Multi-VPC Connectivity.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/aws-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/aws-access.html#multi-vpc-multi-region",
"main_header": "Multiple Region Multi-VPC Connectivity",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#aws-access",
"text": "Access from within AWS but outside cluster's VPC"
},
"h2": {
"urllink": "#accessing-cluster-from-ec2-classic",
"text": "EC2-Classic"
},
"links": [],
"text": "Use the following procedure to connect to your cluster from an EC2-Classic instance.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/aws-access.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/aws-access.html#accessing-cluster-from-ec2-classic",
"main_header": "EC2-Classic",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#port-info",
"text": "Port information"
},
"links": [],
"text": "The following list provides the numbers of the ports that Amazon MSK uses to communicate with client machines.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/port-info.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/port-info.html#port-info",
"main_header": "Port information",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/client-access.html",
"title": "Connecting to an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#migration",
"text": "Migrating Clusters Using Apache Kafka's MirrorMaker"
},
"links": [
{
"url": "https://kafka.apache.org/documentation/#basic_ops_mirror_maker",
"title": "Mirroring data between clusters"
}
],
"text": "You can mirror or migrate your cluster using MirrorMaker, which is part of Apache Kafka. For example, you can use it to migrate your Apache Kafka cluster to Amazon MSK or to migrate from one MSK cluster to another. For information about how to use MirrorMaker, see Mirroring data between clusters in the Apache Kafka documentation. We recommend setting up MirrorMaker in a highly available configuration.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/migration.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/migration.html#migration",
"main_header": "Migrating Clusters Using Apache Kafka's MirrorMaker",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#migration",
"text": "Migrating Clusters Using Apache Kafka's MirrorMaker"
},
"h2": {
"urllink": "#migrate-on-prem-to-msk",
"text": "Migrating Your Apache Kafka Cluster to Amazon MSK"
},
"links": [],
"text": "Suppose that you have an Apache Kafka cluster named CLUSTER_ONPREM. That cluster is populated with topics and data. If you want to migrate that cluster to a newly created Amazon MSK cluster named CLUSTER_AWSMSK, this procedure provides a high-level view of the steps that you need to follow.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/migration.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/migration.html#migrate-on-prem-to-msk",
"main_header": "Migrating Your Apache Kafka Cluster to Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#migration",
"text": "Migrating Clusters Using Apache Kafka's MirrorMaker"
},
"h2": {
"urllink": "#msk-to-msk",
"text": "Migrating From One Amazon MSK Cluster to Another"
},
"links": [
{
"url": "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-msk-cluster.html#aws-resource-msk-cluster--examples",
"title": "AWS::MSK::Cluster Examples"
}
],
"text": "You can use Apache MirrorMaker to migrate an MSK cluster to another cluster. For example, you can migrate from one version of Apache Kafka to another. For an example of how to use AWS CloudFormation to do this, see AWS::MSK::Cluster Examples (search for the example titled Create Two MSK Clusters To Use With Apache MirrorMaker.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/migration.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/migration.html#msk-to-msk",
"main_header": "Migrating From One Amazon MSK Cluster to Another",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#migration",
"text": "Migrating Clusters Using Apache Kafka's MirrorMaker"
},
"h2": {
"urllink": "#mirrormaker-best-practices",
"text": "MirrorMaker 1.0 Best Practices"
},
"links": [],
"text": "This list of best practices applies to MirrorMaker 1.0.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/migration.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/migration.html#mirrormaker-best-practices",
"main_header": "MirrorMaker 1.0 Best Practices",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#monitoring",
"text": "Monitoring an Amazon MSK Cluster"
},
"links": [
{
"url": "http://kafka.apache.org/documentation/#monitoring",
"title": "Monitoring"
}
],
"text": "Amazon MSK gathers Apache Kafka metrics and sends them to Amazon CloudWatch where you can view them. For more information about Apache Kafka metrics, including the ones that Amazon MSK surfaces, see Monitoring in the Apache Kafka documentation.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html#monitoring",
"main_header": "Monitoring an Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#monitoring",
"text": "Monitoring an Amazon MSK Cluster"
},
"links": [
{
"url": "https://prometheus.io/docs/introduction/overview/",
"title": "Overview"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html",
"title": "Open Monitoring with Prometheus"
}
],
"text": "You can also monitor your MSK cluster with Prometheus, an open-source monitoring application. For information about Prometheus, see Overview in the Prometheus documentation. To learn how to monitor your cluster with Prometheus, see Open Monitoring with Prometheus.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html#monitoring",
"main_header": "Monitoring an Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#metrics-details",
"text": "Amazon MSK Metrics for Monitoring with CloudWatch"
},
"links": [],
"text": "Amazon MSK integrates with Amazon CloudWatch so that you can collect, view, and analyze CloudWatch metrics for your Amazon MSK cluster. The metrics that you configure for your MSK cluster are automatically collected and pushed to CloudWatch. You can set the monitoring level for an MSK cluster to one of the following: DEFAULT, PER_BROKER, PER_TOPIC_PER_BROKER, or PER_TOPIC_PER_PARTITION. The tables in the following sections show all the metrics that are available starting at each monitoring level.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html#metrics-details",
"main_header": "Amazon MSK Metrics for Monitoring with CloudWatch",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#metrics-details",
"text": "Amazon MSK Metrics for Monitoring with CloudWatch"
},
"links": [
{
"url": "https://aws.amazon.com/cloudwatch/pricing/",
"title": "Amazon CloudWatch pricing"
}
],
"text": "DEFAULT-level metrics are free. Pricing for other metrics is described in the Amazon CloudWatch pricing page.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html#metrics-details",
"main_header": "Amazon MSK Metrics for Monitoring with CloudWatch",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#metrics-details",
"text": "Amazon MSK Metrics for Monitoring with CloudWatch"
},
"h2": {
"urllink": "#default-metrics",
"text": "DEFAULT Level Monitoring"
},
"links": [],
"text": "The metrics described in the following table are available at the DEFAULT monitoring level. They are free.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html#default-metrics",
"main_header": "DEFAULT Level Monitoring",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#metrics-details",
"text": "Amazon MSK Metrics for Monitoring with CloudWatch"
},
"h2": {
"urllink": "#broker-metrics",
"text": "PER_BROKER Level Monitoring"
},
"links": [],
"text": "When you set the monitoring level to PER_BROKER, you get the metrics described in the following table in addition to all the DEFAULT level metrics. You pay for the metrics in the following table, whereas the DEFAULT level metrics continue to be free. The metrics in this table have the following dimensions: Cluster Name, Broker ID.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html#broker-metrics",
"main_header": "PER_BROKER Level Monitoring",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#metrics-details",
"text": "Amazon MSK Metrics for Monitoring with CloudWatch"
},
"h2": {
"urllink": "#broker-topic-metrics",
"text": "PER_TOPIC_PER_BROKER Level Monitoring"
},
"links": [],
"text": "When you set the monitoring level to PER_TOPIC_PER_BROKER, you get the metrics described in the following table, in addition to all the metrics from the PER_BROKER and DEFAULT levels. Only the DEFAULT level metrics are free. The metrics in this table have the following dimensions: Cluster Name, Broker ID, Topic.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html#broker-topic-metrics",
"main_header": "PER_TOPIC_PER_BROKER Level Monitoring",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#metrics-details",
"text": "Amazon MSK Metrics for Monitoring with CloudWatch"
},
"h2": {
"urllink": "#topic-partition-metrics",
"text": "PER_TOPIC_PER_PARTITION Level Monitoring"
},
"links": [],
"text": "When you set the monitoring level to PER_TOPIC_PER_PARTITION, you get the metrics described in the following table, in addition to all the metrics from the PER_TOPIC_PER_BROKER, PER_BROKER, and DEFAULT levels. Only the DEFAULT level metrics are free. The metrics in this table have the following dimensions: Consumer Group, Topic, Partition.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html#topic-partition-metrics",
"main_header": "PER_TOPIC_PER_PARTITION Level Monitoring",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#cloudwatch-metrics",
"text": "Viewing Amazon MSK Metrics Using CloudWatch"
},
"links": [],
"text": "You can monitor metrics for Amazon MSK using the CloudWatch console, the command line, or the CloudWatch API. The following procedures show you how to access metrics using these different methods.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cloudwatch-metrics.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cloudwatch-metrics.html#cloudwatch-metrics",
"main_header": "Viewing Amazon MSK Metrics Using CloudWatch",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#cloudwatch-metrics",
"text": "Viewing Amazon MSK Metrics Using CloudWatch"
},
"links": [],
"text": "To access metrics using the AWS CLI",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cloudwatch-metrics.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cloudwatch-metrics.html#cloudwatch-metrics",
"main_header": "Viewing Amazon MSK Metrics Using CloudWatch",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#cloudwatch-metrics",
"text": "Viewing Amazon MSK Metrics Using CloudWatch"
},
"links": [
{
"url": "https://docs.aws.amazon.com/cli/latest/reference/cloudwatch/list-metrics.html",
"title": "list-metrics"
},
{
"url": "https://docs.aws.amazon.com/cli/latest/reference/cloudwatch/get-metric-statistics.html",
"title": "get-metric-statistics"
}
],
"text": "Use the list-metrics and get-metric-statistics commands.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cloudwatch-metrics.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cloudwatch-metrics.html#cloudwatch-metrics",
"main_header": "Viewing Amazon MSK Metrics Using CloudWatch",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#cloudwatch-metrics",
"text": "Viewing Amazon MSK Metrics Using CloudWatch"
},
"links": [],
"text": "To access metrics using the CloudWatch CLI",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cloudwatch-metrics.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cloudwatch-metrics.html#cloudwatch-metrics",
"main_header": "Viewing Amazon MSK Metrics Using CloudWatch",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#cloudwatch-metrics",
"text": "Viewing Amazon MSK Metrics Using CloudWatch"
},
"links": [
{
"url": "https://docs.aws.amazon.com/AmazonCloudWatch/latest/cli/cli-mon-list-metrics.html",
"title": "mon-list-metrics"
},
{
"url": "https://docs.aws.amazon.com/AmazonCloudWatch/latest/cli/cli-mon-get-stats.html",
"title": "mon-get-stats"
}
],
"text": "Use the mon-list-metrics and mon-get-stats commands.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cloudwatch-metrics.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cloudwatch-metrics.html#cloudwatch-metrics",
"main_header": "Viewing Amazon MSK Metrics Using CloudWatch",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#cloudwatch-metrics",
"text": "Viewing Amazon MSK Metrics Using CloudWatch"
},
"links": [],
"text": "To access metrics using the CloudWatch API",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cloudwatch-metrics.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cloudwatch-metrics.html#cloudwatch-metrics",
"main_header": "Viewing Amazon MSK Metrics Using CloudWatch",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#cloudwatch-metrics",
"text": "Viewing Amazon MSK Metrics Using CloudWatch"
},
"links": [
{
"url": "https://docs.aws.amazon.com/AmazonCloudWatch/latest/APIReference/API_ListMetrics.html",
"title": "ListMetrics"
},
{
"url": "https://docs.aws.amazon.com/AmazonCloudWatch/latest/APIReference/API_GetMetricStatistics.html",
"title": "GetMetricStatistics"
}
],
"text": "Use the ListMetrics and GetMetricStatistics operations.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cloudwatch-metrics.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cloudwatch-metrics.html#cloudwatch-metrics",
"main_header": "Viewing Amazon MSK Metrics Using CloudWatch",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#consumer-lag",
"text": "Consumer-Lag Monitoring"
},
"links": [],
"text": "Monitoring consumer lag allows you to identify slow or stuck consumers that aren't keeping up with the latest data available in a topic. When necessary, you can then take remedial actions, such as scaling or rebooting those consumers. To monitor consumer lag, you can use Amazon CloudWatch or open monitoring with Prometheus.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/consumer-lag.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/consumer-lag.html#consumer-lag",
"main_header": "Consumer-Lag Monitoring",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#consumer-lag",
"text": "Consumer-Lag Monitoring"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html",
"title": "Amazon MSK Metrics for Monitoring with CloudWatch"
}
],
"text": "Consumer lag metrics quantify the difference between the latest data written to your topics and the data read by your applications. Amazon MSK provides the following consumer-lag metrics, which you can get through Amazon CloudWatch or through open monitoring with Prometheus: EstimatedMaxTimeLag, EstimatedTimeLag, MaxOffsetLag, OffsetLag, and SumOffsetLag. For information about these metrics, see Amazon MSK Metrics for Monitoring with CloudWatch.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/consumer-lag.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/consumer-lag.html#consumer-lag",
"main_header": "Consumer-Lag Monitoring",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#consumer-lag",
"text": "Consumer-Lag Monitoring"
},
"links": [],
"text": "Amazon MSK supports consumer lag metrics for clusters with Apache Kafka 2.2.1 or a later version.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/consumer-lag.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/consumer-lag.html#consumer-lag",
"main_header": "Consumer-Lag Monitoring",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#open-monitoring",
"text": "Open Monitoring with Prometheus"
},
"links": [
{
"url": "https://docs.datadoghq.com/integrations/amazon_msk/",
"title": "Datadog"
},
{
"url": "https://docs.lenses.io/install_setup/deployment-options/aws-deployment.html#msk-prometheus-metrics",
"title": "Lenses"
},
{
"url": "https://docs.newrelic.com/docs/integrations/amazon-integrations/aws-integrations-list/aws-managed-kafka-msk-integration",
"title": "New Relic"
},
{
"url": "https://help.sumologic.com/03Send-Data/Collect-from-Other-Data-Sources/Amazon_MSK_Prometheus_metrics_collection",
"title": "Sumo logic"
},
{
"url": "https://prometheus.io/docs",
"title": "Prometheus documentation"
}
],
"text": "You can monitor your MSK cluster with Prometheus, an open-source monitoring system for time-series metric data. You can publish this data to Amazon Managed Service for Prometheus using Prometheus's remote write feature. You can also use tools that are compatible with Prometheus-formatted metrics or tools that integrate with Amazon MSK Open Monitoring, like Datadog, Lenses, New Relic, and Sumo logic. Open monitoring is available for free but charges apply for the transfer of data across Availability Zones. For information about Prometheus, see the Prometheus documentation.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html#open-monitoring",
"main_header": "Open Monitoring with Prometheus",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#open-monitoring",
"text": "Open Monitoring with Prometheus"
},
"h2": {
"urllink": "#enable-open-monitoring-after-creation",
"text": "Enabling Open Monitoring for an Existing Amazon MSK Cluster"
},
"links": [],
"text": "To enable open monitoring, make sure that the cluster is in the ACTIVE state.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html#enable-open-monitoring-after-creation",
"main_header": "Enabling Open Monitoring for an Existing Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#open-monitoring",
"text": "Open Monitoring with Prometheus"
},
"h2": {
"urllink": "#prometheus-metrics",
"text": "Prometheus Metrics"
},
"links": [
{
"url": "https://kafka.apache.org/documentation/#monitoring",
"title": "Monitoring"
}
],
"text": "All metrics emitted by Apache Kafka to JMX are accessible using open monitoring with Prometheus. For information about Apache Kafka metrics, see Monitoring in the Apache Kafka documentation. Along with Apache Kafka metrics, consumer-lag metrics are also available at port 11001 under the JMX MBean name kafka.consumer.group:type=ConsumerLagMetrics. You can also use the Prometheus Node Exporter to get CPU and disk metrics for your brokers at port 11002.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html#prometheus-metrics",
"main_header": "Prometheus Metrics",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#open-monitoring",
"text": "Open Monitoring with Prometheus"
},
"h2": {
"urllink": "#managed-service-prometheus",
"text": "Storing Prometheus metrics in Amazon Managed Service for Prometheus"
},
"links": [],
"text": "Amazon Managed Service for Prometheus is a Prometheus-compatible monitoring and alerting service that you can use to monitor Amazon MSK clusters. It is a fully-managed service that automatically scales the ingestion, storage, querying, and alerting of your metrics. It also integrates with AWS security services to give you fast and secure access to your data. You can use the open-source PromQL query language to query your metrics and alert on them.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html#managed-service-prometheus",
"main_header": "Storing Prometheus metrics in Amazon Managed Service for Prometheus",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#open-monitoring",
"text": "Open Monitoring with Prometheus"
},
"h2": {
"urllink": "#managed-service-prometheus",
"text": "Storing Prometheus metrics in Amazon Managed Service for Prometheus"
},
"links": [
{
"url": "https://docs.aws.amazon.com/prometheus/latest/userguide/AMP-getting-started.html",
"title": "Getting started with Amazon Managed Service for Prometheus"
}
],
"text": "For more information, see Getting started with Amazon Managed Service for Prometheus.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/open-monitoring.html#managed-service-prometheus",
"main_header": "Storing Prometheus metrics in Amazon Managed Service for Prometheus",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
]
},
{
"h1": {
"urllink": "#cruise-control",
"text": "Using LinkedIn's Cruise Control for Apache Kafka with Amazon MSK"
},
"links": [],
"text": "You can use LinkedIn's Cruise Control to rebalance your Amazon MSK cluster, detect and fix anomalies, and monitor the state and health of the cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cruise-control.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/cruise-control.html#cruise-control",
"main_header": "Using LinkedIn's Cruise Control for Apache Kafka with Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#limits",
"text": "Amazon MSK Quota"
},
"h2": {
"urllink": "#mkc-quota",
"text": "MSK Connect quota"
},
"links": [
{
"url": "https://console.aws.amazon.com/support/home#/",
"title": "create a support case"
}
],
"text": "To request higher quota for MSK Connect, create a support case.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/limits.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/limits.html#mkc-quota",
"main_header": "MSK Connect quota",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#resources",
"text": "Amazon MSK resources"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/resources.html",
"title": "Resources"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html",
"title": "IAM access control"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html#msk-iam-resources",
"title": "Resources"
}
],
"text": "The term resources has two meanings in Amazon MSK, depending on the context. In the context of APIs a resource is a structure on which you can invoke an operation. For a list of these resources and the operations that you can invoke on them, see Resources in the Amazon MSK API Reference. In the context of IAM access control, a resource is an entity to which you can allow or deny access, as defined in the Resources section.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/resources.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/resources.html#resources",
"main_header": "Amazon MSK resources",
"images": [],
"container_type": "p",
"children_tags": [
"em",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#kafka-versions",
"text": "Apache Kafka Versions"
},
"links": [],
"text": "When you create an Amazon MSK cluster, you specify which Apache Kafka version you want to have on it. You can also update the Apache Kafka version of an existing cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html#kafka-versions",
"main_header": "Apache Kafka Versions",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"links": [],
"text": "Amazon Managed Streaming for Apache Kafka (Amazon MSK) supports the following Apache Kafka and Amazon MSK versions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#supported-kafka-versions",
"main_header": "Supported Apache Kafka versions",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.8.1",
"text": "Apache Kafka version 2.8.1"
},
"links": [
{
"url": "https://downloads.apache.org/kafka/2.8.1/RELEASE_NOTES.html",
"title": "release notes"
}
],
"text": "For information about Apache Kafka version 2.8.1, see its release notes on the Apache Kafka downloads site.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.8.1",
"main_header": "Apache Kafka version 2.8.1",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.8.0",
"text": "Apache Kafka version 2.8.0"
},
"links": [
{
"url": "https://archive.apache.org/dist/kafka/2.8.0/RELEASE_NOTES.html",
"title": "release notes"
}
],
"text": "For information about Apache Kafka version 2.8.0, see its release notes on the Apache Kafka downloads site.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.8.0",
"main_header": "Apache Kafka version 2.8.0",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.7.2",
"text": "Apache Kafka version 2.7.2"
},
"links": [
{
"url": "https://archive.apache.org/dist/kafka/2.7.2/RELEASE_NOTES.html",
"title": "release notes"
}
],
"text": "For information about Apache Kafka version 2.7.2, see its release notes on the Apache Kafka downloads site.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.7.2",
"main_header": "Apache Kafka version 2.7.2",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.7.1",
"text": "Apache Kafka version 2.7.1"
},
"links": [
{
"url": "https://archive.apache.org/dist/kafka/2.7.1/RELEASE_NOTES.html",
"title": "release notes"
}
],
"text": "For information about Apache Kafka version 2.7.1, see its release notes on the Apache Kafka downloads site.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.7.1",
"main_header": "Apache Kafka version 2.7.1",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.6.3",
"text": "Apache Kafka version 2.6.3"
},
"links": [
{
"url": "https://archive.apache.org/dist/kafka/2.6.3/RELEASE_NOTES.html",
"title": "release notes"
}
],
"text": "For information about Apache Kafka version 2.6.3, see its release notes on the Apache Kafka downloads site.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.6.3",
"main_header": "Apache Kafka version 2.6.3",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.6.2",
"text": "Apache Kafka version 2.6.2 [Recommended]"
},
"links": [
{
"url": "https://archive.apache.org/dist/kafka/2.6.2/RELEASE_NOTES.html",
"title": "release notes"
}
],
"text": "For information about Apache Kafka version 2.6.2, see its release notes on the Apache Kafka downloads site.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.6.2",
"main_header": "Apache Kafka version 2.6.2 [Recommended]",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.7.0",
"text": "Apache Kafka version 2.7.0"
},
"links": [
{
"url": "https://archive.apache.org/dist/kafka/2.7.0/RELEASE_NOTES.html",
"title": "release notes"
}
],
"text": "For information about Apache Kafka version 2.7.0, see its release notes on the Apache Kafka downloads site.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.7.0",
"main_header": "Apache Kafka version 2.7.0",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.6.1",
"text": "Apache Kafka version 2.6.1"
},
"links": [
{
"url": "https://archive.apache.org/dist/kafka/2.6.1/RELEASE_NOTES.html",
"title": "release notes"
}
],
"text": "For information about Apache Kafka version 2.6.1, see its release notes on the Apache Kafka downloads site.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.6.1",
"main_header": "Apache Kafka version 2.6.1",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.6.0",
"text": "Apache Kafka version 2.6.0"
},
"links": [
{
"url": "https://archive.apache.org/dist/kafka/2.6.0/RELEASE_NOTES.html",
"title": "release notes"
}
],
"text": "For information about Apache Kafka version 2.6.0, see its release notes on the Apache Kafka downloads site.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.6.0",
"main_header": "Apache Kafka version 2.6.0",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.5.1",
"text": "Apache Kafka version 2.5.1"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/clusters-clusterarn.html#DescribeCluster",
"title": "DescribeCluster"
}
],
"text": "Apache Kafka version 2.5.1 includes several bug fixes and new features, including encryption in-transit for Apache ZooKeeper and administration clients. Amazon MSK provides TLS ZooKeeper endpoints, which you can query with the DescribeCluster  operation.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.5.1",
"main_header": "Apache Kafka version 2.5.1",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.5.1",
"text": "Apache Kafka version 2.5.1"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/1.0/apireference/clusters-clusterarn.html#DescribeCluster",
"title": "DescribeCluster"
}
],
"text": "The output of the DescribeCluster operation includes the ZookeeperConnectStringTls node, which lists the TLS zookeeper endpoints.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.5.1",
"main_header": "Apache Kafka version 2.5.1",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.5.1",
"text": "Apache Kafka version 2.5.1"
},
"links": [],
"text": "The following example shows the ZookeeperConnectStringTls node of the response for the DescribeCluster operation:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.5.1",
"main_header": "Apache Kafka version 2.5.1",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.5.1",
"text": "Apache Kafka version 2.5.1"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/zookeeper-security.html#zookeeper-security-tls",
"title": "Using TLS security with Apache ZooKeeper"
}
],
"text": "For information about using TLS encryption with zookeeper, see Using TLS security with Apache ZooKeeper.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.5.1",
"main_header": "Apache Kafka version 2.5.1",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.5.1",
"text": "Apache Kafka version 2.5.1"
},
"links": [
{
"url": "https://archive.apache.org/dist/kafka/2.5.1/RELEASE_NOTES.html",
"title": "release notes"
}
],
"text": "For more information about Apache Kafka version 2.5.1, see its release notes on the Apache Kafka downloads site.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.5.1",
"main_header": "Apache Kafka version 2.5.1",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.4.1.1",
"text": "Amazon MSK bug-fix version 2.4.1.1"
},
"links": [
{
"url": "https://issues.apache.org/jira/browse/KAFKA-9752",
"title": "KAFKA-9752"
}
],
"text": "This release is an Amazon MSK-only bug-fix version of Apache Kafka version 2.4.1. This bug-fix release contains a fix for KAFKA-9752, a rare issue that causes consumer groups to continuously rebalance and remain in the PreparingRebalance state. This issue affects clusters running Apache Kafka versions 2.3.1 and 2.4.1. This release contains a community-produced fix that is available in Apache Kafka version 2.5.0.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.4.1.1",
"main_header": "Amazon MSK bug-fix version 2.4.1.1",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.4.1.1",
"text": "Amazon MSK bug-fix version 2.4.1.1"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html",
"title": "Updating the Apache Kafka version"
}
],
"text": "We recommend that you use MSK bug-fix version 2.4.1.1 for new Amazon MSK clusters if you prefer to use Apache Kafka 2.4.1. You can update existing clusters running Apache Kafka version 2.4.1 to this version to incorporate this fix. For information about upgrading an existing cluster, see Updating the Apache Kafka version.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.4.1.1",
"main_header": "Amazon MSK bug-fix version 2.4.1.1",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.4.1.1",
"text": "Amazon MSK bug-fix version 2.4.1.1"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#consumer-group-rebalance",
"title": "Consumer group stuck in PreparingRebalance state"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"title": ""
}
],
"text": "To work around this issue without upgrading the cluster to version 2.4.1.1, see the Consumer group stuck in PreparingRebalance state section of the  guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.4.1.1",
"main_header": "Amazon MSK bug-fix version 2.4.1.1",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.4.1",
"text": "Apache Kafka version 2.4.1 (use 2.4.1.1 instead)"
},
"links": [],
"text": "KIP-392 is one of the key Kafka Improvement Proposals that are included in the 2.4.1 release of Apache Kafka. This improvement allows consumers to fetch from the closest replica. To use this feature, set client.rack in the consumer properties to the ID of the consumer's Availability Zone. An example AZ ID is use1-az1. Amazon MSK sets broker.rack to the IDs of the Availability Zones of the brokers. You must also set the replica.selector.class configuration property to org.apache.kafka.common.replica.RackAwareReplicaSelector, which is an implementation of rack awareness provided by Apache Kafka.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.4.1",
"main_header": "Apache Kafka version 2.4.1 (use 2.4.1.1 instead)",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.4.1",
"text": "Apache Kafka version 2.4.1 (use 2.4.1.1 instead)"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/metrics-details.html#broker-topic-metrics",
"title": "PER_TOPIC_PER_BROKER Level Monitoring"
}
],
"text": "When you use this version of Apache Kafka, the metrics in the PER_TOPIC_PER_BROKER monitoring level appear only after their values become nonzero for the first time. For more information about this, see PER_TOPIC_PER_BROKER Level Monitoring.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.4.1",
"main_header": "Apache Kafka version 2.4.1 (use 2.4.1.1 instead)",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.4.1",
"text": "Apache Kafka version 2.4.1 (use 2.4.1.1 instead)"
},
"links": [
{
"url": "https://docs.aws.amazon.com/ram/latest/userguide/working-with-az-ids.html",
"title": "AZ IDs for Your Resource"
}
],
"text": "For information about how to find Availability Zone IDs, see AZ IDs for Your Resource in the AWS Resource Access Manager user guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.4.1",
"main_header": "Apache Kafka version 2.4.1 (use 2.4.1.1 instead)",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.4.1",
"text": "Apache Kafka version 2.4.1 (use 2.4.1.1 instead)"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration.html",
"title": "Amazon MSK Configuration"
}
],
"text": "For information about setting configuration properties, see Amazon MSK Configuration.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.4.1",
"main_header": "Apache Kafka version 2.4.1 (use 2.4.1.1 instead)",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.4.1",
"text": "Apache Kafka version 2.4.1 (use 2.4.1.1 instead)"
},
"links": [
{
"url": "https://cwiki.apache.org/confluence/display/KAFKA/KIP-392:+Allow+consumers+to+fetch+from+closest+replica",
"title": "Allow Consumers to Fetch from Closest Replica"
}
],
"text": "For more information about KIP-392, see Allow Consumers to Fetch from Closest Replica in the Confluence pages.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.4.1",
"main_header": "Apache Kafka version 2.4.1 (use 2.4.1.1 instead)",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.4.1",
"text": "Apache Kafka version 2.4.1 (use 2.4.1.1 instead)"
},
"links": [
{
"url": "https://archive.apache.org/dist/kafka/2.4.1/RELEASE_NOTES.html",
"title": "release notes"
}
],
"text": "For more information about Apache Kafka version 2.4.1, see its release notes on the Apache Kafka downloads site.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.4.1",
"main_header": "Apache Kafka version 2.4.1 (use 2.4.1.1 instead)",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.3.1",
"text": "Apache Kafka version 2.3.1"
},
"links": [
{
"url": "https://archive.apache.org/dist/kafka/2.3.1/RELEASE_NOTES.html",
"title": "release notes"
}
],
"text": "For information about Apache Kafka version 2.3.1, see its release notes on the Apache Kafka downloads site.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.3.1",
"main_header": "Apache Kafka version 2.3.1",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#2.2.1",
"text": "Apache Kafka version 2.2.1"
},
"links": [
{
"url": "https://archive.apache.org/dist/kafka/2.2.1/RELEASE_NOTES.html",
"title": "release notes"
}
],
"text": "For information about Apache Kafka version 2.2.1, see its release notes on the Apache Kafka downloads site.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.2.1",
"main_header": "Apache Kafka version 2.2.1",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#supported-kafka-versions",
"text": "Supported Apache Kafka versions"
},
"h2": {
"urllink": "#1.1.1",
"text": "Apache Kafka version 1.1.1 (for existing clusters only)"
},
"links": [
{
"url": "https://archive.apache.org/dist/kafka/1.1.1/RELEASE_NOTES.html",
"title": "release notes"
}
],
"text": "You can no longer create a new MSK cluster with Apache Kafka version 1.1.1. You can continue to use existing clusters that are configured with Apache Kafka version 1.1.1. For information about Apache Kafka version 1.1.1, see its release notes on the Apache Kafka downloads site.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#1.1.1",
"main_header": "Apache Kafka version 1.1.1 (for existing clusters only)",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#version-upgrades",
"text": "Updating the Apache Kafka version"
},
"links": [],
"text": "You can update an existing MSK cluster to a newer version of Apache Kafka. You can't update it to an older version. When you update the Apache Kafka version of an MSK cluster, also check your client-side software to make sure its version enables you to use the features of the cluster's new Apache Kafka version. Amazon MSK only updates the server software. It doesn't update your clients.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html#version-upgrades",
"main_header": "Updating the Apache Kafka version",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#version-upgrades",
"text": "Updating the Apache Kafka version"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#ensure-high-availability",
"title": "Build highly available clusters"
}
],
"text": "For information about how to make a cluster highly available during an update, see Build highly available clusters.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html#version-upgrades",
"main_header": "Updating the Apache Kafka version",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/kafka-versions.html",
"title": "Apache Kafka Versions"
}
]
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"links": [
{
"url": "https://forums.aws.amazon.com/forum.jspa?forumID=315",
"title": "Amazon MSK forum"
}
],
"text": "The following information can help you troubleshoot problems that you might have with your Amazon MSK cluster. You can also post your issue to the Amazon MSK forum.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting",
"main_header": "Troubleshooting Your Amazon MSK Cluster",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#consumer-group-rebalance",
"text": "Consumer group stuck in PreparingRebalance state"
},
"links": [
{
"url": "https://issues.apache.org/jira/browse/KAFKA-9752",
"title": "KAFKA-9752"
}
],
"text": "If one or more of your consumer groups is stuck in a perpetual rebalancing state, the cause might be Apache Kafka issue KAFKA-9752, which affects Apache Kafka versions 2.3.1 and 2.4.1.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#consumer-group-rebalance",
"main_header": "Consumer group stuck in PreparingRebalance state",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#consumer-group-rebalance",
"text": "Consumer group stuck in PreparingRebalance state"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/supported-kafka-versions.html#2.4.1.1",
"title": "Amazon MSK bug-fix version 2.4.1.1"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/version-upgrades.html",
"title": "Updating the Apache Kafka version"
}
],
"text": "To resolve this issue, we recommend that you upgrade your cluster to Amazon MSK bug-fix version 2.4.1.1, which contains a fix for this issue. For information about updating an existing cluster to Amazon MSK bug-fix version 2.4.1.1, see Updating the Apache Kafka version.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#consumer-group-rebalance",
"main_header": "Consumer group stuck in PreparingRebalance state",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#consumer-group-rebalance",
"text": "Consumer group stuck in PreparingRebalance state"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#consumer-group-rebalance-static",
"title": "Static Membership Protocol"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#consumer-group-rebalance-reboot",
"title": "Identify and Reboot"
}
],
"text": "The workarounds for solving this issue without upgrading the cluster to Amazon MSK bug-fix version 2.4.1.1 are to either set the Kafka clients to use Static Membership Protocol , or to Identify and Reboot the coordinating broker node of the stuck consumer group.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#consumer-group-rebalance",
"main_header": "Consumer group stuck in PreparingRebalance state",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#consumer-group-rebalance",
"text": "Consumer group stuck in PreparingRebalance state"
},
"h3": {
"urllink": "#consumer-group-rebalance-static",
"text": "Implementing Static Membership Protocol"
},
"links": [],
"text": "To implement Static Membership Protocol in your clients, do the following:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#consumer-group-rebalance-static",
"main_header": "Implementing Static Membership Protocol",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#consumer-group-rebalance",
"text": "Consumer group stuck in PreparingRebalance state"
},
"h3": {
"urllink": "#consumer-group-rebalance-static",
"text": "Implementing Static Membership Protocol"
},
"links": [],
"text": "Using Static Membership Protocol is more effective if the session timeout in the client configuration is set to a duration that allows the consumer to recover without prematurely triggering a consumer group rebalance. For example, if your consumer application can tolerate 5 minutes of unavailability, a reasonable value for the session timeout would be 4 minutes instead of the default value of 10 seconds.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#consumer-group-rebalance-static",
"main_header": "Implementing Static Membership Protocol",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#consumer-group-rebalance",
"text": "Consumer group stuck in PreparingRebalance state"
},
"h3": {
"urllink": "#consumer-group-rebalance-reboot",
"text": "Rebooting the Coordinating Broker Node"
},
"links": [],
"text": "To reboot the coordinating broker node, do the following:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#consumer-group-rebalance-reboot",
"main_header": "Rebooting the Coordinating Broker Node",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#cw-broker-logs-error",
"text": "Error delivering broker logs to Amazon CloudWatch Logs"
},
"links": [],
"text": "When you try to set up your cluster to send broker logs to Amazon CloudWatch Logs, you might get one of two exceptions.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#cw-broker-logs-error",
"main_header": "Error delivering broker logs to Amazon CloudWatch Logs",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#cw-broker-logs-error",
"text": "Error delivering broker logs to Amazon CloudWatch Logs"
},
"links": [
{
"url": "https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/AWS-logs-and-resource-policy.html",
"title": "Enabling Logging from Certain Amazon Web Services"
}
],
"text": "If you get an InvalidInput.LengthOfCloudWatchResourcePolicyLimitExceeded exception, try again but use log groups that start with /aws/vendedlogs/. For more information, see Enabling Logging from Certain Amazon Web Services.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#cw-broker-logs-error",
"main_header": "Error delivering broker logs to Amazon CloudWatch Logs",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#cw-broker-logs-error",
"text": "Error delivering broker logs to Amazon CloudWatch Logs"
},
"links": [],
"text": "If you get an InvalidInput.NumberOfCloudWatchResourcePoliciesLimitExceeded exception, choose an existing Amazon CloudWatch Logs policy in your account, and append the following JSON to it.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#cw-broker-logs-error",
"main_header": "Error delivering broker logs to Amazon CloudWatch Logs",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#cw-broker-logs-error",
"text": "Error delivering broker logs to Amazon CloudWatch Logs"
},
"links": [],
"text": "If you try to append the JSON above to an existing policy but get an error that says you've reached the maximum length for the policy you picked, try to append the JSON to another one of your Amazon CloudWatch Logs policies. After you append the JSON to an existing policy, try once again to set up broker-log delivery to Amazon CloudWatch Logs.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#cw-broker-logs-error",
"main_header": "Error delivering broker logs to Amazon CloudWatch Logs",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#troubleshooting-shared-vpc",
"text": "No default security group"
},
"links": [
{
"url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_examples_ec2_securitygroups-vpc.html",
"title": "Amazon EC2: Allows Managing EC2 Security Groups Associated With a Specific VPC, Programmatically and in the Console"
}
],
"text": "If you try to create a cluster and get an error indicating that there's no default security group, it might be because you are using a VPC that was shared with you. Ask your administrator to grant you permission to describe the security groups on this VPC and try again. For an example of a policy that allows this action, see Amazon EC2: Allows Managing EC2 Security Groups Associated With a Specific VPC, Programmatically and in the Console .",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting-shared-vpc",
"main_header": "No default security group",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#troubleshooting-cluster-stuck",
"text": "Cluster appears stuck in the CREATING state"
},
"links": [],
"text": "Sometimes cluster creation can take up to 30 minutes. Wait for 30 minutes and check the state of the cluster again.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting-cluster-stuck",
"main_header": "Cluster appears stuck in the CREATING state",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#troubleshooting-cluster-failed",
"text": "Cluster state goes from CREATING to FAILED"
},
"links": [],
"text": "Try creating the cluster again.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting-cluster-failed",
"main_header": "Cluster state goes from CREATING to FAILED",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#troubleshooting-nocli",
"text": "AWS CLI doesn't recognize Amazon MSK"
},
"links": [
{
"url": "https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-install.html",
"title": "Installing the AWS Command Line Interface"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
],
"text": "If you have the AWS CLI installed, but it doesn't recognize the Amazon MSK commands, upgrade your AWS CLI to the latest version. For detailed instructions on how to upgrade the AWS CLI, see Installing the AWS Command Line Interface. For information about how to use the AWS CLI to run Amazon MSK commands, see Amazon MSK: How It Works.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting-nocli",
"main_header": "AWS CLI doesn't recognize Amazon MSK",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#troubleshooting-offlinepartitions-outofsyncreplicas",
"text": "Partitions go offline or replicas are out of sync"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting-lowdiskspace",
"title": "Disk space is running low"
}
],
"text": "These can be symptoms of low disk space. See Disk space is running low.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting-offlinepartitions-outofsyncreplicas",
"main_header": "Partitions go offline or replicas are out of sync",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#troubleshooting-lowdiskspace",
"text": "Disk space is running low"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#bestpractices-monitor-disk-space",
"title": "Monitor disk space"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#bestpractices-retention-period",
"title": "Adjust data retention parameters"
}
],
"text": "See the following best practices for managing disk space: Monitor disk space and Adjust data retention parameters.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting-lowdiskspace",
"main_header": "Disk space is running low",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#troubleshooting-lowmemory",
"text": "Memory running low"
},
"links": [],
"text": "If you see the MemoryUsed metric running high or MemoryFree running low, that doesn't mean there's a problem. Apache Kafka is designed to use as much memory as possible, and it manages it optimally.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting-lowmemory",
"main_header": "Memory running low",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#troubleshooting-NotLeaderForPartitionException",
"text": "Producer Gets NotLeaderForPartitionException"
},
"links": [],
"text": "This is often a transient error. Set the producer's retries configuration parameter to a value that's higher than its current value.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting-NotLeaderForPartitionException",
"main_header": "Producer Gets NotLeaderForPartitionException",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#troubleshooting-urp",
"text": "Under-Replicated Partitions (URP) greater than zero"
},
"links": [],
"text": "The UnderReplicatedPartitions metric is an important one to monitor. In a healthy MSK cluster, this metric has the value 0. If it's greater than zero, that might be for one of the following reasons.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshooting-urp",
"main_header": "Under-Replicated Partitions (URP) greater than zero",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#amazon_msk_canary",
"text": "Cluster has topics called __amazon_msk_canary and __amazon_msk_canary_state"
},
"links": [],
"text": "You might see that your MSK cluster has a topic with the name __amazon_msk_canary and another with the name __amazon_msk_canary_state. These are internal topics that Amazon MSK creates and uses for cluster health and diagnostic metrics. These topics are negligible in size and can't be deleted.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#amazon_msk_canary",
"main_header": "Cluster has topics called __amazon_msk_canary and __amazon_msk_canary_state",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#partition_replication_fails",
"text": "Partition replication fails"
},
"links": [],
"text": "Ensure that you haven't set ACLs on CLUSTER_ACTIONS.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#partition_replication_fails",
"main_header": "Partition replication fails",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#public-access-issues",
"text": "Unable to access cluster that has public access turned on"
},
"links": [],
"text": "If your cluster has public access turned on, but you still cannot access it from the internet, follow these steps:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#public-access-issues",
"main_header": "Unable to access cluster that has public access turned on",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#networking-trouble",
"text": "Unable to access cluster from within AWS: networking issues"
},
"links": [],
"text": "If you have an Apache Kafka application that is unable to communicate successfully with an MSK cluster, start by performing the following connectivity test.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#networking-trouble",
"main_header": "Unable to access cluster from within AWS: networking issues",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#networking-trouble",
"text": "Unable to access cluster from within AWS: networking issues"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-get-bootstrap-brokers.html",
"title": "Getting the bootstrap brokers for an Amazon MSK Cluster"
}
],
"text": "If the client machine is able to access the brokers and the Apache ZooKeeper nodes, this means there are no connectivity issues. In this case, run the following command to check whether your Apache Kafka client is set up correctly. To get bootstrap-brokers, use any of the methods described in Getting the bootstrap brokers for an Amazon MSK Cluster. Replace topic with the name of your topic.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#networking-trouble",
"main_header": "Unable to access cluster from within AWS: networking issues",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#networking-trouble",
"text": "Unable to access cluster from within AWS: networking issues"
},
"links": [],
"text": "If the previous command succeeds, this means that your client is set up correctly. If you're still unable to produce and consume from an application, debug the problem at the application level.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#networking-trouble",
"main_header": "Unable to access cluster from within AWS: networking issues",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#networking-trouble",
"text": "Unable to access cluster from within AWS: networking issues"
},
"links": [],
"text": "If the client machine is unable to access the brokers and the Apache ZooKeeper nodes, see the following subsections for guidance that is based on your client-machine setup.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#networking-trouble",
"main_header": "Unable to access cluster from within AWS: networking issues",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#networking-trouble",
"text": "Unable to access cluster from within AWS: networking issues"
},
"h3": {
"urllink": "#troubleshoot-ec2-client-in-cluster-vpc",
"text": "Amazon EC2 client and MSK cluster in the same VPC"
},
"links": [
{
"url": "https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html#SecurityGroupRules",
"title": "Security Group Rules"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/getting-started.html",
"title": "Getting Started Using Amazon MSK"
}
],
"text": "If the client machine is in the same VPC as the MSK cluster, make sure the cluster's security group has an inbound rule that accepts traffic from the client machine's security group. For information about setting up these rules, see Security Group Rules. For an example of how to access a cluster from an Amazon EC2 instance that's in the same VPC as the cluster, see Getting Started Using Amazon MSK.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshoot-ec2-client-in-cluster-vpc",
"main_header": "Amazon EC2 client and MSK cluster in the same VPC",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#networking-trouble",
"text": "Unable to access cluster from within AWS: networking issues"
},
"h3": {
"urllink": "#troubleshoot-peering-connection",
"text": "Amazon EC2 client and MSK cluster in different VPCs"
},
"links": [],
"text": "If the client machine and the cluster are in two different VPCs, ensure the following:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshoot-peering-connection",
"main_header": "Amazon EC2 client and MSK cluster in different VPCs",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#networking-trouble",
"text": "Unable to access cluster from within AWS: networking issues"
},
"h3": {
"urllink": "#troubleshoot-peering-connection",
"text": "Amazon EC2 client and MSK cluster in different VPCs"
},
"links": [
{
"url": "https://docs.aws.amazon.com/vpc/latest/peering/working-with-vpc-peering.html",
"title": "Working with VPC Peering Connections"
}
],
"text": "For information about VPC peering, see Working with VPC Peering Connections.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshoot-peering-connection",
"main_header": "Amazon EC2 client and MSK cluster in different VPCs",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#networking-trouble",
"text": "Unable to access cluster from within AWS: networking issues"
},
"h3": {
"urllink": "#troubleshoot-on-prem-client",
"text": "On-premises client"
},
"links": [],
"text": "In the case of an on-premises client that is set up to connect to the MSK cluster using AWS VPN, ensure the following:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshoot-on-prem-client",
"main_header": "On-premises client",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#networking-trouble",
"text": "Unable to access cluster from within AWS: networking issues"
},
"h3": {
"urllink": "#troubleshoot-on-prem-client",
"text": "On-premises client"
},
"links": [
{
"url": "https://docs.aws.amazon.com/vpn/latest/clientvpn-admin/troubleshooting.html",
"title": "Troubleshooting Client VPN"
}
],
"text": "For more AWS VPN troubleshooting guidance, see Troubleshooting Client VPN.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshoot-on-prem-client",
"main_header": "On-premises client",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#networking-trouble",
"text": "Unable to access cluster from within AWS: networking issues"
},
"h3": {
"urllink": "#troubleshoot-direct-connect",
"text": "AWS Direct Connect"
},
"links": [
{
"url": "https://docs.aws.amazon.com/directconnect/latest/UserGuide/Troubleshooting.html",
"title": "Troubleshooting AWS Direct Connect"
}
],
"text": "If the client uses AWS Direct Connect, see Troubleshooting AWS Direct Connect.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshoot-direct-connect",
"main_header": "AWS Direct Connect",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#networking-trouble",
"text": "Unable to access cluster from within AWS: networking issues"
},
"h3": {
"urllink": "#troubleshoot-direct-connect",
"text": "AWS Direct Connect"
},
"links": [],
"text": "If the previous troubleshooting guidance doesn't resolve the issue, ensure that no firewall is blocking network traffic. For further debugging, use tools like tcpdump and Wireshark to analyze traffic and to make sure that it is reaching the MSK cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshoot-direct-connect",
"main_header": "AWS Direct Connect",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#troubleshoot-too-many-connects",
"text": "Failed authentication: Too many connects"
},
"links": [
{
"url": "https://kafka.apache.org/documentation/#producerconfigs_reconnect.backoff.ms",
"title": "reconnect.backoff.ms"
}
],
"text": "The Failed authentication ... Too many connects error indicates that a broker is protecting itself because one or more IAM clients are trying to connect to it at an aggressive rate. To help brokers accept a higher rate of new IAM connections, you can increase the reconnect.backoff.ms configuration parameter.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshoot-too-many-connects",
"main_header": "Failed authentication: Too many connects",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#troubleshooting",
"text": "Troubleshooting Your Amazon MSK Cluster"
},
"h2": {
"urllink": "#troubleshoot-too-many-connects",
"text": "Failed authentication: Too many connects"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/limits.html",
"title": "Amazon MSK Quota"
}
],
"text": "To learn more about the rate limits for new connections per broker, see the Amazon MSK Quota page.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/troubleshooting.html#troubleshoot-too-many-connects",
"main_header": "Failed authentication: Too many connects",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"links": [],
"text": "This topic outlines some best practices to follow when using Amazon MSK.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#bestpractices",
"main_header": "Best Practices",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#partitions-per-broker",
"text": "Right-size your cluster: Number of partitions per broker"
},
"links": [],
"text": "The following table shows the maximum number of partitions (including leader and follower replicas) that you can have per broker.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#partitions-per-broker",
"main_header": "Right-size your cluster: Number of partitions per broker",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#partitions-per-broker",
"text": "Right-size your cluster: Number of partitions per broker"
},
"links": [],
"text": "If the number of partitions per broker exceeds the maximum value specified in the previous table, you cannot perform any of the following operations on the cluster:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#partitions-per-broker",
"main_header": "Right-size your cluster: Number of partitions per broker",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#partitions-per-broker",
"text": "Right-size your cluster: Number of partitions per broker"
},
"links": [
{
"url": "https://blogs.apache.org/kafka/entry/apache-kafka-supports-more-partitions",
"title": "Apache Kafka Supports 200K Partitions Per Cluster"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-create-cluster.html#broker-instance-types",
"title": "Broker types"
}
],
"text": "For guidance on choosing the number of partitions, see Apache Kafka Supports 200K Partitions Per Cluster. We also recommend that you perform your own testing to determine the right type for your brokers. For more information about the different broker types, see Broker types.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#partitions-per-broker",
"main_header": "Right-size your cluster: Number of partitions per broker",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#brokers-per-cluster",
"text": "Right-size your cluster: Number of brokers per cluster"
},
"links": [
{
"url": "https://dy7oqpxkwhskb.cloudfront.net/MSK_Sizing_Pricing.xlsx",
"title": "MSK Sizing and Pricing"
}
],
"text": "To determine the right number of brokers for your MSK cluster and understand costs, see the MSK Sizing and Pricing spreadsheet. This spreadsheet provides an estimate for sizing an MSK cluster and the associated costs of Amazon MSK compared to a similar, self-managed, EC2-based Apache Kafka cluster. For more information about the input parameters in the spreadsheet, hover over the parameter descriptions. Estimates provided by this sheet are conservative and provide a starting point for a new cluster. Cluster performance, size, and costs are dependent on your use case and we recommend that you verify them with actual testing.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#brokers-per-cluster",
"main_header": "Right-size your cluster: Number of brokers per cluster",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#brokers-per-cluster",
"text": "Right-size your cluster: Number of brokers per cluster"
},
"links": [
{
"url": "http://aws.amazon.com/blogs/big-data/best-practices-for-right-sizing-your-apache-kafka-clusters-to-optimize-performance-and-cost/",
"title": "Best practices for right-sizing your Apache Kafka clusters to optimize performance and cost"
}
],
"text": "To understand how the underlying infrastructure affects Apache Kafka performance, see Best practices for right-sizing your Apache Kafka clusters to optimize performance and cost in the AWS Big Data Blog. The blog post provides information about how to size your clusters to meet your throughput, availability, and latency requirements. It also provides answers to questions such as when you should scale up versus scale out, and guidance on how to continuously verify the size of your production clusters.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#brokers-per-cluster",
"main_header": "Right-size your cluster: Number of brokers per cluster",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#ensure-high-availability",
"text": "Build highly available clusters"
},
"links": [],
"text": "Use the following recommendations so that your MSK cluster can be highly available during an update (such as when you're updating the broker type or Apache Kafka version, for example) or when Amazon MSK is replacing a broker.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#ensure-high-availability",
"main_header": "Build highly available clusters",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#bestpractices-monitor-cpu",
"text": "Monitor CPU usage"
},
"links": [],
"text": "Amazon MSK strongly recommends that you maintain the total CPU utilization for your brokers (defined as CPU User + CPU System) under 60%. When you have at least 40% of your cluster\u00e2\u0080\u0099s total CPU available, Apache Kafka can redistribute CPU load across brokers in the cluster when necessary. One example of when this is necessary is when Amazon MSK detects and recovers from a broker fault; in this case, Amazon MSK performs automatic maintenance, like patching. Another example is when a user requests a broker-type change or version upgrade; in these two cases, Amazon MSK deploys rolling workflows that take one broker offline at a time. When brokers with lead partitions go offline, Apache Kafka reassigns partition leadership to redistribute work to other brokers in the cluster. By following this best practice you can ensure you have enough CPU headroom in your cluster to tolerate operational events like these.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#bestpractices-monitor-cpu",
"main_header": "Monitor CPU usage",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#bestpractices-monitor-cpu",
"text": "Monitor CPU usage"
},
"links": [
{
"url": "https://docs.aws.amazon.com//AmazonCloudWatch/latest/monitoring/using-metric-math.html",
"title": "Amazon CloudWatch metric math"
}
],
"text": "You can use Amazon CloudWatch metric math to create a composite metric that is CPU User + CPU System. Set an alarm that gets triggered when the composite metric reaches an average CPU utilization of 60%. When this alarm is triggered, scale the cluster using one of the following options:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#bestpractices-monitor-cpu",
"main_header": "Monitor CPU usage",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#bestpractices-monitor-cpu",
"text": "Monitor CPU usage"
},
"links": [],
"text": "Other recommendations:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#bestpractices-monitor-cpu",
"main_header": "Monitor CPU usage",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#bestpractices-monitor-disk-space",
"text": "Monitor disk space"
},
"links": [],
"text": "To avoid running out of disk space for messages, create a CloudWatch alarm that watches the KafkaDataLogsDiskUsed metric. When the value of this metric reaches or exceeds 85%, perform one or more of the following actions:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#bestpractices-monitor-disk-space",
"main_header": "Monitor disk space",
"images": [],
"container_type": "p",
"children_tags": [
"code"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#bestpractices-monitor-disk-space",
"text": "Monitor disk space"
},
"links": [
{
"url": "https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/AlarmThatSendsEmail.html",
"title": "Using Amazon CloudWatch Alarms"
},
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/monitoring.html",
"title": "Monitoring an Amazon MSK Cluster"
}
],
"text": "For information on how to set up and use alarms, see Using Amazon CloudWatch Alarms. For a full list of Amazon MSK metrics, see Monitoring an Amazon MSK Cluster.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#bestpractices-monitor-disk-space",
"main_header": "Monitor disk space",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#bestpractices-retention-period",
"text": "Adjust data retention parameters"
},
"links": [],
"text": "Consuming messages doesn't remove them from the log. To free up disk space regularly, you can explicitly specify a retention time period, which is how long messages stay in the log. You can also specify a retention log size. When either the retention time period or the retention log size are reached, Apache Kafka starts removing inactive segments from the log.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#bestpractices-retention-period",
"main_header": "Adjust data retention parameters",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#bestpractices-retention-period",
"text": "Adjust data retention parameters"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-configuration-properties.html",
"title": "Custom MSK Configurations"
}
],
"text": "To specify a retention policy at the cluster level, set one or more of the following parameters: log.retention.hours, log.retention.minutes, log.retention.ms, or log.retention.bytes. For more information, see Custom MSK Configurations.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#bestpractices-retention-period",
"main_header": "Adjust data retention parameters",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#bestpractices-retention-period",
"text": "Adjust data retention parameters"
},
"links": [],
"text": "You can also specify retention parameters at the topic level:",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#bestpractices-retention-period",
"main_header": "Adjust data retention parameters",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#bestpractices-retention-period",
"text": "Adjust data retention parameters"
},
"links": [],
"text": "The retention parameters that you specify at the topic level take precedence over cluster-level parameters.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#bestpractices-retention-period",
"main_header": "Adjust data retention parameters",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#bestpractices-non-msk-brokders",
"text": "Don't add non-MSK brokers"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/operations.html",
"title": "Amazon MSK: How It Works"
}
],
"text": "If you use Apache ZooKeeper commands to add brokers, these brokers don't get added to your MSK cluster, and your Apache ZooKeeper will contain incorrect information about the cluster. This might result in data loss. For supported cluster operations, see Amazon MSK: How It Works.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#bestpractices-non-msk-brokders",
"main_header": "Don't add non-MSK brokers",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#bestpractices-enable-in-transit-encryption",
"text": "Enable in-transit encryption"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-encryption.html#msk-encryption-in-transit",
"title": "Encryption in Transit"
}
],
"text": "For information about encryption in transit and how to enable it, see Encryption in Transit.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#bestpractices-enable-in-transit-encryption",
"main_header": "Enable in-transit encryption",
"images": [],
"container_type": "p",
"children_tags": [
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#bestpractices",
"text": "Best Practices"
},
"h2": {
"urllink": "#bestpractices-balance-cluster",
"text": "Reassign partitions"
},
"links": [
{
"url": "https://docs.aws.amazon.com/msk/latest/developerguide/msk-update-broker-count.html",
"title": "Expanding an Amazon MSK Cluster"
},
{
"url": "https://kafka.apache.org/documentation/#basic_ops_cluster_expansion",
"title": "Expanding your cluster"
}
],
"text": "To move partitions to different brokers on the same cluster, you can use the partition reassignment tool named kafka-reassign-partitions.sh. For example, after you add new brokers to expand a cluster, you can rebalance that cluster by reassigning partitions to the new brokers. For information about how to add brokers to a cluster, see Expanding an Amazon MSK Cluster. For information about the partition reassignment tool, see Expanding your cluster in the Apache Kafka documentation.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/bestpractices.html#bestpractices-balance-cluster",
"main_header": "Reassign partitions",
"images": [],
"container_type": "p",
"children_tags": [
"code",
"a"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#doc-history",
"text": "Document History for Amazon MSK Developer Guide"
},
"links": [],
"text": "The following table describes the important changes to the Amazon MSK Developer Guide.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/doc-history.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/doc-history.html#doc-history",
"main_header": "Document History for Amazon MSK Developer Guide",
"images": [],
"container_type": "p",
"children_tags": [],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#doc-history",
"text": "Document History for Amazon MSK Developer Guide"
},
"links": [],
"text": "Latest documentation update: September 30, 2020",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/doc-history.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/doc-history.html#doc-history",
"main_header": "Document History for Amazon MSK Developer Guide",
"images": [],
"container_type": "p",
"children_tags": [
"b"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
},
{
"h1": {
"urllink": "#glossary",
"text": "AWS glossary"
},
"links": [
{
"url": "https://docs.aws.amazon.com/general/latest/gr/glos-chap.html",
"title": "AWS glossary"
}
],
"text": "For the latest AWS terminology, see the AWS glossary in the AWS General Reference.",
"base_url": "https://docs.aws.amazon.com/msk/latest/developerguide/glossary.html",
"main_url": "https://docs.aws.amazon.com/msk/latest/developerguide/glossary.html#glossary",
"main_header": "AWS glossary",
"images": [],
"container_type": "p",
"children_tags": [
"a",
"em"
],
"aws_service": "kafka",
"aws_guide": "developer",
"headers": []
}
]